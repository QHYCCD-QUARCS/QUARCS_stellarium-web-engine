{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/Chart-Focus.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/Chart-Focus.vue","mtime":1760160652007},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1756885033541},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1756885034172},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1756885033526},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1756885033541},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1756885034208}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3F1YXJjcy93b3Jrc3BhY2UvUVVBUkNTL1FVQVJDU19zdGVsbGFyaXVtLXdlYi1lbmdpbmUvYXBwcy93ZWItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9ob21lL3F1YXJjcy93b3Jrc3BhY2UvUVVBUkNTL1FVQVJDU19zdGVsbGFyaXVtLXdlYi1lbmdpbmUvYXBwcy93ZWItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5pcy1maW5pdGUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMaW5lQ2hhcnQnLAogIHByb3BzOiB7CiAgICAvLyDmmK/lkKbkvb/nlKjml7bpl7TovbTmqKHlvI/vvIjkuZ/lj6/pgJrov4fmgLvnur8gc2V0Rm9jdXNDaGFydFRpbWVNb2RlIOWIh+aNou+8iQogICAgdXNlVGltZUF4aXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDml7bpl7Tnqpflj6Pplb/luqbvvIjnp5LvvInvvIzku4XlnKjml7bpl7TovbTmqKHlvI/kuIvnlJ/mlYgKICAgIHRpbWVXaW5kb3dTZWM6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA2MAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhaW5lck1heFdpZHRoOiAxNTAsCiAgICAgIC8vIOmdnuaXtumXtOi9tO+8muaVo+eCueaVsOaNru+8iHgg5Li655S16LCD5L2N572u77yJCiAgICAgIGNoYXJ0RGF0YTFfcG9zOiBbXSwKICAgICAgLy8g5pe26Ze06L2077ya5pWj54K55pWw5o2u77yIeCDkuLrml7bpl7TmiLPvvIkKICAgICAgY2hhcnREYXRhMV90aW1lOiBbXSwKICAgICAgY2hhcnREYXRhMjogW10sCiAgICAgIGNoYXJ0RGF0YTM6IFtdLAogICAgICBjaGFydERhdGE0OiBbXSwKICAgICAgLy8g5byC5bi454K55pWw5o2uCiAgICAgIHhBeGlzX21pbjogMCwKICAgICAgeEF4aXNfbWF4OiA2MDAwLAogICAgICB5QXhpc19taW46IDAsCiAgICAgIHlBeGlzX21heDogMzAsCiAgICAgIHJhbmdlOiA0LAogICAgICBjdXJyZW50WDogMCwKICAgICAgSEZSTWF4OiAwLAogICAgICBpc0RyYWdnaW5nOiBmYWxzZSwKICAgICAgc3RhcnRYOiAwLAogICAgICBkZWx0YVg6IDAsCiAgICAgIHhfbWluOiAtNjAwMDAsCiAgICAgIHhfbWF4OiA2MDAwMCwKICAgICAgLy8g5pe26Ze06L205qih5byPCiAgICAgIGlzVGltZU1vZGU6IGZhbHNlLAogICAgICB0aW1lVGlja2VyOiBudWxsLAogICAgICAvLyDlj6/op4HmgKfmjqfliLYKICAgICAgaXNWaXNpYmxlOiBmYWxzZSwKICAgICAgaW9PYnNlcnZlcjogbnVsbCwKICAgICAgLy8g5riy5p+T6LCD5bqmCiAgICAgIHJlbmRlclJhZklkOiBudWxsLAogICAgICByZW5kZXJTY2hlZHVsZWQ6IGZhbHNlLAogICAgICBwZW5kaW5nTG93ZXJCb3VuZDogbnVsbCwKICAgICAgcGVuZGluZ1VwcGVyQm91bmQ6IG51bGwsCiAgICAgIC8vIOiwg+ivleaXpeW/l+W8gOWFswogICAgICBkZWJ1Z1JlbmRlckxvZ3M6IGZhbHNlLAogICAgICAvLyDnur/mnaHmlbDmja7mnaXmupDvvJroi6XkuLogbnVsbCDliJnkvb/nlKggcXVhZHJhdGljUGFyYW1zIOWKqOaAgemHh+agtwogICAgICBsaW5lRGF0YUZyb21Qb2ludHM6IG51bGwsCiAgICAgIHF1YWRyYXRpY1BhcmFtczogbnVsbCwKICAgICAgLy8geyBhLGIsYyx4MD8gfQogICAgICAvLyDkuozmrKHmi5/lkIjnu5PmnpzmmL7npLoKICAgICAgcXVhZHJhdGljUmVzdWx0OiB7CiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgYTogJzAuMDAwMDAwJywKICAgICAgICBiOiAnMC4wMDAwMDAnLAogICAgICAgIGM6ICcwLjAwMDAwMCcsCiAgICAgICAgYmVzdFBvc2l0aW9uOiAnMC4wMCcsCiAgICAgICAgbWluSEZSOiAnMC4wMDAnCiAgICAgIH0sCiAgICAgIC8vIOaXpeW/l+iusOW9leWZqAogICAgICBsb2dnZXI6IHsKICAgICAgICBpbmZvOiBmdW5jdGlvbiBpbmZvKG1zZywgZGF0YSkgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKG1zZywgZGF0YSB8fCAnJyk7CiAgICAgICAgfSwKICAgICAgICB3YXJuOiBmdW5jdGlvbiB3YXJuKG1zZywgZGF0YSkgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2Fybihtc2csIGRhdGEgfHwgJycpOwogICAgICAgIH0sCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKG1zZywgZGF0YSkgewogICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IobXNnLCBkYXRhIHx8ICcnKTsKICAgICAgICB9LAogICAgICAgIGRlYnVnOiBmdW5jdGlvbiBkZWJ1Zyhtc2csIGRhdGEpIHsKICAgICAgICAgIHJldHVybiBjb25zb2xlLmRlYnVnKG1zZywgZGF0YSB8fCAnJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOiuoeeul+acieaViOaVsOaNrueCueaVsOmHjwogICAgdmFsaWREYXRhUG9pbnRDb3VudDogZnVuY3Rpb24gdmFsaWREYXRhUG9pbnRDb3VudCgpIHsKICAgICAgdmFyIGN1cnJlbnREYXRhID0gdGhpcy5pc1RpbWVNb2RlID8gdGhpcy5jaGFydERhdGExX3RpbWUgOiB0aGlzLmNoYXJ0RGF0YTFfcG9zOwogICAgICByZXR1cm4gY3VycmVudERhdGEubGVuZ3RoOwogICAgfSwKICAgIC8vIOiuoeeul+W8guW4uOeCueaVsOaNrgogICAgb3V0bGllckRhdGFQb2ludHM6IGZ1bmN0aW9uIG91dGxpZXJEYXRhUG9pbnRzKCkgewogICAgICB2YXIgY3VycmVudERhdGEgPSB0aGlzLmlzVGltZU1vZGUgPyB0aGlzLmNoYXJ0RGF0YTFfdGltZSA6IHRoaXMuY2hhcnREYXRhMV9wb3M7CiAgICAgIGlmIChjdXJyZW50RGF0YS5sZW5ndGggPCA0KSByZXR1cm4gW107IC8vIOi/memHjOWPr+S7pea3u+WKoOW8guW4uOeCueajgOa1i+mAu+i+ke+8jOaaguaXtui/lOWbnuepuuaVsOe7hAoKICAgICAgcmV0dXJuIFtdOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy8g5qC55o2u5Y+v6KeB5oCn5ZCv5YqoL+WBnOatouaXtumXtOaOqOi/mwogICAgdmFyIGVsID0gdGhpcy4kcmVmcy5saW5lY2hhcnQ7CgogICAgaWYgKHdpbmRvdyAmJiAnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdyAmJiBlbCkgewogICAgICB0aGlzLmlvT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHsKICAgICAgICB2YXIgZSA9IGVudHJpZXNbMF07CiAgICAgICAgX3RoaXMuaXNWaXNpYmxlID0gISEoZSAmJiBlLmlzSW50ZXJzZWN0aW5nKTsKCiAgICAgICAgX3RoaXMudXBkYXRlVGlja2VyQnlWaXNpYmlsaXR5KCk7CiAgICAgIH0sIHsKICAgICAgICB0aHJlc2hvbGQ6IDAuMDEKICAgICAgfSk7CiAgICAgIHRoaXMuaW9PYnNlcnZlci5vYnNlcnZlKGVsKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIOWbnumAgO+8muS4jeWPr+ingeaAp+acquefpeaXtuinhuS4uuWPr+ingQogICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7CiAgICB9CgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudXBkYXRlVGlja2VyQnlWaXNpYmlsaXR5KTsgLy8g5Yid5aeL5YyW5pe26Ze06L205qih5byP77yI55SxIHByb3Ag5o6n5Yi277yJCgogICAgdGhpcy5pc1RpbWVNb2RlID0gISF0aGlzLnVzZVRpbWVBeGlzOwogICAgdGhpcy51cGRhdGVUaWNrZXJCeVZpc2liaWxpdHkoKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCdGb2N1c1Bvc2l0aW9uJywgdGhpcy5jaGFuZ2VSYW5nZV94KTsgLy8gdGhpcy4kYnVzLiRvbignVXBkYXRlSEZSJywgdGhpcy5VcGRhdGVIRlIpOwoKICAgIHRoaXMuJGJ1cy4kb24oJ2ZpdFF1YWRyYXRpY0N1cnZlJywgdGhpcy5maXRRdWFkcmF0aWNDdXJ2ZSk7CiAgICB0aGlzLiRidXMuJG9uKCdmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCcsIHRoaXMuZml0UXVhZHJhdGljQ3VydmVfbWluUG9pbnQpOwogICAgdGhpcy4kYnVzLiRvbignQ2xlYXJmaXRRdWFkcmF0aWNDdXJ2ZScsIHRoaXMuY2xlYXJDaGFydERhdGEyKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0NsZWFyQWxsRGF0YScsIHRoaXMuQ2xlYXJBbGxEYXRhKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0NsZWFyRmluZURhdGEnLCB0aGlzLkNsZWFyRmluZURhdGEpOwogICAgdGhpcy4kYnVzLiRvbigndXBkYXRlRm9jdXNDaGFydFdpZHRoJywgdGhpcy5pbml0Q2hhcnQpOwogICAgdGhpcy4kYnVzLiRvbignYWRkRGF0YV9Qb2ludCcsIHRoaXMuYWRkRGF0YV9Qb2ludCk7CiAgICB0aGlzLiRidXMuJG9uKCdhZGRNaW5Qb2ludERhdGFfUG9pbnQnLCB0aGlzLmFkZE1pblBvaW50RGF0YV9Qb2ludCk7CiAgICB0aGlzLiRidXMuJG9uKCdhZGRMaW5lRGF0YV9Qb2ludCcsIHRoaXMuYWRkTGluZURhdGFfUG9pbnQpOwogICAgdGhpcy4kYnVzLiRvbignc2V0Rm9jdXNDaGFydFJhbmdlJywgdGhpcy5zZXRGb2N1c0NoYXJ0UmFuZ2UpOyAvLyDmlrDlop7vvJrml7bpl7TovbTmqKHlvI/mjqfliLbkuI7ngrnov73liqAKCiAgICB0aGlzLiRidXMuJG9uKCdzZXRGb2N1c0NoYXJ0VGltZU1vZGUnLCB0aGlzLnNldFRpbWVNb2RlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ2FkZEZ3aG1Ob3cnLCB0aGlzLmFkZEZ3aG1Qb2ludE5vdyk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy50ZWFyZG93bkJ1c0FuZFRpbWVycygpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLnRlYXJkb3duQnVzQW5kVGltZXJzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmo4Dmn6XmmK/lkKbkuLrmsLTlubPmi5/lkIjvvIjnur/mgKfmi5/lkIjvvIkKICAgIGlzSG9yaXpvbnRhbEZpdDogZnVuY3Rpb24gaXNIb3Jpem9udGFsRml0KCkgewogICAgICByZXR1cm4gdGhpcy5xdWFkcmF0aWNSZXN1bHQuYSA9PT0gIjAuMDAwMDAwIiB8fCBNYXRoLmFicyhwYXJzZUZsb2F0KHRoaXMucXVhZHJhdGljUmVzdWx0LmEpKSA8IDFlLTEwOwogICAgfSwKICAgIC8vIOiOt+WPluacgOS9s+S9jee9ruaYvuekuuaWh+acrAogICAgZ2V0QmVzdFBvc2l0aW9uRGlzcGxheTogZnVuY3Rpb24gZ2V0QmVzdFBvc2l0aW9uRGlzcGxheSgpIHsKICAgICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsRml0KCkpIHsKICAgICAgICByZXR1cm4gIue6v+aAp+aLn+WQiCI7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnF1YWRyYXRpY1Jlc3VsdC5iZXN0UG9zaXRpb247CiAgICB9LAogICAgLy8g5YWz6Zet6Z2i5p2/CiAgICBjbG9zZVBhbmVsOiBmdW5jdGlvbiBjbG9zZVBhbmVsKCkgewogICAgICB0aGlzLnF1YWRyYXRpY1Jlc3VsdC5zaG93ID0gZmFsc2U7CiAgICB9LAogICAgLy8g6aqM6K+B5ouf5ZCI57O75pWw55qE5pyJ5pWI5oCnCiAgICB2YWxpZGF0ZUZpdENvZWZmaWNpZW50czogZnVuY3Rpb24gdmFsaWRhdGVGaXRDb2VmZmljaWVudHMoYSwgYiwgYykgewogICAgICAvLyDmo4Dmn6Xns7vmlbDmmK/lkKbkuLrmnInmlYjmlbDlrZcKICAgICAgaWYgKCFpc0Zpbml0ZShhKSB8fCAhaXNGaW5pdGUoYikgfHwgIWlzRmluaXRlKGMpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIOajgOafpeaYr+WQpuS4uuawtOW5s+e6v+aLn+WQiO+8iGHmjqXov5Ew77yJCgoKICAgICAgaWYgKE1hdGguYWJzKGEpIDwgMWUtMTApIHsKICAgICAgICByZXR1cm4gZmFsc2U7IC8vIOawtOW5s+e6v+aLn+WQiAogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICB0ZWFyZG93bkJ1c0FuZFRpbWVyczogZnVuY3Rpb24gdGVhcmRvd25CdXNBbmRUaW1lcnMoKSB7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdGb2N1c1Bvc2l0aW9uJywgdGhpcy5jaGFuZ2VSYW5nZV94KTsKICAgICAgdGhpcy4kYnVzLiRvZmYoJ0NsZWFyZml0UXVhZHJhdGljQ3VydmUnLCB0aGlzLmNsZWFyQ2hhcnREYXRhMik7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdDbGVhckFsbERhdGEnLCB0aGlzLkNsZWFyQWxsRGF0YSk7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCd1cGRhdGVGb2N1c0NoYXJ0V2lkdGgnLCB0aGlzLmluaXRDaGFydCk7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdhZGREYXRhX1BvaW50JywgdGhpcy5hZGREYXRhX1BvaW50KTsKICAgICAgdGhpcy4kYnVzLiRvZmYoJ2FkZE1pblBvaW50RGF0YV9Qb2ludCcsIHRoaXMuYWRkTWluUG9pbnREYXRhX1BvaW50KTsKICAgICAgdGhpcy4kYnVzLiRvZmYoJ2FkZExpbmVEYXRhX1BvaW50JywgdGhpcy5hZGRMaW5lRGF0YV9Qb2ludCk7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdhZGRRdWFkcmF0aWNDdXJ2ZScsIHRoaXMuYWRkTGluZURhdGFfUG9pbnQpOwogICAgICB0aGlzLiRidXMuJG9mZignc2V0Rm9jdXNDaGFydFJhbmdlJywgdGhpcy5zZXRGb2N1c0NoYXJ0UmFuZ2UpOwogICAgICB0aGlzLiRidXMuJG9mZignc2V0Rm9jdXNDaGFydFRpbWVNb2RlJywgdGhpcy5zZXRUaW1lTW9kZSk7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdhZGRGd2htTm93JywgdGhpcy5hZGRGd2htUG9pbnROb3cpOwoKICAgICAgaWYgKHRoaXMudGltZVRpY2tlcikgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lVGlja2VyKTsKICAgICAgICB0aGlzLnRpbWVUaWNrZXIgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy5pb09ic2VydmVyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuaW9PYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgdGhpcy5pb09ic2VydmVyID0gbnVsbDsKICAgICAgfQoKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudXBkYXRlVGlja2VyQnlWaXNpYmlsaXR5KTsKICAgIH0sCiAgICBpbml0Q2hhcnQ6IGZ1bmN0aW9uIGluaXRDaGFydChXaWR0aCkgewogICAgICB0aGlzLmNvbnRhaW5lck1heFdpZHRoID0gV2lkdGggLSA5NTsKICAgICAgdmFyIGNoYXJ0RG9tID0gdGhpcy4kcmVmcy5saW5lY2hhcnQ7CiAgICAgIGNoYXJ0RG9tLnN0eWxlLndpZHRoID0gdGhpcy5jb250YWluZXJNYXhXaWR0aCArICdweCc7CiAgICAgIHRoaXMubXlDaGFydCA9IGVjaGFydHMuaW5pdChjaGFydERvbSk7CiAgICAgIHRoaXMucmVuZGVyQ2hhcnQodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICBzdGFydERyYWc6IGZ1bmN0aW9uIHN0YXJ0RHJhZyhldmVudCkgewogICAgICBpZiAodGhpcy5pc1RpbWVNb2RlKSByZXR1cm47IC8vIOaXtumXtOi9tOaooeW8j+S4i+emgeeUqOaLluaLvQoKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTsKICAgICAgdmFyIHggPSB0aGlzLmdldENsaWVudFgoZXZlbnQpOwogICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB0aGlzLnN0YXJ0WCA9IHg7CiAgICB9LAogICAgZHJhZ2dpbmc6IGZ1bmN0aW9uIGRyYWdnaW5nKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcgJiYgIXRoaXMuaXNUaW1lTW9kZSkgewogICAgICAgIHZhciB4ID0gdGhpcy5nZXRDbGllbnRYKGV2ZW50KTsKICAgICAgICBpZiAodHlwZW9mIHggIT09ICdudW1iZXInKSByZXR1cm47CiAgICAgICAgdGhpcy5kZWx0YVggPSAoeCAtIHRoaXMuc3RhcnRYKSAqIDEwOwogICAgICAgIHRoaXMuc3RhcnRYID0geDsKICAgICAgICB2YXIgd2luZG93V2lkdGggPSB0aGlzLnhBeGlzX21heCAtIHRoaXMueEF4aXNfbWluOyAvLyDorqHnrpfmlrDnmoTojIPlm7TlubblgZrovrnnlYzoo4HliaoKCiAgICAgICAgdmFyIG5ld01pbiA9IHRoaXMueEF4aXNfbWluIC0gdGhpcy5kZWx0YVg7CiAgICAgICAgdmFyIG1pbkFsbG93ZWQgPSB0aGlzLnhfbWluOwogICAgICAgIHZhciBtYXhBbGxvd2VkID0gdGhpcy54X21heCAtIHdpbmRvd1dpZHRoOwoKICAgICAgICBpZiAobWF4QWxsb3dlZCA8IG1pbkFsbG93ZWQpIHsKICAgICAgICAgIC8vIOWuieWFqOWkhOeQhu+8muiLpeiuvue9ruS4jeWQiOeQhu+8jOWbnumAgOWIsOS4jeenu+WKqAogICAgICAgICAgbmV3TWluID0gdGhpcy54X21pbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV3TWluID0gTWF0aC5tYXgobWluQWxsb3dlZCwgTWF0aC5taW4obWF4QWxsb3dlZCwgbmV3TWluKSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnhBeGlzX21pbiA9IG5ld01pbjsKICAgICAgICB0aGlzLnhBeGlzX21heCA9IG5ld01pbiArIHdpbmRvd1dpZHRoOwogICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgICAgfQogICAgfSwKICAgIGdldENsaWVudFg6IGZ1bmN0aW9uIGdldENsaWVudFgoZSkgewogICAgICBpZiAoZSAmJiBlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCkgcmV0dXJuIGUudG91Y2hlc1swXS5jbGllbnRYOwogICAgICBpZiAoZSAmJiBlLmNoYW5nZWRUb3VjaGVzICYmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSByZXR1cm4gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYOwogICAgICBpZiAodHlwZW9mIGUuY2xpZW50WCA9PT0gJ251bWJlcicpIHJldHVybiBlLmNsaWVudFg7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9LAogICAgZW5kRHJhZzogZnVuY3Rpb24gZW5kRHJhZygpIHsKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgIHRoaXMuZGVsdGFYID0gMDsgLy8gdGhpcy4kYnVzLiRlbWl0KCdzZXRUYXJnZXRQb3NpdGlvbicsICh0aGlzLnhBeGlzX21pbiArIHRoaXMueEF4aXNfbWF4KSAvIDIpOwogICAgfSwKICAgIHNjaGVkdWxlUmVuZGVyOiBmdW5jdGlvbiBzY2hlZHVsZVJlbmRlcihsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5wZW5kaW5nTG93ZXJCb3VuZCA9IGxvd2VyQm91bmQ7CiAgICAgIHRoaXMucGVuZGluZ1VwcGVyQm91bmQgPSB1cHBlckJvdW5kOwogICAgICBpZiAodGhpcy5yZW5kZXJTY2hlZHVsZWQpIHJldHVybjsKICAgICAgdGhpcy5yZW5kZXJTY2hlZHVsZWQgPSB0cnVlOwoKICAgICAgdmFyIGNiID0gZnVuY3Rpb24gY2IoKSB7CiAgICAgICAgX3RoaXMyLnJlbmRlclJhZklkID0gbnVsbDsKICAgICAgICBfdGhpczIucmVuZGVyU2NoZWR1bGVkID0gZmFsc2U7CgogICAgICAgIF90aGlzMi5yZW5kZXJDaGFydChfdGhpczIucGVuZGluZ0xvd2VyQm91bmQsIF90aGlzMi5wZW5kaW5nVXBwZXJCb3VuZCk7CiAgICAgIH07CgogICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkgewogICAgICAgIHRoaXMucmVuZGVyUmFmSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlm57pgIDvvJrml6AgckFGIOaXtu+8jOS9v+eUqOW+ruS7u+WKoemZjeS9jumYu+WhngogICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oY2IpOwogICAgICB9CiAgICB9LAogICAgcmVuZGVyQ2hhcnQ6IGZ1bmN0aW9uIHJlbmRlckNoYXJ0KGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHsKICAgICAgdmFyIGRhdGExID0gdGhpcy5pc1RpbWVNb2RlID8gdGhpcy5jaGFydERhdGExX3RpbWUgOiB0aGlzLmNoYXJ0RGF0YTFfcG9zOwogICAgICB2YXIgeV9tYXggPSBkYXRhMS5sZW5ndGggPiAwID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGExLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtWzFdOwogICAgICB9KSkpICogMiA6IHRoaXMueUF4aXNfbWF4OyAvLyDnur/mlbDmja7vvJroi6XkvKDlhaXns7vmlbDvvIzliJnmoLnmja7lvZPliY3op4blm77ojIPlm7TliqjmgIHph4fmoLfvvIzpgb/lhY3mi5bliqjlkI7mlq3oo4LmiJbmtojlpLEKCiAgICAgIHZhciBkZWNEYXRhID0gW107CgogICAgICBpZiAoIXRoaXMuaXNUaW1lTW9kZSkgewogICAgICAgIGlmICh0aGlzLmxpbmVEYXRhRnJvbVBvaW50cyAmJiBBcnJheS5pc0FycmF5KHRoaXMubGluZURhdGFGcm9tUG9pbnRzKSkgewogICAgICAgICAgZGVjRGF0YSA9IHRoaXMubGluZURhdGFGcm9tUG9pbnRzOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5xdWFkcmF0aWNQYXJhbXMpIHsKICAgICAgICAgIHZhciBfdGhpcyRxdWFkcmF0aWNQYXJhbXMgPSB0aGlzLnF1YWRyYXRpY1BhcmFtcywKICAgICAgICAgICAgICBhID0gX3RoaXMkcXVhZHJhdGljUGFyYW1zLmEsCiAgICAgICAgICAgICAgYiA9IF90aGlzJHF1YWRyYXRpY1BhcmFtcy5iLAogICAgICAgICAgICAgIGMgPSBfdGhpcyRxdWFkcmF0aWNQYXJhbXMuYywKICAgICAgICAgICAgICB4MCA9IF90aGlzJHF1YWRyYXRpY1BhcmFtcy54MDsKCiAgICAgICAgICBpZiAoaXNGaW5pdGUoYSkgJiYgaXNGaW5pdGUoYikgJiYgaXNGaW5pdGUoYykpIHsKICAgICAgICAgICAgZGVjRGF0YSA9IHRoaXMuZ2VuZXJhdGVRdWFkcmF0aWNEYXRhKGEsIGIsIGMsIGxvd2VyQm91bmQsIHVwcGVyQm91bmQsIGlzRmluaXRlKHgwKSA/IHgwIDogMCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlY0RhdGEgPSB0aGlzLmNoYXJ0RGF0YTI7IC8vIOWFvOWuueaXp+mAu+i+kQogICAgICAgIH0KICAgICAgfSAvLyDosIPor5Xml6Xlv5cKCgogICAgICBpZiAodGhpcy5kZWJ1Z1JlbmRlckxvZ3MgJiYgdGhpcy5pc1RpbWVNb2RlICYmIGRhdGExLmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zb2xlLmxvZygnQ2hhcnQtRm9jdXM6IHJlbmRlckNoYXJ0ICh0aW1lIG1vZGUpJywgewogICAgICAgICAgZGF0YVBvaW50czogZGF0YTEubGVuZ3RoLAogICAgICAgICAgbGF0ZXN0UG9pbnQ6IGRhdGExW2RhdGExLmxlbmd0aCAtIDFdLAogICAgICAgICAgeV9tYXg6IHlfbWF4CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBvcHRpb25YQXhpcyA9IHRoaXMuaXNUaW1lTW9kZSA/IHsKICAgICAgICB0eXBlOiAndGltZScsCiAgICAgICAgbWluOiBEYXRlLm5vdygpIC0gdGhpcy50aW1lV2luZG93U2VjICogMTAwMCwKICAgICAgICBtYXg6IERhdGUubm93KCksCiAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICBjb2xvcjogJ3doaXRlJywKICAgICAgICAgIGZvbnRTaXplOiA1LAogICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIodmFsdWUpIHsKICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSh2YWx1ZSk7CgogICAgICAgICAgICB2YXIgcGFkID0gZnVuY3Rpb24gcGFkKG4pIHsKICAgICAgICAgICAgICByZXR1cm4gbiA8IDEwID8gJzAnICsgbiA6ICcnICsgbjsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiBwYWQoZC5nZXRIb3VycygpKSArICc6JyArIHBhZChkLmdldE1pbnV0ZXMoKSkgKyAnOicgKyBwYWQoZC5nZXRTZWNvbmRzKCkpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXhpc0xpbmU6IHsKICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjAwLCAyMDAsIDIwMCwgMC41KScKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNwbGl0TGluZTogewogICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KScsCiAgICAgICAgICAgIHdpZHRoOiAxLAogICAgICAgICAgICB0eXBlOiAnc29saWQnCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IDogewogICAgICAgIHR5cGU6ICd2YWx1ZScsCiAgICAgICAgbWluOiBsb3dlckJvdW5kLAogICAgICAgIG1heDogdXBwZXJCb3VuZCwKICAgICAgICBheGlzTGluZTogewogICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyMDAsIDIwMCwgMjAwLCAwLjUpJwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICBjb2xvcjogJ3doaXRlJywKICAgICAgICAgIGZvbnRTaXplOiA1CiAgICAgICAgfSwKICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDEyOCwgMTI4LCAxMjgsIDAuNSknLAogICAgICAgICAgICB3aWR0aDogMSwKICAgICAgICAgICAgdHlwZTogJ3NvbGlkJwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIG9wdGlvbiA9IHsKICAgICAgICBncmlkOiB7CiAgICAgICAgICBsZWZ0OiAnMCUnLAogICAgICAgICAgcmlnaHQ6ICcyJScsCiAgICAgICAgICBib3R0b206ICcwJScsCiAgICAgICAgICB0b3A6ICcxMCUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogb3B0aW9uWEF4aXMsCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIG1pbjogdGhpcy55QXhpc19taW4sCiAgICAgICAgICBtYXg6IHlfbWF4LAogICAgICAgICAgYXhpc0xpbmU6IHsKICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDIwMCwgMjAwLCAyMDAsIDAuNSknIC8vIHnovbTnur/popzoibIKCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsCiAgICAgICAgICAgIGZvbnRTaXplOiA1CiAgICAgICAgICB9LAogICAgICAgICAgc3BsaXROdW1iZXI6IDMsCiAgICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDEyOCwgMTI4LCAxMjgsIDAuNSknLAogICAgICAgICAgICAgIHdpZHRoOiAxLAogICAgICAgICAgICAgIHR5cGU6ICdzb2xpZCcKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJ0hGUicsCiAgICAgICAgICB0eXBlOiAnc2NhdHRlcicsCiAgICAgICAgICBkYXRhOiBkYXRhMSwKICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICBjb2xvcjogJ3JlZCcsCiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnd2hpdGUnLAogICAgICAgICAgICBib3JkZXJXaWR0aDogMQogICAgICAgICAgfSwKICAgICAgICAgIHN5bWJvbFNpemU6IDgKICAgICAgICB9LCAhdGhpcy5pc1RpbWVNb2RlID8gewogICAgICAgICAgbmFtZTogJ0RlYycsCiAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICBkYXRhOiBkZWNEYXRhLAogICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAneWVsbG93JwogICAgICAgICAgfSwKICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICB3aWR0aDogMywKICAgICAgICAgICAgdHlwZTogJ3NvbGlkJwogICAgICAgICAgfSwKICAgICAgICAgIHN5bWJvbFNpemU6IDAKICAgICAgICB9IDogbnVsbCwgIXRoaXMuaXNUaW1lTW9kZSA/IHsKICAgICAgICAgIG5hbWU6ICdtaW5Qb2ludCcsCiAgICAgICAgICB0eXBlOiAnc2NhdHRlcicsCiAgICAgICAgICBkYXRhOiB0aGlzLmNoYXJ0RGF0YTMsCiAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDc1LCAxNTUsIDI1MCwgMC43KScKICAgICAgICAgIH0sCiAgICAgICAgICBzeW1ib2xTaXplOiA0CiAgICAgICAgfSA6IG51bGwsICF0aGlzLmlzVGltZU1vZGUgPyB7CiAgICAgICAgICBuYW1lOiAneE1pbkxpbmUnLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgZGF0YTogW1t0aGlzLnhfbWluLCB0aGlzLnlBeGlzX21pbl0sIFt0aGlzLnhfbWluLCB5X21heF1dLAogICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAncmVkJywKICAgICAgICAgICAgd2lkdGg6IDEKICAgICAgICAgIH0sCiAgICAgICAgICBzeW1ib2w6ICdub25lJwogICAgICAgIH0gOiBudWxsLCAhdGhpcy5pc1RpbWVNb2RlID8gewogICAgICAgICAgbmFtZTogJ3hNYXhMaW5lJywKICAgICAgICAgIHR5cGU6ICdsaW5lJywKICAgICAgICAgIGRhdGE6IFtbdGhpcy54X21heCwgdGhpcy55QXhpc19taW5dLCBbdGhpcy54X21heCwgeV9tYXhdXSwKICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICBjb2xvcjogJ3JlZCcsCiAgICAgICAgICAgIHdpZHRoOiAxCiAgICAgICAgICB9LAogICAgICAgICAgc3ltYm9sOiAnbm9uZScKICAgICAgICB9IDogbnVsbCwgIXRoaXMuaXNUaW1lTW9kZSA/IHsKICAgICAgICAgIG5hbWU6ICdjdXJyZW50UG9zaXRpb24nLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgZGF0YTogW1t0aGlzLmN1cnJlbnRYLCB0aGlzLnlBeGlzX21pbl0sIFt0aGlzLmN1cnJlbnRYLCB5X21heF1dLAogICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nLAogICAgICAgICAgICB3aWR0aDogMQogICAgICAgICAgfSwKICAgICAgICAgIHN5bWJvbDogJ25vbmUnCiAgICAgICAgfSA6IG51bGxdCiAgICAgIH07IC8vIOi/h+a7pOaOieS4uiBudWxsIOeahCBzZXJpZXMg6aG5CgogICAgICBvcHRpb24uc2VyaWVzID0gb3B0aW9uLnNlcmllcy5maWx0ZXIoQm9vbGVhbik7IC8vIOS9v+eUqCBsYXp5VXBkYXRlIOmZjeS9juWQjOatpeW8gOmUgAoKICAgICAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24sIGZhbHNlLCB0cnVlKTsKICAgIH0sCiAgICAvLyDov73liqDkuIDkuKrku6Ui5b2T5YmN5pe26Ze0IuS4uiB4IOeahCBGV0hNIOeCue+8iOaXtumXtOi9tOaooeW8j++8iQogICAgYWRkRndobVBvaW50Tm93OiBmdW5jdGlvbiBhZGRGd2htUG9pbnROb3coZndobSkgewogICAgICAvLyDnoa7kv50gZndobSDmmK/mlbDlrZcKICAgICAgdmFyIGZ3aG1OdW0gPSB0eXBlb2YgZndobSA9PT0gJ251bWJlcicgPyBmd2htIDogcGFyc2VGbG9hdChmd2htKTsKCiAgICAgIGlmIChpc05hTihmd2htTnVtKSB8fCBmd2htTnVtIDw9IDApIHsKICAgICAgICBjb25zb2xlLndhcm4oJ0NoYXJ0LUZvY3VzOiBJbnZhbGlkIEZXSE0gdmFsdWU6JywgZndobSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgdmFyIHBvaW50ID0gW25vdywgZndobU51bV07CiAgICAgIHRoaXMuY2hhcnREYXRhMV90aW1lLnB1c2gocG9pbnQpOwogICAgICBjb25zb2xlLmxvZygnQ2hhcnQtRm9jdXM6IGFkZEZ3aG1Qb2ludE5vdycsIHsKICAgICAgICBmd2htOiBmd2htTnVtLAogICAgICAgIHRpbWU6IG5ldyBEYXRlKG5vdykudG9Mb2NhbGVUaW1lU3RyaW5nKCksCiAgICAgICAgaXNUaW1lTW9kZTogdGhpcy5pc1RpbWVNb2RlLAogICAgICAgIGRhdGFMZW5ndGg6IHRoaXMuY2hhcnREYXRhMV90aW1lLmxlbmd0aCwKICAgICAgICBjaGFydEluaXRpYWxpemVkOiAhIXRoaXMubXlDaGFydAogICAgICB9KTsgLy8g5LuF5L+d55WZ56qX5Y+j5pyf5YaF55qE5pWw5o2uCgogICAgICB2YXIgbWluVHMgPSBub3cgLSB0aGlzLnRpbWVXaW5kb3dTZWMgKiAxMDAwOwogICAgICB0aGlzLmNoYXJ0RGF0YTFfdGltZSA9IHRoaXMuY2hhcnREYXRhMV90aW1lLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiBwWzBdID49IG1pblRzOwogICAgICB9KTsgLy8g5by65Yi26YeN5paw5riy5p+TCgogICAgICBpZiAodGhpcy5teUNoYXJ0KSB7CiAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUud2FybignQ2hhcnQtRm9jdXM6IG15Q2hhcnQgbm90IGluaXRpYWxpemVkIHlldCcpOwogICAgICB9CiAgICB9LAogICAgLy8g5byA5ZCvL+WFs+mXreaXtumXtOi9tOaooeW8jwogICAgc2V0VGltZU1vZGU6IGZ1bmN0aW9uIHNldFRpbWVNb2RlKGZsYWcpIHsKICAgICAgdmFyIGVuYWJsZSA9ICEhZmxhZzsKICAgICAgaWYgKGVuYWJsZSA9PT0gdGhpcy5pc1RpbWVNb2RlKSByZXR1cm47CiAgICAgIHRoaXMuaXNUaW1lTW9kZSA9IGVuYWJsZTsKICAgICAgdGhpcy51cGRhdGVUaWNrZXJCeVZpc2liaWxpdHkoKTsKCiAgICAgIGlmICh0aGlzLm15Q2hhcnQpIHsKICAgICAgICB0aGlzLm15Q2hhcnQuY2xlYXIoKTsKICAgICAgfQoKICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgfSwKICAgIHN0b3BUaW1lVGlja2VyOiBmdW5jdGlvbiBzdG9wVGltZVRpY2tlcigpIHsKICAgICAgaWYgKHRoaXMudGltZVRpY2tlcikgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lVGlja2VyKTsKICAgICAgICB0aGlzLnRpbWVUaWNrZXIgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgc3RhcnRUaW1lVGlja2VyOiBmdW5jdGlvbiBzdGFydFRpbWVUaWNrZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudGltZVRpY2tlcikgcmV0dXJuOwogICAgICB0aGlzLnRpbWVUaWNrZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g5rKh5pyJ5paw54K55pe25Lmf5o6o5Yqo5pe26Ze06L205YmN6L+bCiAgICAgICAgaWYgKF90aGlzMy5teUNoYXJ0KSB7CiAgICAgICAgICBfdGhpczMuc2NoZWR1bGVSZW5kZXIoX3RoaXMzLnhBeGlzX21pbiwgX3RoaXMzLnhBeGlzX21heCk7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICB1cGRhdGVUaWNrZXJCeVZpc2liaWxpdHk6IGZ1bmN0aW9uIHVwZGF0ZVRpY2tlckJ5VmlzaWJpbGl0eSgpIHsKICAgICAgdmFyIGRvY1Zpc2libGUgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gIWRvY3VtZW50LmhpZGRlbiA6IHRydWU7CiAgICAgIHZhciBzaG91bGRSdW4gPSB0aGlzLmlzVGltZU1vZGUgJiYgdGhpcy5pc1Zpc2libGUgJiYgZG9jVmlzaWJsZTsKICAgICAgaWYgKHNob3VsZFJ1bikgdGhpcy5zdGFydFRpbWVUaWNrZXIoKTtlbHNlIHRoaXMuc3RvcFRpbWVUaWNrZXIoKTsKICAgIH0sCiAgICBhZGREYXRhX1BvaW50OiBmdW5jdGlvbiBhZGREYXRhX1BvaW50KHgsIHkpIHsKICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5re75Yqg5pWw5o2u54K5OicsIHsKICAgICAgICB4OiB4LAogICAgICAgIHk6IHkKICAgICAgfSk7IC8vIOi/h+a7pEhGUuWkp+S6juetieS6jjEwMOeahOaVsOaNrueCuQoKICAgICAgaWYgKHkgPj0gMTAwKSB7CiAgICAgICAgdGhpcy5sb2dnZXIud2FybignQ2hhcnQtRm9jdXMudnVlIHwgSEZS5YC86L+H5aSnKD49MTAwKe+8jOW/veeVpeatpOaVsOaNrueCuTonLCB7CiAgICAgICAgICB4OiB4LAogICAgICAgICAgeTogeQogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG5ld0RhdGFQb2ludCA9IFt4LCB5XTsKICAgICAgdmFyIGV4aXN0aW5nUG9pbnRJbmRleCA9IHRoaXMuY2hhcnREYXRhMV9wb3MuZmluZEluZGV4KGZ1bmN0aW9uIChwb2ludCkgewogICAgICAgIHJldHVybiBwb2ludFswXSA9PT0gbmV3RGF0YVBvaW50WzBdOwogICAgICB9KTsKCiAgICAgIGlmIChleGlzdGluZ1BvaW50SW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8gSWYgdGhlIHggdmFsdWUgYWxyZWFkeSBleGlzdHMsIHVwZGF0ZSB0aGUgeSB2YWx1ZQogICAgICAgIGlmIChuZXdEYXRhUG9pbnRbMV0gPT0gMCB8fCBuZXdEYXRhUG9pbnRbMV0gPT0gdGhpcy5jaGFydERhdGExX3Bvc1tleGlzdGluZ1BvaW50SW5kZXhdWzFdKSByZXR1cm47CiAgICAgICAgdGhpcy5jaGFydERhdGExX3Bvc1tleGlzdGluZ1BvaW50SW5kZXhdID0gbmV3RGF0YVBvaW50OwogICAgICB9IGVsc2UgewogICAgICAgIC8vIElmIHRoZSB4IHZhbHVlIGRvZXMgbm90IGV4aXN0LCBhZGQgdGhlIG5ldyBkYXRhIHBvaW50CiAgICAgICAgdGhpcy5jaGFydERhdGExX3Bvcy5wdXNoKG5ld0RhdGFQb2ludCk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICAvLyDnu5jliLbmipjnur8v5LqM5qyh5puy57q/CiAgICBhZGRMaW5lRGF0YV9Qb2ludDogZnVuY3Rpb24gYWRkTGluZURhdGFfUG9pbnQoZGF0YU9yQSwgYiwgYykgewogICAgICAvLyDlhbzlrrnvvJrlpoLmnpzkvKDlhaXnmoTmmK/ngrnmlbDnu4TvvIznm7TmjqXkvb/nlKgKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YU9yQSkpIHsKICAgICAgICB0aGlzLmxpbmVEYXRhRnJvbVBvaW50cyA9IGRhdGFPckE7CiAgICAgICAgdGhpcy5xdWFkcmF0aWNQYXJhbXMgPSBudWxsOwogICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g6Iul5Lyg5YWl55qE5piv57O75pWw5a+56LGhIHsgYSwgYiwgYyB9CgoKICAgICAgaWYgKGRhdGFPckEgJiYgX3R5cGVvZihkYXRhT3JBKSA9PT0gJ29iamVjdCcgJiYgKHR5cGVvZiBkYXRhT3JBLmEgPT09ICdudW1iZXInIHx8IHR5cGVvZiBkYXRhT3JBLmEgPT09ICdzdHJpbmcnKSAmJiAodHlwZW9mIGRhdGFPckEuYiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGRhdGFPckEuYiA9PT0gJ3N0cmluZycpICYmICh0eXBlb2YgZGF0YU9yQS5jID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgZGF0YU9yQS5jID09PSAnc3RyaW5nJykpIHsKICAgICAgICB2YXIgYU51bSA9IHR5cGVvZiBkYXRhT3JBLmEgPT09ICdudW1iZXInID8gZGF0YU9yQS5hIDogcGFyc2VGbG9hdChkYXRhT3JBLmEpOwogICAgICAgIHZhciBiTnVtID0gdHlwZW9mIGRhdGFPckEuYiA9PT0gJ251bWJlcicgPyBkYXRhT3JBLmIgOiBwYXJzZUZsb2F0KGRhdGFPckEuYik7CiAgICAgICAgdmFyIGNOdW0gPSB0eXBlb2YgZGF0YU9yQS5jID09PSAnbnVtYmVyJyA/IGRhdGFPckEuYyA6IHBhcnNlRmxvYXQoZGF0YU9yQS5jKTsKCiAgICAgICAgaWYgKCFpc0Zpbml0ZShhTnVtKSB8fCAhaXNGaW5pdGUoYk51bSkgfHwgIWlzRmluaXRlKGNOdW0pKSB7CiAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgY2VudGVyWCA9IHR5cGVvZiBkYXRhT3JBLngwID09PSAnbnVtYmVyJyA/IGRhdGFPckEueDAgOiB0eXBlb2YgZGF0YU9yQS54MCA9PT0gJ3N0cmluZycgPyBwYXJzZUZsb2F0KGRhdGFPckEueDApIDogMDsKICAgICAgICB0aGlzLnF1YWRyYXRpY1BhcmFtcyA9IHsKICAgICAgICAgIGE6IGFOdW0sCiAgICAgICAgICBiOiBiTnVtLAogICAgICAgICAgYzogY051bSwKICAgICAgICAgIHgwOiBpc0Zpbml0ZShjZW50ZXJYKSA/IGNlbnRlclggOiAwCiAgICAgICAgfTsKICAgICAgICB0aGlzLmxpbmVEYXRhRnJvbVBvaW50cyA9IG51bGw7CiAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDmiJbogIXku6XkuInkuKrni6znq4vlj4LmlbDlvaLlvI/kvKDlhaUgYSwgYiwgYwoKCiAgICAgIGlmICgodHlwZW9mIGRhdGFPckEgPT09ICdudW1iZXInIHx8IHR5cGVvZiBkYXRhT3JBID09PSAnc3RyaW5nJykgJiYgKHR5cGVvZiBiID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgYiA9PT0gJ3N0cmluZycpICYmICh0eXBlb2YgYyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGMgPT09ICdzdHJpbmcnKSkgewogICAgICAgIHZhciBfYU51bSA9IHR5cGVvZiBkYXRhT3JBID09PSAnbnVtYmVyJyA/IGRhdGFPckEgOiBwYXJzZUZsb2F0KGRhdGFPckEpOwoKICAgICAgICB2YXIgX2JOdW0gPSB0eXBlb2YgYiA9PT0gJ251bWJlcicgPyBiIDogcGFyc2VGbG9hdChiKTsKCiAgICAgICAgdmFyIF9jTnVtID0gdHlwZW9mIGMgPT09ICdudW1iZXInID8gYyA6IHBhcnNlRmxvYXQoYyk7CgogICAgICAgIGlmICghaXNGaW5pdGUoX2FOdW0pIHx8ICFpc0Zpbml0ZShfYk51bSkgfHwgIWlzRmluaXRlKF9jTnVtKSkgewogICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5xdWFkcmF0aWNQYXJhbXMgPSB7CiAgICAgICAgICBhOiBfYU51bSwKICAgICAgICAgIGI6IF9iTnVtLAogICAgICAgICAgYzogX2NOdW0KICAgICAgICB9OwogICAgICAgIHRoaXMubGluZURhdGFGcm9tUG9pbnRzID0gbnVsbDsKICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIOWFtuS7lumdnuazlei+k+WFpe+8muS4jeWkhOeQhu+8jOS7heWIt+aWsOeOsOeKtgoKCiAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICAvLyDnlJ/miJDkuIDlhYPkuozmrKHmm7Lnur/ph4fmoLfngrkKICAgIGdlbmVyYXRlUXVhZHJhdGljRGF0YTogZnVuY3Rpb24gZ2VuZXJhdGVRdWFkcmF0aWNEYXRhKGEsIGIsIGMsIHhNaW4sIHhNYXgpIHsKICAgICAgdmFyIGNlbnRlclggPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6IDA7CiAgICAgIHZhciBzdGFydCA9IE51bWJlci5pc0Zpbml0ZSh4TWluKSA/IHhNaW4gOiAwOwogICAgICB2YXIgZW5kID0gTnVtYmVyLmlzRmluaXRlKHhNYXgpID8geE1heCA6IDEwMDsKICAgICAgdmFyIHNwYW4gPSBlbmQgLSBzdGFydDsKICAgICAgdmFyIHNhbXBsZXMgPSBNYXRoLm1heCgyLCBNYXRoLm1pbig0MDAsIE1hdGguY2VpbChzcGFuIC8gNTApKSk7IC8vIOagueaNruiMg+WbtOiHqumAguW6lOmHh+agt+WvhuW6pgoKICAgICAgdmFyIHN0ZXAgPSBzcGFuIC8gc2FtcGxlcyB8fCAxOwogICAgICB2YXIgZGF0YSA9IFtdOwoKICAgICAgZm9yICh2YXIgeCA9IHN0YXJ0OyB4IDw9IGVuZDsgeCArPSBzdGVwKSB7CiAgICAgICAgdmFyIHQgPSB4IC0gY2VudGVyWDsKICAgICAgICB2YXIgeSA9IGEgKiB0ICogdCArIGIgKiB0ICsgYzsKICAgICAgICBkYXRhLnB1c2goW3gsIHldKTsKICAgICAgfSAvLyDnoa7kv53ljIXlkKvlsL7ngrkKCgogICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDAgfHwgZGF0YVtkYXRhLmxlbmd0aCAtIDFdWzBdIDwgZW5kKSB7CiAgICAgICAgdmFyIHRFbmQgPSBlbmQgLSBjZW50ZXJYOwogICAgICAgIHZhciB5RW5kID0gYSAqIHRFbmQgKiB0RW5kICsgYiAqIHRFbmQgKyBjOwogICAgICAgIGRhdGEucHVzaChbZW5kLCB5RW5kXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIGFkZE1pblBvaW50RGF0YV9Qb2ludDogZnVuY3Rpb24gYWRkTWluUG9pbnREYXRhX1BvaW50KHgsIHkpIHsKICAgICAgdmFyIG5ld0RhdGFQb2ludCA9IFt4LCB5XTsKICAgICAgdGhpcy5jaGFydERhdGEzLnB1c2gobmV3RGF0YVBvaW50KTsKICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgfSwKICAgIC8vIOabtOaUueaYvuekuueahHjovbTojIPlm7QKICAgIGNoYW5nZVJhbmdlX3g6IGZ1bmN0aW9uIGNoYW5nZVJhbmdlX3goY3VycmVudCwgdGFyZ2V0KSB7CiAgICAgIHRoaXMueEF4aXNfbWluID0gTnVtYmVyKGN1cnJlbnQpIC0gMzAwMDsKICAgICAgdGhpcy54QXhpc19tYXggPSBOdW1iZXIoY3VycmVudCkgKyAzMDAwOwogICAgICB0aGlzLmN1cnJlbnRYID0gY3VycmVudDsKICAgICAgY29uc29sZS5sb2coIlFIWUNDRCB8IGNoYW5nZVJhbmdlX3g6IiwgY3VycmVudCwgdGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgfSwKICAgIC8vIOa4hemZpOaVsOaNrgogICAgY2xlYXJDaGFydERhdGExOiBmdW5jdGlvbiBjbGVhckNoYXJ0RGF0YTEoKSB7CiAgICAgIHRoaXMuY2hhcnREYXRhMV9wb3MgPSBbXTsKICAgICAgdGhpcy5jaGFydERhdGExX3RpbWUgPSBbXTsKICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgfSwKICAgIGNsZWFyQ2hhcnREYXRhMjogZnVuY3Rpb24gY2xlYXJDaGFydERhdGEyKCkgewogICAgICB0aGlzLmNoYXJ0RGF0YTIgPSBbXTsKICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgfSwKICAgIENsZWFyQWxsRGF0YTogZnVuY3Rpb24gQ2xlYXJBbGxEYXRhKCkgewogICAgICB0aGlzLmNoYXJ0RGF0YTFfcG9zID0gW107CiAgICAgIHRoaXMuY2hhcnREYXRhMV90aW1lID0gW107CiAgICAgIHRoaXMuY2hhcnREYXRhMiA9IFtdOwogICAgICB0aGlzLmNoYXJ0RGF0YTMgPSBbXTsKICAgICAgdGhpcy5jaGFydERhdGE0ID0gW107CiAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy55QXhpc19tYXggPSAzMDsKICAgICAgdGhpcy5IRlJNYXggPSAxNTsKICAgICAgdGhpcy5yZW5kZXJDaGFydCh0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgfSwKICAgIC8vIOa4heepuueyvuiwg+aVsOaNru+8iOWcqOeyvuiwg+W8gOWni+aXtuiwg+eUqO+8iQogICAgQ2xlYXJGaW5lRGF0YTogZnVuY3Rpb24gQ2xlYXJGaW5lRGF0YSgpIHsKICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5riF56m657K+6LCD5pWw5o2uJyk7CiAgICAgIHRoaXMuY2hhcnREYXRhMV9wb3MgPSBbXTsKICAgICAgdGhpcy5jaGFydERhdGExX3RpbWUgPSBbXTsKICAgICAgdGhpcy5jaGFydERhdGEyID0gW107CiAgICAgIHRoaXMuY2hhcnREYXRhMyA9IFtdOwogICAgICB0aGlzLmNoYXJ0RGF0YTQgPSBbXTsKICAgICAgdGhpcy5xdWFkcmF0aWNSZXN1bHQuc2hvdyA9IGZhbHNlOwogICAgICB0aGlzLnJlbmRlckNoYXJ0KHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICB9LAogICAgLy8g5pu05paw5byC5bi454K55pWw5o2uCiAgICB1cGRhdGVPdXRsaWVyRGF0YTogZnVuY3Rpb24gdXBkYXRlT3V0bGllckRhdGEoKSB7CiAgICAgIHZhciBjdXJyZW50RGF0YSA9IHRoaXMuaXNUaW1lTW9kZSA/IHRoaXMuY2hhcnREYXRhMV90aW1lIDogdGhpcy5jaGFydERhdGExX3BvczsKCiAgICAgIGlmIChjdXJyZW50RGF0YS5sZW5ndGggPj0gNCkgewogICAgICAgIHRoaXMuY2hhcnREYXRhNCA9IHRoaXMub3V0bGllckRhdGFQb2ludHM7CiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOabtOaWsOW8guW4uOeCueaVsOaNru+8jOW8guW4uOeCueaVsOmHjzonLCB0aGlzLmNoYXJ0RGF0YTQubGVuZ3RoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNoYXJ0RGF0YTQgPSBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIh+aNouaYvuekuuiMg+WbtAogICAgUmFuZ2VTd2l0Y2g6IGZ1bmN0aW9uIFJhbmdlU3dpdGNoKCkgewogICAgICBpZiAodGhpcy5yYW5nZSA9PT0gNCkgewogICAgICAgIHRoaXMucmFuZ2UgPSAyOwogICAgICAgIHRoaXMueUF4aXNfbWluID0gLTI7CiAgICAgICAgdGhpcy55QXhpc19tYXggPSAyOwogICAgICB9IGVsc2UgaWYgKHRoaXMucmFuZ2UgPT09IDIpIHsKICAgICAgICB0aGlzLnJhbmdlID0gMTsKICAgICAgICB0aGlzLnlBeGlzX21pbiA9IC0xOwogICAgICAgIHRoaXMueUF4aXNfbWF4ID0gMTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnJhbmdlID09PSAxKSB7CiAgICAgICAgdGhpcy5yYW5nZSA9IDQ7CiAgICAgICAgdGhpcy55QXhpc19taW4gPSAtNDsKICAgICAgICB0aGlzLnlBeGlzX21heCA9IDQ7CiAgICAgIH0KCiAgICAgIHRoaXMucmVuZGVyQ2hhcnQodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICAvLyDmm7TmlrBIRlIKICAgIC8vIFVwZGF0ZUhGUihIRlIpIHsKICAgIC8vICAgY29uc3QgbmV3RGF0YVBvaW50ID0gW3RoaXMuY3VycmVudFgsIEhGUl07CiAgICAvLyAgIHRoaXMuYWRkRGF0YV9Qb2ludChuZXdEYXRhUG9pbnQpOwogICAgLy8gICAvLyBjb25zb2xlLmxvZygiUUhZQ0NEIHwgVXBkYXRlSEZSOiIsIG5ld0RhdGFQb2ludCk7CiAgICAvLyAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnVXBkYXRlSEZSOicgKyBuZXdEYXRhUG9pbnQsICdpbmZvJyk7CiAgICAvLyAgIHRoaXMucmVuZGVyQ2hhcnQodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIC8vIH0sCiAgICAvLyDmi5/lkIjkuozmrKHmm7Lnur8KICAgIGZpdFF1YWRyYXRpY0N1cnZlOiBmdW5jdGlvbiBmaXRRdWFkcmF0aWNDdXJ2ZShkYXRhU3RyaW5nKSB7CiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOaOpeaUtuS6jOasoeabsue6v+aVsOaNrjonLCBkYXRhU3RyaW5nKTsKICAgICAgY29uc29sZS5sb2coJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOaOpeaUtuS6jOasoeabsue6v+aVsOaNrjonLCBkYXRhU3RyaW5nKTsKICAgICAgdmFyIHBhcnRzID0gZGF0YVN0cmluZy5zcGxpdCgnOicpOwogICAgICB0aGlzLmxvZ2dlci5pbmZvKCdDaGFydC1Gb2N1cy52dWUgfCDop6PmnpDlkI7nmoTmlbDmja7pg6jliIY6JywgcGFydHMpOwogICAgICBjb25zb2xlLmxvZygnQ2hhcnQtRm9jdXMudnVlIHwg6Kej5p6Q5ZCO55qE5pWw5o2u6YOo5YiGOicsIHBhcnRzKTsKCiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gNikgewogICAgICAgIHZhciBhID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7CiAgICAgICAgdmFyIGIgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsKICAgICAgICB2YXIgYyA9IHBhcnNlRmxvYXQocGFydHNbM10pOwogICAgICAgIHZhciBiZXN0UG9zaXRpb24gPSBwYXJzZUZsb2F0KHBhcnRzWzRdKTsKICAgICAgICB2YXIgbWluSEZSID0gcGFyc2VGbG9hdChwYXJ0c1s1XSk7CiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg6Kej5p6Q55qE5pWw5YC8OicsIHsKICAgICAgICAgIGE6IGEsCiAgICAgICAgICBiOiBiLAogICAgICAgICAgYzogYywKICAgICAgICAgIGJlc3RQb3NpdGlvbjogYmVzdFBvc2l0aW9uLAogICAgICAgICAgbWluSEZSOiBtaW5IRlIKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygnQ2hhcnQtRm9jdXMudnVlIHwg6Kej5p6Q55qE5pWw5YC8OicsIHsKICAgICAgICAgIGE6IGEsCiAgICAgICAgICBiOiBiLAogICAgICAgICAgYzogYywKICAgICAgICAgIGJlc3RQb3NpdGlvbjogYmVzdFBvc2l0aW9uLAogICAgICAgICAgbWluSEZSOiBtaW5IRlIKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygnQ2hhcnQtRm9jdXMudnVlIHwg5Y6f5aeL5a2X56ym5Liy6YOo5YiGOicsIHBhcnRzKTsgLy8g6aqM6K+B5ouf5ZCI57O75pWw55qE5pyJ5pWI5oCnCgogICAgICAgIGlmICghdGhpcy52YWxpZGF0ZUZpdENvZWZmaWNpZW50cyhhLCBiLCBjKSkgewogICAgICAgICAgdGhpcy5sb2dnZXIud2FybignQ2hhcnQtRm9jdXMudnVlIHwg5ouf5ZCI57O75pWw5peg5pWI77yM5Y+v6IO95piv5rC05bmz57q/5ouf5ZCIJyk7CiAgICAgICAgfSAvLyDkuI3lho3ov5vooYzliY3nq6/mi5/lkIjorqHnrpfvvIzlrozlhajkvp3otZblkI7nq6/mj5DkvpvnmoTlj4LmlbAKCgogICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOS9v+eUqOWQjuerr+aPkOS+m+eahOaLn+WQiOWPguaVsO+8jOS4jeWGjei/m+ihjOWJjeerr+aLn+WQiOiuoeeulycpOwogICAgICAgIGNvbnNvbGUubG9nKCdDaGFydC1Gb2N1cy52dWUgfCDkvb/nlKjlkI7nq6/mj5DkvpvnmoTmi5/lkIjlj4LmlbDvvIzkuI3lho3ov5vooYzliY3nq6/mi5/lkIjorqHnrpcnKTsgLy8g6aqM6K+B5Y+C5pWw5piv5ZCm5ZCI55CGCgogICAgICAgIGlmIChNYXRoLmFicyhhKSA8IDFlLTEwKSB7CiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdDaGFydC1Gb2N1cy52dWUgfCDorablkYrvvJph57O75pWw5o6l6L+RMO+8jOi/meaYr+e6v+aAp+aLn+WQiOiAjOS4jeaYr+S6jOasoeaLn+WQiCcpOwogICAgICAgICAgY29uc29sZS53YXJuKCdDaGFydC1Gb2N1cy52dWUgfCDorablkYrvvJph57O75pWw5o6l6L+RMO+8jOi/meaYr+e6v+aAp+aLn+WQiOiAjOS4jeaYr+S6jOasoeaLn+WQiCcpOyAvLyDlr7nkuo7nur/mgKfmi5/lkIjvvIzmiJHku6zpnIDopoHnibnmrorlpITnkIYKCiAgICAgICAgICB0aGlzLmdlbmVyYXRlTGluZWFyQ3VydmUoYiwgYywgYmVzdFBvc2l0aW9uKTsgLy8g5pu05paw5paH5pys5qGG5pi+56S677yI57q/5oCn5ouf5ZCI77yJCgogICAgICAgICAgdGhpcy5xdWFkcmF0aWNSZXN1bHQuYSA9ICIwLjAwMDAwMCI7IC8vIOaYvuekuuS4ujAKCiAgICAgICAgICB0aGlzLnF1YWRyYXRpY1Jlc3VsdC5iID0gYi50b0ZpeGVkKDYpOwogICAgICAgICAgdGhpcy5xdWFkcmF0aWNSZXN1bHQuYyA9IGMudG9GaXhlZCg2KTsKICAgICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LmJlc3RQb3NpdGlvbiA9ICLnur/mgKfmi5/lkIgiOwogICAgICAgICAgdGhpcy5xdWFkcmF0aWNSZXN1bHQubWluSEZSID0gbWluSEZSLnRvRml4ZWQoMyk7CiAgICAgICAgICB0aGlzLnF1YWRyYXRpY1Jlc3VsdC5zaG93ID0gdHJ1ZTsKICAgICAgICAgIHJldHVybjsgLy8g55u05o6l6L+U5Zue77yM5LiN5omn6KGM5LqM5qyh5puy57q/55Sf5oiQCiAgICAgICAgfSAvLyDmm7TmlrDmlofmnKzmoYbmmL7npLoKCgogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LmEgPSBhLnRvRml4ZWQoNik7CiAgICAgICAgdGhpcy5xdWFkcmF0aWNSZXN1bHQuYiA9IGIudG9GaXhlZCg2KTsKICAgICAgICB0aGlzLnF1YWRyYXRpY1Jlc3VsdC5jID0gYy50b0ZpeGVkKDYpOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LmJlc3RQb3NpdGlvbiA9IGJlc3RQb3NpdGlvbi50b0ZpeGVkKDIpOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0Lm1pbkhGUiA9IG1pbkhGUi50b0ZpeGVkKDMpOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LnNob3cgPSB0cnVlOwogICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOaWh+acrOahhuaVsOaNruW3suabtOaWsDonLCB0aGlzLnF1YWRyYXRpY1Jlc3VsdCk7IC8vIOeUn+aIkOS6jOasoeabsue6v+aVsOaNrueCuQoKICAgICAgICB0aGlzLmdlbmVyYXRlUXVhZHJhdGljQ3VydmUoYSwgYiwgYywgYmVzdFBvc2l0aW9uKTsgLy8g5pu05paw5byC5bi454K55pWw5o2uCgogICAgICAgIHRoaXMudXBkYXRlT3V0bGllckRhdGEoKTsKICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdDaGFydC1Gb2N1cy52dWUgfCDkuozmrKHmi5/lkIjkv6Hmga/lt7Lmm7TmlrA6JywgdGhpcy5xdWFkcmF0aWNSZXN1bHQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdDaGFydC1Gb2N1cy52dWUgfCDmlbDmja7moLzlvI/plJnor6/vvIzpg6jliIbmlbDph4/kuI3otrM6JywgcGFydHMubGVuZ3RoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOeUn+aIkOS6jOasoeabsue6v+aVsOaNrueCuQogICAgZ2VuZXJhdGVRdWFkcmF0aWNDdXJ2ZTogZnVuY3Rpb24gZ2VuZXJhdGVRdWFkcmF0aWNDdXJ2ZShhLCBiLCBjLCBiZXN0UG9zaXRpb24pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmxvZ2dlci5pbmZvKCdDaGFydC1Gb2N1cy52dWUgfCDlvIDlp4vnlJ/miJDkuozmrKHmm7Lnur/mlbDmja7ngrk6JywgewogICAgICAgIGE6IGEsCiAgICAgICAgYjogYiwKICAgICAgICBjOiBjLAogICAgICAgIGJlc3RQb3NpdGlvbjogYmVzdFBvc2l0aW9uCiAgICAgIH0pOyAvLyDkv67mraPvvJrlkI7nq6/lj5HpgIHnmoRh44CBYuOAgWPns7vmlbDmmK/ln7rkuo7nm7jlr7nlnZDmoIfnmoQKICAgICAgLy8g6ZyA6KaB5om+5Yiw5pWw5o2u54K555qE5pyA5bCP5L2N572u5L2c5Li65YGP56e76YeP77yM56Gu5L+d5LiO5ZCO56uv566X5rOV5LiA6Ie0CiAgICAgIC8vIOS7juaVsOaNrueCueS4reaJvuWIsOacgOWwj+S9jee9ruS9nOS4uuWBj+enu+mHj++8iOS/ruato++8muS4jeS9v+eUqGJlc3RQb3NpdGlvbuS9nOS4um1pblBvc++8iQoKICAgICAgdmFyIG1pblBvcyA9IDA7CgogICAgICBpZiAodGhpcy5jaGFydERhdGExX3Bvcy5sZW5ndGggPiAwKSB7CiAgICAgICAgbWluUG9zID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2hhcnREYXRhMV9wb3MubWFwKGZ1bmN0aW9uIChwb2ludCkgewogICAgICAgICAgcmV0dXJuIHBvaW50WzBdOwogICAgICAgIH0pKSk7CiAgICAgIH0KCiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCDlnZDmoIfns7vnu5/kv6Hmga86Jyk7CiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCAtIOaVsOaNrueCueacgOWwj+S9jee9riAobWluUG9zKTonLCBtaW5Qb3MpOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwgLSDlkI7nq6/lj5HpgIHnmoTmnIDkvbPkvY3nva4gKGJlc3RQb3NpdGlvbik6JywgYmVzdFBvc2l0aW9uKTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0g5ouf5ZCI57O75pWwIGE6JywgYSwgJ2I6JywgYiwgJ2M6JywgYyk7CiAgICAgIGNvbnNvbGUubG9nKCdDaGFydC1Gb2N1cy52dWUgfCDlnZDmoIfns7vnu5/kv6Hmga86Jyk7CiAgICAgIGNvbnNvbGUubG9nKCdDaGFydC1Gb2N1cy52dWUgfCAtIOaVsOaNrueCueacgOWwj+S9jee9riAobWluUG9zKTonLCBtaW5Qb3MpOwogICAgICBjb25zb2xlLmxvZygnQ2hhcnQtRm9jdXMudnVlIHwgLSDlkI7nq6/lj5HpgIHnmoTmnIDkvbPkvY3nva4gKGJlc3RQb3NpdGlvbik6JywgYmVzdFBvc2l0aW9uKTsKICAgICAgY29uc29sZS5sb2coJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0g5ouf5ZCI57O75pWwIGE6JywgYSwgJ2I6JywgYiwgJ2M6JywgYyk7CiAgICAgIGNvbnNvbGUubG9nKCdDaGFydC1Gb2N1cy52dWUgfCAtIOW9k+WJjeaVsOaNrueCuTonLCB0aGlzLmNoYXJ0RGF0YTFfcG9zKTsgLy8g6aqM6K+B5pyA5L2z5L2N572u55qE6K6h566X5piv5ZCm5q2j56GuCgogICAgICB2YXIgZXhwZWN0ZWRCZXN0UmVsYXRpdmVQb3MgPSAtYiAvICgyICogYSk7CiAgICAgIHZhciBleHBlY3RlZEJlc3RBYnNvbHV0ZVBvcyA9IGV4cGVjdGVkQmVzdFJlbGF0aXZlUG9zICsgbWluUG9zOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwgLSDorqHnrpfnmoTmnIDkvbPnm7jlr7nkvY3nva46JywgZXhwZWN0ZWRCZXN0UmVsYXRpdmVQb3MpOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwgLSDorqHnrpfnmoTmnIDkvbPnu53lr7nkvY3nva46JywgZXhwZWN0ZWRCZXN0QWJzb2x1dGVQb3MpOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwgLSDkvY3nva7lt67lvII6JywgTWF0aC5hYnMoZXhwZWN0ZWRCZXN0QWJzb2x1dGVQb3MgLSBiZXN0UG9zaXRpb24pKTsKICAgICAgdmFyIGN1cnZlRGF0YSA9IFtdOyAvLyDmmbrog73noa7lrprmm7Lnur/nlJ/miJDojIPlm7QKCiAgICAgIHZhciBzdGFydFgsIGVuZFgsIHN0ZXBTaXplOwoKICAgICAgaWYgKHRoaXMuY2hhcnREYXRhMV9wb3MubGVuZ3RoID4gMCkgewogICAgICAgIC8vIOWfuuS6juaVsOaNrueCueiMg+WbtOeUn+aIkOabsue6vwogICAgICAgIHZhciBkYXRhTWluWCA9IE1hdGgubWluLmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmNoYXJ0RGF0YTFfcG9zLm1hcChmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgICAgIHJldHVybiBwb2ludFswXTsKICAgICAgICB9KSkpOwogICAgICAgIHZhciBkYXRhTWF4WCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmNoYXJ0RGF0YTFfcG9zLm1hcChmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgICAgIHJldHVybiBwb2ludFswXTsKICAgICAgICB9KSkpOwogICAgICAgIHZhciBkYXRhUmFuZ2UgPSBkYXRhTWF4WCAtIGRhdGFNaW5YOyAvLyDmianlsZXojIPlm7Tku6Xnoa7kv53mm7Lnur/opobnm5blrozmlbQKCiAgICAgICAgdmFyIGV4dGVuc2lvbiA9IE1hdGgubWF4KGRhdGFSYW5nZSAqIDAuMiwgMTAwMCk7IC8vIOaJqeWxlTIwJeaIluiHs+WwkTEwMDAKCiAgICAgICAgc3RhcnRYID0gZGF0YU1pblggLSBleHRlbnNpb247CiAgICAgICAgZW5kWCA9IGRhdGFNYXhYICsgZXh0ZW5zaW9uOyAvLyDmoLnmja7mlbDmja7ojIPlm7TosIPmlbTmraXplb8KCiAgICAgICAgc3RlcFNpemUgPSBNYXRoLm1heChNYXRoLmZsb29yKGRhdGFSYW5nZSAvIDEwMCksIDIwKTsgLy8g6Iez5bCRMTAw5Liq54K577yM5q2l6ZW/6Iez5bCRMjAKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlpoLmnpzmsqHmnInmlbDmja7ngrnvvIzkvb/nlKjpu5jorqTojIPlm7QKICAgICAgICB2YXIgcmFuZ2UgPSA1MDAwOwogICAgICAgIHN0YXJ0WCA9IGJlc3RQb3NpdGlvbiAtIHJhbmdlOwogICAgICAgIGVuZFggPSBiZXN0UG9zaXRpb24gKyByYW5nZTsKICAgICAgICBzdGVwU2l6ZSA9IDUwOwogICAgICB9IC8vIOehruS/neabsue6v+imhuebluW9k+WJjVjovbTojIPlm7QKCgogICAgICBzdGFydFggPSBNYXRoLm1pbihzdGFydFgsIHRoaXMueEF4aXNfbWluKTsKICAgICAgZW5kWCA9IE1hdGgubWF4KGVuZFgsIHRoaXMueEF4aXNfbWF4KTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOabsue6v+eUn+aIkOiMg+WbtDonLCBzdGFydFgsICfliLAnLCBlbmRYLCAn5q2l6ZW/OicsIHN0ZXBTaXplKTsgLy8g55Sf5oiQ5puy57q/5pWw5o2u54K5CgogICAgICBmb3IgKHZhciB4ID0gc3RhcnRYOyB4IDw9IGVuZFg7IHggKz0gc3RlcFNpemUpIHsKICAgICAgICAvLyDlsIbnu53lr7nlnZDmoIfovazmjaLkuLrnm7jlr7nlnZDmoIfov5vooYzorqHnrpfvvIjkuI7lkI7nq6/nrpfms5XkuIDoh7TvvIkKICAgICAgICB2YXIgcmVsYXRpdmVYID0geCAtIG1pblBvczsKICAgICAgICB2YXIgeSA9IGEgKiByZWxhdGl2ZVggKiByZWxhdGl2ZVggKyBiICogcmVsYXRpdmVYICsgYzsgLy8g6aqM6K+B6K6h566X57uT5p6cCgogICAgICAgIGlmIChpc0Zpbml0ZSh5KSAmJiB5ID49IDApIHsKICAgICAgICAgIGN1cnZlRGF0YS5wdXNoKFt4LCB5XSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOitpuWRiu+8muiuoeeul+W+l+WIsOaXoOaViOeahFnlgLw6JywgeSwgJ+WcqOS9jee9rjonLCB4LCAn55u45a+55L2N572uOicsIHJlbGF0aXZlWCk7CiAgICAgICAgfQogICAgICB9IC8vIOa3u+WKoOWFs+mUrueCue+8muehruS/neaVsOaNrueCueS9jee9ruWcqOabsue6v+S4iuacieeyvuehrueahOeCuQoKCiAgICAgIGlmICh0aGlzLmNoYXJ0RGF0YTFfcG9zLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5jaGFydERhdGExX3BvcyksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMigpIHsKICAgICAgICAgICAgdmFyIHBvaW50ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIHZhciB4ID0gcG9pbnRbMF07CiAgICAgICAgICAgIHZhciByZWxhdGl2ZVggPSB4IC0gbWluUG9zOwogICAgICAgICAgICB2YXIgeSA9IGEgKiByZWxhdGl2ZVggKiByZWxhdGl2ZVggKyBiICogcmVsYXRpdmVYICsgYzsKCiAgICAgICAgICAgIGlmIChpc0Zpbml0ZSh5KSAmJiB5ID49IDApIHsKICAgICAgICAgICAgICAvLyDmo4Dmn6XmmK/lkKblt7Lnu4/lrZjlnKjov5nkuKrngrnvvIjpgb/lhY3ph43lpI3vvIkKICAgICAgICAgICAgICB2YXIgZXhpc3RzID0gY3VydmVEYXRhLnNvbWUoZnVuY3Rpb24gKGN1cnZlUG9pbnQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyhjdXJ2ZVBvaW50WzBdIC0geCkgPCBzdGVwU2l6ZSAvIDI7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmICghZXhpc3RzKSB7CiAgICAgICAgICAgICAgICBjdXJ2ZURhdGEucHVzaChbeCwgeV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICBfbG9vcDIoKTsKICAgICAgICAgIH0gLy8g5re75Yqg5pyA5L2z5L2N572u54K55Y+K5YW26ZmE6L+R55qE6auY57K+5bqm54K5CgogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CgogICAgICAgIHZhciBiZXN0UmVsYXRpdmVYID0gYmVzdFBvc2l0aW9uIC0gbWluUG9zOwogICAgICAgIHZhciBiZXN0WSA9IGEgKiBiZXN0UmVsYXRpdmVYICogYmVzdFJlbGF0aXZlWCArIGIgKiBiZXN0UmVsYXRpdmVYICsgYzsKCiAgICAgICAgaWYgKGlzRmluaXRlKGJlc3RZKSAmJiBiZXN0WSA+PSAwKSB7CiAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZXhpc3RzID0gY3VydmVEYXRhLnNvbWUoZnVuY3Rpb24gKGN1cnZlUG9pbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoY3VydmVQb2ludFswXSAtIGJlc3RQb3NpdGlvbikgPCBzdGVwU2l6ZSAvIDI7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKCFleGlzdHMpIHsKICAgICAgICAgICAgICBjdXJ2ZURhdGEucHVzaChbYmVzdFBvc2l0aW9uLCBiZXN0WV0pOwogICAgICAgICAgICB9IC8vIOWcqOacgOS9s+S9jee9rumZhOi/kea3u+WKoOabtOWkmumrmOeyvuW6pueCuQoKCiAgICAgICAgICAgIHZhciBmaW5lUmFuZ2UgPSBNYXRoLm1heChzdGVwU2l6ZSAqIDIsIDIwMCk7IC8vIOWcqOacgOS9s+S9jee9rumZhOi/kTIwMOiMg+WbtOWGheS9v+eUqOmrmOeyvuW6pgoKICAgICAgICAgICAgdmFyIGZpbmVTdGVwID0gTWF0aC5tYXgoc3RlcFNpemUgLyAxMCwgNSk7CgogICAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChvZmZzZXQpIHsKICAgICAgICAgICAgICB2YXIgeCA9IGJlc3RQb3NpdGlvbiArIG9mZnNldDsKCiAgICAgICAgICAgICAgaWYgKHggPj0gc3RhcnRYICYmIHggPD0gZW5kWCkgewogICAgICAgICAgICAgICAgdmFyIF9yZWxhdGl2ZVggPSB4IC0gbWluUG9zOwoKICAgICAgICAgICAgICAgIHZhciBfeSA9IGEgKiBfcmVsYXRpdmVYICogX3JlbGF0aXZlWCArIGIgKiBfcmVsYXRpdmVYICsgYzsKCiAgICAgICAgICAgICAgICBpZiAoaXNGaW5pdGUoX3kpICYmIF95ID49IDApIHsKICAgICAgICAgICAgICAgICAgdmFyIF9leGlzdHMgPSBjdXJ2ZURhdGEuc29tZShmdW5jdGlvbiAoY3VydmVQb2ludCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyhjdXJ2ZVBvaW50WzBdIC0geCkgPCBmaW5lU3RlcCAvIDI7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKCFfZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgY3VydmVEYXRhLnB1c2goW3gsIF95XSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAtZmluZVJhbmdlOyBvZmZzZXQgPD0gZmluZVJhbmdlOyBvZmZzZXQgKz0gZmluZVN0ZXApIHsKICAgICAgICAgICAgICBfbG9vcChvZmZzZXQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KSgpOwogICAgICAgIH0KICAgICAgfSAvLyDmjIlY5Z2Q5qCH5o6S5bqPCgoKICAgICAgY3VydmVEYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07CiAgICAgIH0pOyAvLyDlnKjmlbDmja7ngrnlr4bpm4bljLrln5/lop7liqDmm7Lnur/lr4bluqYKCiAgICAgIGlmICh0aGlzLmNoYXJ0RGF0YTFfcG9zLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgZW5oYW5jZWRDdXJ2ZURhdGEgPSBbXTsKICAgICAgICB2YXIgZmluZVN0ZXBTaXplID0gTWF0aC5tYXgoc3RlcFNpemUgLyA1LCA1KTsgLy8g5Zyo5a+G6ZuG5Yy65Z+f5L2/55So5pu05bCP55qE5q2l6ZW/CgogICAgICAgIHZhciBfbG9vcDMgPSBmdW5jdGlvbiBfbG9vcDMoaSkgewogICAgICAgICAgdmFyIGN1cnJlbnRQb2ludCA9IGN1cnZlRGF0YVtpXTsKICAgICAgICAgIHZhciBuZXh0UG9pbnQgPSBjdXJ2ZURhdGFbaSArIDFdOwogICAgICAgICAgZW5oYW5jZWRDdXJ2ZURhdGEucHVzaChjdXJyZW50UG9pbnQpOyAvLyDmo4Dmn6XlvZPliY3mrrXmmK/lkKbljIXlkKvmlbDmja7ngrkKCiAgICAgICAgICB2YXIgaGFzRGF0YVBvaW50ID0gX3RoaXM0LmNoYXJ0RGF0YTFfcG9zLnNvbWUoZnVuY3Rpb24gKHBvaW50KSB7CiAgICAgICAgICAgIHJldHVybiBwb2ludFswXSA+PSBjdXJyZW50UG9pbnRbMF0gJiYgcG9pbnRbMF0gPD0gbmV4dFBvaW50WzBdOwogICAgICAgICAgfSk7IC8vIOWmguaenOWMheWQq+aVsOaNrueCue+8jOWcqOS4remXtOa3u+WKoOabtOWkmueCuQoKCiAgICAgICAgICBpZiAoaGFzRGF0YVBvaW50ICYmIG5leHRQb2ludFswXSAtIGN1cnJlbnRQb2ludFswXSA+IGZpbmVTdGVwU2l6ZSkgewogICAgICAgICAgICB2YXIgbWlkUG9pbnRzID0gTWF0aC5mbG9vcigobmV4dFBvaW50WzBdIC0gY3VycmVudFBvaW50WzBdKSAvIGZpbmVTdGVwU2l6ZSk7CgogICAgICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IG1pZFBvaW50czsgaisrKSB7CiAgICAgICAgICAgICAgdmFyIF94ID0gY3VycmVudFBvaW50WzBdICsgaiAqIGZpbmVTdGVwU2l6ZTsKCiAgICAgICAgICAgICAgdmFyIF9yZWxhdGl2ZVgyID0gX3ggLSBtaW5Qb3M7CgogICAgICAgICAgICAgIHZhciBfeTIgPSBhICogX3JlbGF0aXZlWDIgKiBfcmVsYXRpdmVYMiArIGIgKiBfcmVsYXRpdmVYMiArIGM7CgogICAgICAgICAgICAgIGlmIChpc0Zpbml0ZShfeTIpICYmIF95MiA+PSAwKSB7CiAgICAgICAgICAgICAgICBlbmhhbmNlZEN1cnZlRGF0YS5wdXNoKFtfeCwgX3kyXSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJ2ZURhdGEubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgICBfbG9vcDMoaSk7CiAgICAgICAgfSAvLyDmt7vliqDmnIDlkI7kuIDkuKrngrkKCgogICAgICAgIGlmIChjdXJ2ZURhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgZW5oYW5jZWRDdXJ2ZURhdGEucHVzaChjdXJ2ZURhdGFbY3VydmVEYXRhLmxlbmd0aCAtIDFdKTsKICAgICAgICB9IC8vIOabtOaWsOabsue6v+aVsOaNrgoKCiAgICAgICAgY3VydmVEYXRhLmxlbmd0aCA9IDA7CiAgICAgICAgY3VydmVEYXRhLnB1c2guYXBwbHkoY3VydmVEYXRhLCBlbmhhbmNlZEN1cnZlRGF0YSk7CiAgICAgIH0gLy8g5re75Yqg5YWz6ZSu54K555qE6aqM6K+BCgoKICAgICAgaWYgKGN1cnZlRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g6aqM6K+B5pyA5L2z5L2N572u54K555qEWeWAvAogICAgICAgIHZhciBiZXN0UG9pbnRZID0gYSAqIChiZXN0UG9zaXRpb24gLSBtaW5Qb3MpICogKGJlc3RQb3NpdGlvbiAtIG1pblBvcykgKyBiICogKGJlc3RQb3NpdGlvbiAtIG1pblBvcykgKyBjOwogICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCDmnIDkvbPkvY3nva7ngrnpqozor4E6Jyk7CiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0g5pyA5L2z5L2N572uOicsIGJlc3RQb3NpdGlvbik7CiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0g5pyA5L2z5L2N572u55u45a+55Z2Q5qCHOicsIGJlc3RQb3NpdGlvbiAtIG1pblBvcyk7CiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0g5pyA5L2z5L2N572uWeWAvDonLCBiZXN0UG9pbnRZKTsgLy8g6aqM6K+B5pWw5o2u54K55piv5ZCm5Zyo5puy57q/5LiKCgogICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCDmlbDmja7ngrnkuI7mm7Lnur/lr7nmr5Q6Jyk7CgogICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBNYXRoLm1pbih0aGlzLmNoYXJ0RGF0YTFfcG9zLmxlbmd0aCwgNSk7IF9pKyspIHsKICAgICAgICAgIHZhciBwb2ludCA9IHRoaXMuY2hhcnREYXRhMV9wb3NbX2ldOwogICAgICAgICAgdmFyIHBvaW50UmVsYXRpdmVYID0gcG9pbnRbMF0gLSBtaW5Qb3M7CiAgICAgICAgICB2YXIgcG9pbnRZID0gYSAqIHBvaW50UmVsYXRpdmVYICogcG9pbnRSZWxhdGl2ZVggKyBiICogcG9pbnRSZWxhdGl2ZVggKyBjOwogICAgICAgICAgdmFyIGFjdHVhbFkgPSBwb2ludFsxXTsKICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMocG9pbnRZIC0gYWN0dWFsWSk7CiAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygiQ2hhcnQtRm9jdXMudnVlIHwgLSBcdTcwQjkiLmNvbmNhdChfaSwgIjogXHU0RjREXHU3RjZFPSIpLmNvbmNhdChwb2ludFswXSwgIiwgXHU1QjlFXHU5NjQ1SEZSPSIpLmNvbmNhdChhY3R1YWxZLCAiLCBcdTY2RjJcdTdFQkZIRlI9IikuY29uY2F0KHBvaW50WSwgIiwgXHU1REVFXHU1RjAyPSIpLmNvbmNhdChkaWZmKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwg55Sf5oiQ55qE5puy57q/5pWw5o2u54K55pWw6YePOicsIGN1cnZlRGF0YS5sZW5ndGgpOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwgWOi9tOiMg+WbtDonLCBzdGFydFgsICfliLAnLCBlbmRYKTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOWJjTXkuKrmlbDmja7ngrk6JywgY3VydmVEYXRhLnNsaWNlKDAsIDUpKTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOWQjjXkuKrmlbDmja7ngrk6JywgY3VydmVEYXRhLnNsaWNlKC01KSk7IC8vIOmqjOivgeabsue6v+W9oueKtgoKICAgICAgaWYgKGN1cnZlRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGZpcnN0WSA9IGN1cnZlRGF0YVswXVsxXTsKICAgICAgICB2YXIgbGFzdFkgPSBjdXJ2ZURhdGFbY3VydmVEYXRhLmxlbmd0aCAtIDFdWzFdOwogICAgICAgIHZhciBtaWRkbGVJbmRleCA9IE1hdGguZmxvb3IoY3VydmVEYXRhLmxlbmd0aCAvIDIpOwogICAgICAgIHZhciBtaWRkbGVZID0gY3VydmVEYXRhW21pZGRsZUluZGV4XVsxXTsKICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwg5puy57q/5b2i54q26aqM6K+BIC0g6LW35aeLWTonLCBmaXJzdFksICfkuK3pl7RZOicsIG1pZGRsZVksICfnu5PmnZ9ZOicsIGxhc3RZKTsgLy8g5qOA5p+l5piv5ZCm5Li65pyJ5pWI55qE5LqM5qyh5puy57q/77yI5bqU6K+l5pyJ5pyA5bCP5YC85oiW5pyA5aSn5YC877yJCgogICAgICAgIGlmIChNYXRoLmFicyhhKSA+IDFlLTEwKSB7CiAgICAgICAgICB2YXIgdmVydGV4WCA9IC1iIC8gKDIgKiBhKSArIG1pblBvczsgLy8g6aG254K5WOWdkOagh++8iOi9rOaNouWbnue7neWvueWdkOagh++8iQoKICAgICAgICAgIHZhciB2ZXJ0ZXhZID0gYyAtIGIgKiBiIC8gKDQgKiBhKTsgLy8g6aG254K5WeWdkOaghwoKICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCDkuozmrKHmm7Lnur/pobbngrnkvY3nva46JywgdmVydGV4WCwgJ1nlgLw6JywgdmVydGV4WSk7CiAgICAgICAgfQogICAgICB9IC8vIOacgOe7iOmqjOivgeWSjOa4heeQhuabsue6v+aVsOaNrgoKCiAgICAgIHZhciBmaW5hbEN1cnZlRGF0YSA9IGN1cnZlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKHBvaW50KSB7CiAgICAgICAgdmFyIF9wb2ludCA9IF9zbGljZWRUb0FycmF5KHBvaW50LCAyKSwKICAgICAgICAgICAgeCA9IF9wb2ludFswXSwKICAgICAgICAgICAgeSA9IF9wb2ludFsxXTsKCiAgICAgICAgcmV0dXJuIGlzRmluaXRlKHgpICYmIGlzRmluaXRlKHkpICYmIHkgPj0gMCAmJiB4ID49IHN0YXJ0WCAmJiB4IDw9IGVuZFg7CiAgICAgIH0pOyAvLyDnoa7kv53mm7Lnur/mlbDmja7mjIlY5Z2Q5qCH5o6S5bqPCgogICAgICBmaW5hbEN1cnZlRGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdOwogICAgICB9KTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOacgOe7iOabsue6v+aVsOaNrumqjOivgTonKTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0g5Y6f5aeL5pWw5o2u54K55pWw6YePOicsIGN1cnZlRGF0YS5sZW5ndGgpOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwgLSDmuIXnkIblkI7mlbDmja7ngrnmlbDph486JywgZmluYWxDdXJ2ZURhdGEubGVuZ3RoKTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0gWOi9tOiMg+WbtDonLCBmaW5hbEN1cnZlRGF0YS5sZW5ndGggPiAwID8gIiIuY29uY2F0KGZpbmFsQ3VydmVEYXRhWzBdWzBdLCAiIFx1NTIzMCAiKS5jb25jYXQoZmluYWxDdXJ2ZURhdGFbZmluYWxDdXJ2ZURhdGEubGVuZ3RoIC0gMV1bMF0pIDogJ+aXoOaVsOaNricpOwogICAgICB0aGlzLmNoYXJ0RGF0YTIgPSBmaW5hbEN1cnZlRGF0YTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IGNoYXJ0RGF0YTLlt7Lmm7TmlrDvvIzplb/luqY6JywgdGhpcy5jaGFydERhdGEyLmxlbmd0aCk7IC8vIOiwg+aVtFjovbTojIPlm7Tku6XmmL7npLrlrozmlbTmm7Lnur8KCiAgICAgIGlmIChmaW5hbEN1cnZlRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy54QXhpc19taW4gPSBNYXRoLm1pbih0aGlzLnhBeGlzX21pbiwgZmluYWxDdXJ2ZURhdGFbMF1bMF0pOwogICAgICAgIHRoaXMueEF4aXNfbWF4ID0gTWF0aC5tYXgodGhpcy54QXhpc19tYXgsIGZpbmFsQ3VydmVEYXRhW2ZpbmFsQ3VydmVEYXRhLmxlbmd0aCAtIDFdWzBdKTsKICAgICAgfQoKICAgICAgdGhpcy5yZW5kZXJDaGFydCh0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgICB0aGlzLmxvZ2dlci5pbmZvKCdDaGFydC1Gb2N1cy52dWUgfCDkuozmrKHmm7Lnur/mlbDmja7ngrnlt7LnlJ/miJDlubbmuLLmn5PlrozmiJAnKTsKICAgIH0sCiAgICAvLyDnlJ/miJDnur/mgKfmm7Lnur/mlbDmja7ngrnvvIjlvZNhPTDml7bvvIkKICAgIGdlbmVyYXRlTGluZWFyQ3VydmU6IGZ1bmN0aW9uIGdlbmVyYXRlTGluZWFyQ3VydmUoYiwgYywgYmVzdFBvc2l0aW9uKSB7CiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOW8gOWni+eUn+aIkOe6v+aAp+absue6v+aVsOaNrueCuTonLCB7CiAgICAgICAgYjogYiwKICAgICAgICBjOiBjLAogICAgICAgIGJlc3RQb3NpdGlvbjogYmVzdFBvc2l0aW9uCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygnQ2hhcnQtRm9jdXMudnVlIHwg5byA5aeL55Sf5oiQ57q/5oCn5puy57q/5pWw5o2u54K5OicsIHsKICAgICAgICBiOiBiLAogICAgICAgIGM6IGMsCiAgICAgICAgYmVzdFBvc2l0aW9uOiBiZXN0UG9zaXRpb24KICAgICAgfSk7IC8vIOWvueS6jue6v+aAp+aLn+WQiO+8jOaIkeS7rOmcgOimgeaJvuWIsOaVsOaNrueCueeahOacgOWwj+S9jee9ruS9nOS4uuWBj+enu+mHjwoKICAgICAgdmFyIG1pblBvcyA9IDA7CgogICAgICBpZiAodGhpcy5jaGFydERhdGExX3Bvcy5sZW5ndGggPiAwKSB7CiAgICAgICAgbWluUG9zID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2hhcnREYXRhMV9wb3MubWFwKGZ1bmN0aW9uIChwb2ludCkgewogICAgICAgICAgcmV0dXJuIHBvaW50WzBdOwogICAgICAgIH0pKSk7CiAgICAgIH0KCiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCDnur/mgKfmi5/lkIjlnZDmoIfns7vnu5/kv6Hmga86Jyk7CiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCAtIOaVsOaNrueCueacgOWwj+S9jee9riAobWluUG9zKTonLCBtaW5Qb3MpOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwgLSDnur/mgKfns7vmlbAgYjonLCBiLCAnYzonLCBjKTsKICAgICAgY29uc29sZS5sb2coJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOe6v+aAp+aLn+WQiOWdkOagh+ezu+e7n+S/oeaBrzonKTsKICAgICAgY29uc29sZS5sb2coJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0g5pWw5o2u54K55pyA5bCP5L2N572uIChtaW5Qb3MpOicsIG1pblBvcyk7CiAgICAgIGNvbnNvbGUubG9nKCdDaGFydC1Gb2N1cy52dWUgfCAtIOe6v+aAp+ezu+aVsCBiOicsIGIsICdjOicsIGMpOwogICAgICB2YXIgY3VydmVEYXRhID0gW107IC8vIOaZuuiDveehruWumuabsue6v+eUn+aIkOiMg+WbtAoKICAgICAgdmFyIHN0YXJ0WCwgZW5kWCwgc3RlcFNpemU7CgogICAgICBpZiAodGhpcy5jaGFydERhdGExX3Bvcy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g5Z+65LqO5pWw5o2u54K56IyD5Zu055Sf5oiQ5puy57q/CiAgICAgICAgdmFyIGRhdGFNaW5YID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2hhcnREYXRhMV9wb3MubWFwKGZ1bmN0aW9uIChwb2ludCkgewogICAgICAgICAgcmV0dXJuIHBvaW50WzBdOwogICAgICAgIH0pKSk7CiAgICAgICAgdmFyIGRhdGFNYXhYID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2hhcnREYXRhMV9wb3MubWFwKGZ1bmN0aW9uIChwb2ludCkgewogICAgICAgICAgcmV0dXJuIHBvaW50WzBdOwogICAgICAgIH0pKSk7CiAgICAgICAgdmFyIGRhdGFSYW5nZSA9IGRhdGFNYXhYIC0gZGF0YU1pblg7IC8vIOaJqeWxleiMg+WbtOS7peehruS/neabsue6v+imhuebluWujOaVtAoKICAgICAgICB2YXIgZXh0ZW5zaW9uID0gTWF0aC5tYXgoZGF0YVJhbmdlICogMC4yLCAxMDAwKTsKICAgICAgICBzdGFydFggPSBkYXRhTWluWCAtIGV4dGVuc2lvbjsKICAgICAgICBlbmRYID0gZGF0YU1heFggKyBleHRlbnNpb247IC8vIOagueaNruaVsOaNruiMg+WbtOiwg+aVtOatpemVvwoKICAgICAgICBzdGVwU2l6ZSA9IE1hdGgubWF4KE1hdGguZmxvb3IoZGF0YVJhbmdlIC8gMTAwKSwgMjApOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenOayoeacieaVsOaNrueCue+8jOS9v+eUqOm7mOiupOiMg+WbtAogICAgICAgIHZhciByYW5nZSA9IDUwMDA7CiAgICAgICAgc3RhcnRYID0gYmVzdFBvc2l0aW9uIC0gcmFuZ2U7CiAgICAgICAgZW5kWCA9IGJlc3RQb3NpdGlvbiArIHJhbmdlOwogICAgICAgIHN0ZXBTaXplID0gNTA7CiAgICAgIH0gLy8g56Gu5L+d5puy57q/6KaG55uW5b2T5YmNWOi9tOiMg+WbtAoKCiAgICAgIHN0YXJ0WCA9IE1hdGgubWluKHN0YXJ0WCwgdGhpcy54QXhpc19taW4pOwogICAgICBlbmRYID0gTWF0aC5tYXgoZW5kWCwgdGhpcy54QXhpc19tYXgpOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwg57q/5oCn5puy57q/55Sf5oiQ6IyD5Zu0OicsIHN0YXJ0WCwgJ+WIsCcsIGVuZFgsICfmraXplb86Jywgc3RlcFNpemUpOyAvLyDnlJ/miJDnur/mgKfmm7Lnur/mlbDmja7ngrkKCiAgICAgIGZvciAodmFyIHggPSBzdGFydFg7IHggPD0gZW5kWDsgeCArPSBzdGVwU2l6ZSkgewogICAgICAgIC8vIOWwhue7neWvueWdkOagh+i9rOaNouS4uuebuOWvueWdkOagh+i/m+ihjOiuoeeulwogICAgICAgIHZhciByZWxhdGl2ZVggPSB4IC0gbWluUG9zOwogICAgICAgIHZhciB5ID0gYiAqIHJlbGF0aXZlWCArIGM7IC8vIOe6v+aAp+aWueeoi++8mnkgPSBieCArIGMKICAgICAgICAvLyDpqozor4HorqHnrpfnu5PmnpwKCiAgICAgICAgaWYgKGlzRmluaXRlKHkpICYmIHkgPj0gMCkgewogICAgICAgICAgY3VydmVEYXRhLnB1c2goW3gsIHldKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5sb2dnZXIud2FybignQ2hhcnQtRm9jdXMudnVlIHwg6K2m5ZGK77ya6K6h566X5b6X5Yiw5peg5pWI55qEWeWAvDonLCB5LCAn5Zyo5L2N572uOicsIHgsICfnm7jlr7nkvY3nva46JywgcmVsYXRpdmVYKTsKICAgICAgICB9CiAgICAgIH0gLy8g5re75Yqg5YWz6ZSu54K577ya56Gu5L+d5pWw5o2u54K55L2N572u5Zyo5puy57q/5LiK5pyJ57K+56Gu55qE54K5CgoKICAgICAgaWYgKHRoaXMuY2hhcnREYXRhMV9wb3MubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5jaGFydERhdGExX3BvcyksCiAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBfbG9vcDQgPSBmdW5jdGlvbiBfbG9vcDQoKSB7CiAgICAgICAgICAgIHZhciBwb2ludCA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgdmFyIHggPSBwb2ludFswXTsKICAgICAgICAgICAgdmFyIHJlbGF0aXZlWCA9IHggLSBtaW5Qb3M7CiAgICAgICAgICAgIHZhciB5ID0gYiAqIHJlbGF0aXZlWCArIGM7CgogICAgICAgICAgICBpZiAoaXNGaW5pdGUoeSkgJiYgeSA+PSAwKSB7CiAgICAgICAgICAgICAgLy8g5qOA5p+l5piv5ZCm5bey57uP5a2Y5Zyo6L+Z5Liq54K577yI6YG/5YWN6YeN5aSN77yJCiAgICAgICAgICAgICAgdmFyIGV4aXN0cyA9IGN1cnZlRGF0YS5zb21lKGZ1bmN0aW9uIChjdXJ2ZVBvaW50KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoY3VydmVQb2ludFswXSAtIHgpIDwgc3RlcFNpemUgLyAyOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBpZiAoIWV4aXN0cykgewogICAgICAgICAgICAgICAgY3VydmVEYXRhLnB1c2goW3gsIHldKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgX2xvb3A0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgfQogICAgICB9IC8vIOaMiVjlnZDmoIfmjpLluo8KCgogICAgICBjdXJ2ZURhdGEuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhWzBdIC0gYlswXTsKICAgICAgfSk7IC8vIOacgOe7iOmqjOivgeWSjOa4heeQhuabsue6v+aVsOaNrgoKICAgICAgdmFyIGZpbmFsQ3VydmVEYXRhID0gY3VydmVEYXRhLmZpbHRlcihmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgICB2YXIgX3BvaW50MiA9IF9zbGljZWRUb0FycmF5KHBvaW50LCAyKSwKICAgICAgICAgICAgeCA9IF9wb2ludDJbMF0sCiAgICAgICAgICAgIHkgPSBfcG9pbnQyWzFdOwoKICAgICAgICByZXR1cm4gaXNGaW5pdGUoeCkgJiYgaXNGaW5pdGUoeSkgJiYgeSA+PSAwICYmIHggPj0gc3RhcnRYICYmIHggPD0gZW5kWDsKICAgICAgfSk7CiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCDnur/mgKfmm7Lnur/mnIDnu4jmlbDmja7pqozor4E6Jyk7CiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCAtIOWOn+Wni+aVsOaNrueCueaVsOmHjzonLCBjdXJ2ZURhdGEubGVuZ3RoKTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IC0g5riF55CG5ZCO5pWw5o2u54K55pWw6YePOicsIGZpbmFsQ3VydmVEYXRhLmxlbmd0aCk7CiAgICAgIHRoaXMuY2hhcnREYXRhMiA9IGZpbmFsQ3VydmVEYXRhOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwgY2hhcnREYXRhMuW3suabtOaWsO+8iOe6v+aAp+aLn+WQiO+8ie+8jOmVv+W6pjonLCB0aGlzLmNoYXJ0RGF0YTIubGVuZ3RoKTsgLy8g6LCD5pW0WOi9tOiMg+WbtOS7peaYvuekuuWujOaVtOabsue6vwoKICAgICAgaWYgKGZpbmFsQ3VydmVEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnhBeGlzX21pbiA9IE1hdGgubWluKHRoaXMueEF4aXNfbWluLCBmaW5hbEN1cnZlRGF0YVswXVswXSk7CiAgICAgICAgdGhpcy54QXhpc19tYXggPSBNYXRoLm1heCh0aGlzLnhBeGlzX21heCwgZmluYWxDdXJ2ZURhdGFbZmluYWxDdXJ2ZURhdGEubGVuZ3RoIC0gMV1bMF0pOwogICAgICB9CgogICAgICB0aGlzLnJlbmRlckNoYXJ0KHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOe6v+aAp+absue6v+aVsOaNrueCueW3sueUn+aIkOW5tua4suafk+WujOaIkCcpOwogICAgfSwKICAgIC8vIOaLn+WQiOS6jOasoeabsue6v+acgOWwj+eCuQogICAgZml0UXVhZHJhdGljQ3VydmVfbWluUG9pbnQ6IGZ1bmN0aW9uIGZpdFF1YWRyYXRpY0N1cnZlX21pblBvaW50KGRhdGFTdHJpbmcpIHsKICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5o6l5pS25pyA5bCP54K55pWw5o2uOicsIGRhdGFTdHJpbmcpOwogICAgICB2YXIgcGFydHMgPSBkYXRhU3RyaW5nLnNwbGl0KCc6Jyk7CgogICAgICBpZiAocGFydHMubGVuZ3RoID49IDMpIHsKICAgICAgICB2YXIgYmVzdFBvc2l0aW9uID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7CiAgICAgICAgdmFyIG1pbkhGUiA9IHBhcnNlRmxvYXQocGFydHNbMl0pOyAvLyDmm7TmlrDmlofmnKzmoYbmmL7npLoKCiAgICAgICAgdGhpcy5xdWFkcmF0aWNSZXN1bHQuYmVzdFBvc2l0aW9uID0gYmVzdFBvc2l0aW9uLnRvRml4ZWQoMik7CiAgICAgICAgdGhpcy5xdWFkcmF0aWNSZXN1bHQubWluSEZSID0gbWluSEZSLnRvRml4ZWQoMyk7CiAgICAgICAgdGhpcy5xdWFkcmF0aWNSZXN1bHQuc2hvdyA9IHRydWU7IC8vIOa3u+WKoOacgOWwj+eCueWIsOWbvuihqAoKICAgICAgICB0aGlzLmNoYXJ0RGF0YTMgPSBbXTsKICAgICAgICB0aGlzLmNoYXJ0RGF0YTMucHVzaChbYmVzdFBvc2l0aW9uLCBtaW5IRlJdKTsKICAgICAgICB0aGlzLnJlbmRlckNoYXJ0KHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5pyA5bCP54K55L+h5oGv5bey5pu05pawOicsIHsKICAgICAgICAgIGJlc3RQb3NpdGlvbjogYmVzdFBvc2l0aW9uLAogICAgICAgICAgbWluSEZSOiBtaW5IRlIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNldEZvY3VzQ2hhcnRSYW5nZTogZnVuY3Rpb24gc2V0Rm9jdXNDaGFydFJhbmdlKGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHsKICAgICAgdGhpcy54X21pbiA9IGxvd2VyQm91bmQ7CiAgICAgIHRoaXMueF9tYXggPSB1cHBlckJvdW5kOwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09IOW8guW4uOeCueajgOa1i+aWueazlSA9PT09PT09PT09PT09PT09PT09PQoKICAgIC8qKgogICAgICog5pm66IO95byC5bi454K55qOA5rWLCiAgICAgKiDkvb/nlKjlpJrnp43mlrnms5Xmo4DmtYvlubbljrvpmaTlvILluLjngrkKICAgICAqLwogICAgcmVtb3ZlT3V0bGllcnM6IGZ1bmN0aW9uIHJlbW92ZU91dGxpZXJzKGRhdGFQb2ludHMpIHsKICAgICAgaWYgKGRhdGFQb2ludHMubGVuZ3RoIDwgNCkgewogICAgICAgIHJldHVybiBkYXRhUG9pbnRzOyAvLyDmlbDmja7ngrnlpKrlsJHvvIzkuI3ov5vooYzlvILluLjlgLzmo4DmtYsKICAgICAgfQoKICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5byA5aeL5pm66IO95byC5bi45YC85qOA5rWL77yM5Y6f5aeL5pWw5o2u54K55pWw6YePOicsIGRhdGFQb2ludHMubGVuZ3RoKTsgLy8g5pa55rOVMe+8muWfuuS6juS6jOasoeabsue6v+aLn+WQiOeahOaui+W3ruWIhuaekAoKICAgICAgdmFyIGNsZWFuRGF0YTEgPSB0aGlzLnJlbW92ZU91dGxpZXJzQnlSZXNpZHVhbChkYXRhUG9pbnRzKTsgLy8g5pa55rOVMu+8muWfuuS6jkhGUue7n+iuoeWIhuW4g+eahElRUuaWueazlQoKICAgICAgdmFyIGNsZWFuRGF0YTIgPSB0aGlzLnJlbW92ZU91dGxpZXJzQnlJUVIoZGF0YVBvaW50cyk7IC8vIOaWueazlTPvvJrln7rkuo7kvY3nva7liIbluIPnmoTlvILluLjmo4DmtYsKCiAgICAgIHZhciBjbGVhbkRhdGEzID0gdGhpcy5yZW1vdmVPdXRsaWVyc0J5UG9zaXRpb24oZGF0YVBvaW50cyk7IC8vIOmAieaLqeS/neeVmeacgOWkmuaVsOaNrueCueeahOaWueazle+8jOS9huehruS/neiHs+WwkeaciTPkuKrmlbDmja7ngrkKCiAgICAgIHZhciBiZXN0Q2xlYW5EYXRhID0gY2xlYW5EYXRhMTsKCiAgICAgIGlmIChjbGVhbkRhdGEyLmxlbmd0aCA+IGJlc3RDbGVhbkRhdGEubGVuZ3RoICYmIGNsZWFuRGF0YTIubGVuZ3RoID49IDMpIHsKICAgICAgICBiZXN0Q2xlYW5EYXRhID0gY2xlYW5EYXRhMjsKICAgICAgfQoKICAgICAgaWYgKGNsZWFuRGF0YTMubGVuZ3RoID4gYmVzdENsZWFuRGF0YS5sZW5ndGggJiYgY2xlYW5EYXRhMy5sZW5ndGggPj0gMykgewogICAgICAgIGJlc3RDbGVhbkRhdGEgPSBjbGVhbkRhdGEzOwogICAgICB9IC8vIOWmguaenOaJgOacieaWueazlemDvei/h+a7pOW+l+WkquS4peagvO+8jOS9v+eUqOacgOWuveadvueahOaWueazlQoKCiAgICAgIGlmIChiZXN0Q2xlYW5EYXRhLmxlbmd0aCA8IDMpIHsKICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdDaGFydC1Gb2N1cy52dWUgfCDmiYDmnInlvILluLjlgLzmo4DmtYvmlrnms5Xpg73ov4fkuo7kuKXmoLzvvIzkvb/nlKjmnIDlrr3mnb7nmoTmlrnms5UnKTsKICAgICAgICBiZXN0Q2xlYW5EYXRhID0gY2xlYW5EYXRhMjsgLy8gSVFS5pa55rOV55u45a+55a695p2+CgogICAgICAgIGlmIChiZXN0Q2xlYW5EYXRhLmxlbmd0aCA8IDMpIHsKICAgICAgICAgIGJlc3RDbGVhbkRhdGEgPSBkYXRhUG9pbnRzOyAvLyDlpoLmnpzov5jmmK/kuI3lpJ/vvIzov5Tlm57ljp/lp4vmlbDmja4KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOaZuuiDveW8guW4uOWAvOajgOa1i+WujOaIkDog5Y6f5aeL5pWw5o2uJywgZGF0YVBvaW50cy5sZW5ndGgsICfkuKrngrnvvIzmuIXnkIblkI4nLCBiZXN0Q2xlYW5EYXRhLmxlbmd0aCwgJ+S4queCuScpOwogICAgICByZXR1cm4gYmVzdENsZWFuRGF0YTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDln7rkuo7kuozmrKHmm7Lnur/mi5/lkIjmrovlt67nmoTlvILluLjlgLzmo4DmtYsKICAgICAqIOazqOaEj++8mueOsOWcqOS4u+imgeS+nei1luWQjuerr+aLn+WQiOe7k+aenO+8jOatpOaWueazleS7heS9nOS4uuWkh+eUqAogICAgICovCiAgICByZW1vdmVPdXRsaWVyc0J5UmVzaWR1YWw6IGZ1bmN0aW9uIHJlbW92ZU91dGxpZXJzQnlSZXNpZHVhbChkYXRhUG9pbnRzKSB7CiAgICAgIGlmIChkYXRhUG9pbnRzLmxlbmd0aCA8IDQpIHsKICAgICAgICByZXR1cm4gZGF0YVBvaW50czsgLy8g6ZyA6KaB6Iez5bCRNOS4queCueaJjeiDvei/m+ihjOS6jOasoeaLn+WQiAogICAgICB9IC8vIOeugOWMluW8guW4uOWAvOajgOa1i++8muebtOaOpeS9v+eUqElRUuaWueazle+8jOS4jeWGjei/m+ihjOS6jOasoeaLn+WQiAoKCiAgICAgIHZhciBwcmVsaW1pbmFyeUNsZWFuID0gdGhpcy5yZW1vdmVPdXRsaWVyc0J5SVFSKGRhdGFQb2ludHMpOwoKICAgICAgaWYgKHByZWxpbWluYXJ5Q2xlYW4ubGVuZ3RoIDwgMykgewogICAgICAgIHJldHVybiBkYXRhUG9pbnRzOwogICAgICB9IC8vIOS4jeWGjei/m+ihjOWJjeerr+aLn+WQiO+8jOebtOaOpei/lOWbnklRUua4heeQhuWQjueahOaVsOaNrgoKCiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOW8guW4uOWAvOajgOa1i++8muS9v+eUqElRUuaWueazle+8jOS4jeWGjei/m+ihjOWJjeerr+aLn+WQiCcpOwogICAgICByZXR1cm4gcHJlbGltaW5hcnlDbGVhbjsKICAgIH0sCgogICAgLyoqCiAgICAgKiDln7rkuo5IRlLnu5/orqHliIbluIPnmoRJUVLlvILluLjlgLzmo4DmtYsKICAgICAqLwogICAgcmVtb3ZlT3V0bGllcnNCeUlRUjogZnVuY3Rpb24gcmVtb3ZlT3V0bGllcnNCeUlRUihkYXRhUG9pbnRzKSB7CiAgICAgIC8vIOiuoeeul0hGUueahOe7n+iuoeS/oeaBrwogICAgICB2YXIgaGZyVmFsdWVzID0gZGF0YVBvaW50cy5tYXAoZnVuY3Rpb24gKHBvaW50KSB7CiAgICAgICAgcmV0dXJuIHBvaW50WzFdOwogICAgICB9KTsgLy8g5o6S5bqPCgogICAgICB2YXIgc29ydGVkSGZyVmFsdWVzID0gX3RvQ29uc3VtYWJsZUFycmF5KGhmclZhbHVlcykuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgfSk7IC8vIOiuoeeul+Wbm+WIhuS9jeaVsAoKCiAgICAgIHZhciBuID0gc29ydGVkSGZyVmFsdWVzLmxlbmd0aDsKICAgICAgdmFyIHExID0gc29ydGVkSGZyVmFsdWVzW01hdGguZmxvb3IobiAvIDQpXTsKICAgICAgdmFyIHEzID0gc29ydGVkSGZyVmFsdWVzW01hdGguZmxvb3IoMyAqIG4gLyA0KV07CiAgICAgIHZhciBpcXIgPSBxMyAtIHExOyAvLyDlrprkuYnlvILluLjlgLzovrnnlYzvvIjkvb/nlKgy5YCNSVFS77yM5q+UMS415YCN5pu05a695p2+77yJCgogICAgICB2YXIgbG93ZXJCb3VuZCA9IHExIC0gMi4wICogaXFyOwogICAgICB2YXIgdXBwZXJCb3VuZCA9IHEzICsgMi4wICogaXFyOyAvLyDov4fmu6TlvILluLjlgLwKCiAgICAgIHZhciBjbGVhbkRhdGEgPSBkYXRhUG9pbnRzLmZpbHRlcihmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgICByZXR1cm4gcG9pbnRbMV0gPj0gbG93ZXJCb3VuZCAmJiBwb2ludFsxXSA8PSB1cHBlckJvdW5kOwogICAgICB9KTsKICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5Z+65LqOSVFS55qE5byC5bi45YC85qOA5rWLOiDljp/lp4vmlbDmja4nLCBkYXRhUG9pbnRzLmxlbmd0aCwgJ+S4queCue+8jOa4heeQhuWQjicsIGNsZWFuRGF0YS5sZW5ndGgsICfkuKrngrknKTsKICAgICAgcmV0dXJuIGNsZWFuRGF0YTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDln7rkuo7kvY3nva7liIbluIPnmoTlvILluLjlgLzmo4DmtYsKICAgICAqLwogICAgcmVtb3ZlT3V0bGllcnNCeVBvc2l0aW9uOiBmdW5jdGlvbiByZW1vdmVPdXRsaWVyc0J5UG9zaXRpb24oZGF0YVBvaW50cykgewogICAgICBpZiAoZGF0YVBvaW50cy5sZW5ndGggPCA0KSB7CiAgICAgICAgcmV0dXJuIGRhdGFQb2ludHM7CiAgICAgIH0gLy8g5oyJ5L2N572u5o6S5bqPCgoKICAgICAgdmFyIHNvcnRlZERhdGEgPSBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YVBvaW50cykuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhWzBdIC0gYlswXTsKICAgICAgfSk7IC8vIOiuoeeul+ebuOmCu+eCueS5i+mXtOeahOi3neemuwoKCiAgICAgIHZhciBkaXN0YW5jZXMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc29ydGVkRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBkaXN0ID0gc29ydGVkRGF0YVtpXVswXSAtIHNvcnRlZERhdGFbaSAtIDFdWzBdOwogICAgICAgIGRpc3RhbmNlcy5wdXNoKGRpc3QpOwogICAgICB9IC8vIOiuoeeul+i3neemu+eahOe7n+iuoeS/oeaBrwoKCiAgICAgIHZhciBzb3J0ZWREaXN0YW5jZXMgPSBbXS5jb25jYXQoZGlzdGFuY2VzKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgICB9KTsKICAgICAgdmFyIG4gPSBzb3J0ZWREaXN0YW5jZXMubGVuZ3RoOwogICAgICB2YXIgbWVkaWFuRGlzdGFuY2UgPSBzb3J0ZWREaXN0YW5jZXNbTWF0aC5mbG9vcihuIC8gMildOwogICAgICB2YXIgcTMgPSBzb3J0ZWREaXN0YW5jZXNbTWF0aC5mbG9vcigzICogbiAvIDQpXTsKICAgICAgdmFyIHRocmVzaG9sZCA9IHEzICsgMS41ICogKHEzIC0gbWVkaWFuRGlzdGFuY2UpOyAvLyDor4bliKvkvY3nva7lvILluLjnmoTngrkKCiAgICAgIHZhciBjbGVhbkRhdGEgPSBbXTsKICAgICAgY2xlYW5EYXRhLnB1c2goc29ydGVkRGF0YVswXSk7IC8vIOesrOS4gOS4queCueaAu+aYr+S/neeVmQoKICAgICAgZm9yICh2YXIgX2kyID0gMTsgX2kyIDwgc29ydGVkRGF0YS5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgdmFyIF9kaXN0ID0gc29ydGVkRGF0YVtfaTJdWzBdIC0gc29ydGVkRGF0YVtfaTIgLSAxXVswXTsKCiAgICAgICAgaWYgKF9kaXN0IDw9IHRocmVzaG9sZCkgewogICAgICAgICAgY2xlYW5EYXRhLnB1c2goc29ydGVkRGF0YVtfaTJdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5qOA5p+l5piv5ZCm5piv5a2k56uL54K577yI5YmN5ZCO6Led56a76YO95b6I5aSn77yJCiAgICAgICAgICB2YXIgaXNJc29sYXRlZCA9IHRydWU7CgogICAgICAgICAgaWYgKF9pMiA+IDEpIHsKICAgICAgICAgICAgdmFyIHByZXZEaXN0ID0gc29ydGVkRGF0YVtfaTIgLSAxXVswXSAtIHNvcnRlZERhdGFbX2kyIC0gMl1bMF07CiAgICAgICAgICAgIGlmIChwcmV2RGlzdCA8PSB0aHJlc2hvbGQpIGlzSXNvbGF0ZWQgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX2kyIDwgc29ydGVkRGF0YS5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIHZhciBuZXh0RGlzdCA9IHNvcnRlZERhdGFbX2kyICsgMV1bMF0gLSBzb3J0ZWREYXRhW19pMl1bMF07CiAgICAgICAgICAgIGlmIChuZXh0RGlzdCA8PSB0aHJlc2hvbGQpIGlzSXNvbGF0ZWQgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWlzSXNvbGF0ZWQpIHsKICAgICAgICAgICAgY2xlYW5EYXRhLnB1c2goc29ydGVkRGF0YVtfaTJdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOWfuuS6juS9jee9rueahOW8guW4uOWAvOajgOa1izog5Y6f5aeL5pWw5o2uJywgZGF0YVBvaW50cy5sZW5ndGgsICfkuKrngrnvvIzmuIXnkIblkI4nLCBjbGVhbkRhdGEubGVuZ3RoLCAn5Liq54K5Jyk7CiAgICAgIHJldHVybiBjbGVhbkRhdGE7CiAgICB9LAoKICAgIC8qKgogICAgICog5omn6KGM5LqM5qyh5puy57q/5ouf5ZCICiAgICAgKiDms6jmhI/vvJrnjrDlnKjkuLvopoHkvp3otZblkI7nq6/mi5/lkIjnu5PmnpzvvIzmraTmlrnms5Xku4XnlKjkuo7mtYvor5XlkozosIPor5UKICAgICAqIOi/lOWbnuaLn+WQiOezu+aVsCB7YSwgYiwgY30KICAgICAqLwogICAgcGVyZm9ybVF1YWRyYXRpY0ZpdDogZnVuY3Rpb24gcGVyZm9ybVF1YWRyYXRpY0ZpdChkYXRhUG9pbnRzKSB7CiAgICAgIGlmIChkYXRhUG9pbnRzLmxlbmd0aCA8IDMpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5byA5aeL5LqM5qyh5puy57q/5ouf5ZCI77yM5pWw5o2u54K55pWw6YePOicsIGRhdGFQb2ludHMubGVuZ3RoKTsgLy8g5qCH5YeG5YyW5Z2Q5qCH77ya5bCG5L2N572u6L2s5o2i5Li655u45a+55Z2Q5qCHCgogICAgICB2YXIgbWluUG9zID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGFQb2ludHMubWFwKGZ1bmN0aW9uIChwb2ludCkgewogICAgICAgIHJldHVybiBwb2ludFswXTsKICAgICAgfSkpKTsKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOacgOWwj+S9jee9riAo5YGP56e76YePKTonLCBtaW5Qb3MpOyAvLyDmnoTlu7rmnIDlsI/kuozkuZjms5XmraPop4TmlrnnqIvnu4QKCiAgICAgIHZhciBzdW1feDQgPSAwLAogICAgICAgICAgc3VtX3gzID0gMCwKICAgICAgICAgIHN1bV94MiA9IDAsCiAgICAgICAgICBzdW1feCA9IDAsCiAgICAgICAgICBzdW1fMSA9IDA7CiAgICAgIHZhciBzdW1feDJ5ID0gMCwKICAgICAgICAgIHN1bV94eSA9IDAsCiAgICAgICAgICBzdW1feSA9IDA7CgogICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGRhdGFQb2ludHMpLAogICAgICAgICAgX3N0ZXAzOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHBvaW50ID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgdmFyIHggPSBwb2ludFswXSAtIG1pblBvczsgLy8g55u45a+55Z2Q5qCHCgogICAgICAgICAgdmFyIHkgPSBwb2ludFsxXTsKICAgICAgICAgIHZhciB4MiA9IHggKiB4OwogICAgICAgICAgdmFyIHgzID0geDIgKiB4OwogICAgICAgICAgdmFyIHg0ID0geDMgKiB4OwogICAgICAgICAgc3VtX3g0ICs9IHg0OwogICAgICAgICAgc3VtX3gzICs9IHgzOwogICAgICAgICAgc3VtX3gyICs9IHgyOwogICAgICAgICAgc3VtX3ggKz0geDsKICAgICAgICAgIHN1bV8xICs9IDE7CiAgICAgICAgICBzdW1feDJ5ICs9IHgyICogeTsKICAgICAgICAgIHN1bV94eSArPSB4ICogeTsKICAgICAgICAgIHN1bV95ICs9IHk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgfQoKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOaLn+WQiOe7n+iuoemHjzonLCB7CiAgICAgICAgc3VtX3g0OiBzdW1feDQsCiAgICAgICAgc3VtX3gzOiBzdW1feDMsCiAgICAgICAgc3VtX3gyOiBzdW1feDIsCiAgICAgICAgc3VtX3g6IHN1bV94LAogICAgICAgIHN1bV8xOiBzdW1fMSwKICAgICAgICBzdW1feDJ5OiBzdW1feDJ5LAogICAgICAgIHN1bV94eTogc3VtX3h5LAogICAgICAgIHN1bV95OiBzdW1feQogICAgICB9KTsgLy8g5p6E5bu657O75pWw55+p6Zi15ZKM5bi45pWw5ZCR6YePCgogICAgICB2YXIgbWF0cml4ID0gW1tzdW1feDQsIHN1bV94Mywgc3VtX3gyXSwgW3N1bV94Mywgc3VtX3gyLCBzdW1feF0sIFtzdW1feDIsIHN1bV94LCBzdW1fMV1dOwogICAgICB2YXIgY29uc3RhbnRzID0gW3N1bV94MnksIHN1bV94eSwgc3VtX3ldOwogICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ2hhcnQtRm9jdXMudnVlIHwg57O75pWw55+p6Zi1OicsIG1hdHJpeCk7CiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDaGFydC1Gb2N1cy52dWUgfCDluLjmlbDlkJHph486JywgY29uc3RhbnRzKTsgLy8g5rGC6Kej57q/5oCn5pa556iL57uE77yI5L2/55So6auY5pav5raI5YWD5rOV77yJCgogICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5zb2x2ZUxpbmVhclN5c3RlbShtYXRyaXgsIGNvbnN0YW50cyk7CgogICAgICBpZiAoIWNvZWZmaWNpZW50cykgewogICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdDaGFydC1Gb2N1cy52dWUgfCDnur/mgKfmlrnnqIvnu4TmsYLop6PlpLHotKUnKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIHJlc3VsdCA9IHsKICAgICAgICBhOiBjb2VmZmljaWVudHNbMF0sCiAgICAgICAgYjogY29lZmZpY2llbnRzWzFdLAogICAgICAgIGM6IGNvZWZmaWNpZW50c1syXQogICAgICB9OwogICAgICB0aGlzLmxvZ2dlci5pbmZvKCdDaGFydC1Gb2N1cy52dWUgfCDmi5/lkIjns7vmlbA6JywgcmVzdWx0KTsgLy8g6aqM6K+B5ouf5ZCI57uT5p6cCgogICAgICBpZiAoIWlzRmluaXRlKHJlc3VsdC5hKSB8fCAhaXNGaW5pdGUocmVzdWx0LmIpIHx8ICFpc0Zpbml0ZShyZXN1bHQuYykpIHsKICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignQ2hhcnQtRm9jdXMudnVlIHwg5ouf5ZCI57O75pWw5YyF5ZCr5peg5pWI5YC8Jyk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0gLy8g5qOA5p+l5piv5ZCm5Li65pyJ5pWI55qE5LqM5qyh5puy57q/77yIYeS4jeS4ujDvvIkKCgogICAgICBpZiAoTWF0aC5hYnMocmVzdWx0LmEpIDwgMWUtMTApIHsKICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdDaGFydC1Gb2N1cy52dWUgfCDorablkYrvvJrkuozmrKHpobnns7vmlbDmjqXov5Ew77yM5Y+v6IO95piv55u057q/5ouf5ZCIJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAoKICAgIC8qKgogICAgICog5rGC6KejM3gz57q/5oCn5pa556iL57uECiAgICAgKi8KICAgIHNvbHZlTGluZWFyU3lzdGVtOiBmdW5jdGlvbiBzb2x2ZUxpbmVhclN5c3RlbShtYXRyaXgsIGNvbnN0YW50cykgewogICAgICAvLyDpq5jmlq/mtojlhYPms5XmsYLop6Pnur/mgKfmlrnnqIvnu4QKICAgICAgdmFyIGF1Z21lbnRlZCA9IFtdOyAvLyDmnoTlu7rlop7lub/nn6npmLUKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgYXVnbWVudGVkW2ldID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShtYXRyaXhbaV0pLCBbY29uc3RhbnRzW2ldXSk7CiAgICAgIH0gLy8g5YmN5ZCR5raI5YWDCgoKICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgMzsgX2kzKyspIHsKICAgICAgICAvLyDlr7vmib7kuLvlhYMKICAgICAgICB2YXIgbWF4Um93ID0gX2kzOwoKICAgICAgICBmb3IgKHZhciBrID0gX2kzICsgMTsgayA8IDM7IGsrKykgewogICAgICAgICAgaWYgKE1hdGguYWJzKGF1Z21lbnRlZFtrXVtfaTNdKSA+IE1hdGguYWJzKGF1Z21lbnRlZFttYXhSb3ddW19pM10pKSB7CiAgICAgICAgICAgIG1heFJvdyA9IGs7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyDkuqTmjaLooYwKCgogICAgICAgIGlmIChtYXhSb3cgIT09IF9pMykgewogICAgICAgICAgdmFyIF9yZWYgPSBbYXVnbWVudGVkW21heFJvd10sIGF1Z21lbnRlZFtfaTNdXTsKICAgICAgICAgIGF1Z21lbnRlZFtfaTNdID0gX3JlZlswXTsKICAgICAgICAgIGF1Z21lbnRlZFttYXhSb3ddID0gX3JlZlsxXTsKICAgICAgICB9IC8vIOajgOafpeS4u+WFg+aYr+WQpuS4uumbtgoKCiAgICAgICAgaWYgKE1hdGguYWJzKGF1Z21lbnRlZFtfaTNdW19pM10pIDwgMWUtMTApIHsKICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdDaGFydC1Gb2N1cy52dWUgfCDnur/mgKfmlrnnqIvnu4TlpYflvILvvIzml6Dms5XmsYLop6MnKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0gLy8g5raI5YWDCgoKICAgICAgICBmb3IgKHZhciBfayA9IF9pMyArIDE7IF9rIDwgMzsgX2srKykgewogICAgICAgICAgdmFyIGZhY3RvciA9IGF1Z21lbnRlZFtfa11bX2kzXSAvIGF1Z21lbnRlZFtfaTNdW19pM107CgogICAgICAgICAgZm9yICh2YXIgaiA9IF9pMzsgaiA8IDQ7IGorKykgewogICAgICAgICAgICBhdWdtZW50ZWRbX2tdW2pdIC09IGZhY3RvciAqIGF1Z21lbnRlZFtfaTNdW2pdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyDlm57ku6PmsYLop6MKCgogICAgICB2YXIgc29sdXRpb24gPSBbMCwgMCwgMF07CgogICAgICBmb3IgKHZhciBfaTQgPSAyOyBfaTQgPj0gMDsgX2k0LS0pIHsKICAgICAgICBzb2x1dGlvbltfaTRdID0gYXVnbWVudGVkW19pNF1bM107CgogICAgICAgIGZvciAodmFyIF9qID0gX2k0ICsgMTsgX2ogPCAzOyBfaisrKSB7CiAgICAgICAgICBzb2x1dGlvbltfaTRdIC09IGF1Z21lbnRlZFtfaTRdW19qXSAqIHNvbHV0aW9uW19qXTsKICAgICAgICB9CgogICAgICAgIHNvbHV0aW9uW19pNF0gLz0gYXVnbWVudGVkW19pNF1bX2k0XTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNvbHV0aW9uOwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09IOa1i+ivleWSjOiwg+ivleaWueazlSA9PT09PT09PT09PT09PT09PT09PQoKICAgIC8qKgogICAgICog5rWL6K+V5ZCO56uv5pWw5o2u5o6l5pS25Yqf6IO9CiAgICAgKiDmqKHmi5/lkI7nq6/lj5HpgIHnmoTmi5/lkIjmlbDmja7mnaXmtYvor5XliY3nq6/lpITnkIYKICAgICAqLwogICAgdGVzdEJhY2tlbmREYXRhUmVjZXB0aW9uOiBmdW5jdGlvbiB0ZXN0QmFja2VuZERhdGFSZWNlcHRpb24oKSB7CiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOW8gOWni+a1i+ivleWQjuerr+aVsOaNruaOpeaUtuWKn+iDvScpOwogICAgICBjb25zb2xlLmxvZygnQ2hhcnQtRm9jdXMudnVlIHwg5byA5aeL5rWL6K+V5ZCO56uv5pWw5o2u5o6l5pS25Yqf6IO9Jyk7IC8vIOaooeaLn+WQjuerr+WPkemAgeeahOaVsOaNruagvOW8jwoKICAgICAgdmFyIHRlc3REYXRhID0gImZpdFF1YWRyYXRpY0N1cnZlOjAuMDAwMDAxOi0wLjAyOjUuMDoxNTczMS4xMzoxLjkzMCI7CiAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOaooeaLn+WQjuerr+aVsOaNrjonLCB0ZXN0RGF0YSk7CiAgICAgIGNvbnNvbGUubG9nKCdDaGFydC1Gb2N1cy52dWUgfCDmqKHmi5/lkI7nq6/mlbDmja46JywgdGVzdERhdGEpOyAvLyDosIPnlKjmi5/lkIjmlrnms5UKCiAgICAgIHRoaXMuZml0UXVhZHJhdGljQ3VydmUodGVzdERhdGEpOwogICAgfSwKCiAgICAvKioKICAgICAqIOa1i+ivleS6jOasoeabsue6v+aLn+WQiOWKn+iDvQogICAgICog5rOo5oSP77ya546w5Zyo5Li76KaB5L6d6LWW5ZCO56uv5ouf5ZCI57uT5p6c77yM5q2k5pa55rOV5LuF55So5LqO5rWL6K+V5YmN56uv5ouf5ZCI566X5rOVCiAgICAgKiDkvb/nlKjmqKHmi5/mlbDmja7pqozor4Hmi5/lkIjnrpfms5XmmK/lkKbmraPnoa4KICAgICAqLwogICAgdGVzdFF1YWRyYXRpY0ZpdHRpbmc6IGZ1bmN0aW9uIHRlc3RRdWFkcmF0aWNGaXR0aW5nKCkgewogICAgICB0aGlzLmxvZ2dlci5pbmZvKCdDaGFydC1Gb2N1cy52dWUgfCDlvIDlp4vmtYvor5XkuozmrKHmm7Lnur/mi5/lkIjlip/og70nKTsgLy8g55Sf5oiQ5rWL6K+V5pWw5o2u77yaeSA9IDAuMDAwMSAqICh4IC0gMzAwMCleMiArIDIuMAoKICAgICAgdmFyIHRlc3REYXRhID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHsKICAgICAgICB2YXIgeCA9IDIwMDAgKyBpICogMjAwOyAvLyDkvY3nva7ku44yMDAw5YiwMzgwMAoKICAgICAgICB2YXIgeSA9IDAuMDAwMSAqIE1hdGgucG93KHggLSAzMDAwLCAyKSArIDIuMCArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMjsgLy8g5re75Yqg5Zmq5aOwCgogICAgICAgIHRlc3REYXRhLnB1c2goW3gsIHldKTsKICAgICAgfQoKICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOa1i+ivleaVsOaNrjonLCB0ZXN0RGF0YSk7IC8vIOaJp+ihjOaLn+WQiAoKICAgICAgdmFyIGZpdFJlc3VsdCA9IHRoaXMucGVyZm9ybVF1YWRyYXRpY0ZpdCh0ZXN0RGF0YSk7CgogICAgICBpZiAoZml0UmVzdWx0KSB7CiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5ouf5ZCI57uT5p6cOicsIGZpdFJlc3VsdCk7IC8vIOiuoeeul+eQhuiuuuacgOS9s+S9jee9ru+8iOW6lOivpeaYrzMwMDDvvIkKCiAgICAgICAgdmFyIG1pblBvcyA9IE1hdGgubWluLmFwcGx5KE1hdGgsIF90b0NvbnN1bWFibGVBcnJheSh0ZXN0RGF0YS5tYXAoZnVuY3Rpb24gKHBvaW50KSB7CiAgICAgICAgICByZXR1cm4gcG9pbnRbMF07CiAgICAgICAgfSkpKTsKICAgICAgICB2YXIgdGhlb3JldGljYWxCZXN0UG9zID0gLWZpdFJlc3VsdC5iIC8gKDIgKiBmaXRSZXN1bHQuYSkgKyBtaW5Qb3M7CiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg55CG6K665pyA5L2z5L2N572uOicsIHRoZW9yZXRpY2FsQmVzdFBvcywgJ+acn+acm+WAvDogMzAwMCcpOyAvLyDnlJ/miJDmi5/lkIjmm7Lnur8KCiAgICAgICAgdGhpcy5nZW5lcmF0ZVF1YWRyYXRpY0N1cnZlKGZpdFJlc3VsdC5hLCBmaXRSZXN1bHQuYiwgZml0UmVzdWx0LmMsIHRoZW9yZXRpY2FsQmVzdFBvcyk7CiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbygnQ2hhcnQtRm9jdXMudnVlIHwg5LqM5qyh5puy57q/5ouf5ZCI5rWL6K+V5a6M5oiQJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0NoYXJ0LUZvY3VzLnZ1ZSB8IOS6jOasoeabsue6v+aLn+WQiOa1i+ivleWksei0pScpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Chart-Focus.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div\n      ref=\"linechart\"\n      :style=\"{ width: containerMaxWidth + 'px', height: 80 + 'px' }\"\n      class=\"linechart-panel\"\n      @mousedown=\"startDrag\"\n      @mousemove=\"dragging\"\n      @mouseup=\"endDrag\"\n      @touchstart=\"startDrag\"\n      @touchmove=\"dragging\"\n      @touchend=\"endDrag\"\n    ></div>\n    \n    <!--  -->\n    <div class=\"focus-result-panel\" v-if=\"quadraticResult.show\">\n      <div class=\"panel-header\">\n        <div class=\"header-left\">\n          <div class=\"status-icon\" :class=\"{ 'success': !isHorizontalFit(), 'warning': isHorizontalFit() }\">\n            <i v-if=\"!isHorizontalFit()\" class=\"icon-check\"></i>\n            <i v-else class=\"icon-warning\"></i>\n          </div>\n          <div class=\"panel-title\"></div>\n        </div>\n        <div class=\"close-button\" @click=\"closePanel\">\n          <i class=\"icon-close\"></i>\n        </div>\n      </div>\n      <div class=\"panel-content\">\n        <div class=\"status-row\">\n          <span class=\"label\"></span>\n          <span class=\"value\" :class=\"{ 'error': isHorizontalFit() }\">{{ getBestPositionDisplay() }}</span>\n        </div>\n        <div class=\"status-row\">\n          <span class=\"label\">HFR</span>\n          <span class=\"value\">{{ quadraticResult.minHFR }}</span>\n        </div>\n        <div class=\"status-row\">\n          <span class=\"label\"></span>\n          <span class=\"value\">{{ validDataPointCount }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\n\nexport default {\n  name: 'LineChart',\n  props: {\n    //  setFocusChartTimeMode \n    useTimeAxis: {\n      type: Boolean,\n      default: false\n    },\n    // \n    timeWindowSec: {\n      type: Number,\n      default: 60\n    }\n  },\n  data() {\n    return {\n      containerMaxWidth: 150,\n      // x \n      chartData1_pos: [],\n      // x \n      chartData1_time: [],\n      chartData2: [],\n      chartData3: [],\n      chartData4: [], // \n      xAxis_min: 0,\n      xAxis_max: 6000,\n      yAxis_min: 0,\n      yAxis_max: 30,\n      range: 4,\n      currentX: 0,\n      HFRMax: 0,\n      isDragging: false,\n      startX: 0,\n      deltaX: 0,\n      x_min: -60000,\n      x_max: 60000,\n      // \n      isTimeMode: false,\n      timeTicker: null,\n      // \n      isVisible: false,\n      ioObserver: null,\n      // \n      renderRafId: null,\n      renderScheduled: false,\n      pendingLowerBound: null,\n      pendingUpperBound: null,\n      // \n      debugRenderLogs: false,\n      //  null  quadraticParams \n      lineDataFromPoints: null,\n      quadraticParams: null, // { a,b,c,x0? }\n      // \n      quadraticResult: {\n        show: false,\n        a: '0.000000',\n        b: '0.000000',\n        c: '0.000000',\n        bestPosition: '0.00',\n        minHFR: '0.000'\n      },\n      // \n      logger: {\n        info: (msg, data) => console.log(msg, data || ''),\n        warn: (msg, data) => console.warn(msg, data || ''),\n        error: (msg, data) => console.error(msg, data || ''),\n        debug: (msg, data) => console.debug(msg, data || '')\n      }\n    };\n  },\n  computed: {\n    // \n    validDataPointCount() {\n      const currentData = this.isTimeMode ? this.chartData1_time : this.chartData1_pos;\n      return currentData.length;\n    },\n    // \n    outlierDataPoints() {\n      const currentData = this.isTimeMode ? this.chartData1_time : this.chartData1_pos;\n      if (currentData.length < 4) return [];\n      // \n      return [];\n    }\n  },\n  mounted() {\n    // /\n    const el = this.$refs.linechart;\n    if (window && 'IntersectionObserver' in window && el) {\n      this.ioObserver = new IntersectionObserver((entries) => {\n        const e = entries[0];\n        this.isVisible = !!(e && e.isIntersecting);\n        this.updateTickerByVisibility();\n      }, { threshold: 0.01 });\n      this.ioObserver.observe(el);\n    } else {\n      // \n      this.isVisible = true;\n    }\n    document.addEventListener('visibilitychange', this.updateTickerByVisibility);\n\n    //  prop \n    this.isTimeMode = !!this.useTimeAxis;\n    this.updateTickerByVisibility();\n  },\n  created() {\n    this.$bus.$on('FocusPosition', this.changeRange_x);\n    // this.$bus.$on('UpdateHFR', this.UpdateHFR);\n    this.$bus.$on('fitQuadraticCurve', this.fitQuadraticCurve);\n    this.$bus.$on('fitQuadraticCurve_minPoint', this.fitQuadraticCurve_minPoint);\n\n    this.$bus.$on('ClearfitQuadraticCurve', this.clearChartData2);\n    this.$bus.$on('ClearAllData', this.ClearAllData);\n    this.$bus.$on('ClearFineData', this.ClearFineData);\n    this.$bus.$on('updateFocusChartWidth', this.initChart);\n    this.$bus.$on('addData_Point', this.addData_Point);\n    this.$bus.$on('addMinPointData_Point', this.addMinPointData_Point);\n    this.$bus.$on('addLineData_Point', this.addLineData_Point);\n    this.$bus.$on('setFocusChartRange', this.setFocusChartRange);\n    // \n    this.$bus.$on('setFocusChartTimeMode', this.setTimeMode);\n    this.$bus.$on('addFwhmNow', this.addFwhmPointNow);\n\n  },\n  beforeDestroy() {\n    this.teardownBusAndTimers();\n  },\n  destroyed() {\n    this.teardownBusAndTimers();\n  },\n  methods: {\n    // \n    isHorizontalFit() {\n      return this.quadraticResult.a === \"0.000000\" || Math.abs(parseFloat(this.quadraticResult.a)) < 1e-10;\n    },\n    // \n    getBestPositionDisplay() {\n      if (this.isHorizontalFit()) {\n        return \"\";\n      }\n      return this.quadraticResult.bestPosition;\n    },\n    // \n    closePanel() {\n      this.quadraticResult.show = false;\n    },\n    // \n    validateFitCoefficients(a, b, c) {\n      // \n      if (!isFinite(a) || !isFinite(b) || !isFinite(c)) {\n        return false;\n      }\n      // a0\n      if (Math.abs(a) < 1e-10) {\n        return false; // \n      }\n      return true;\n    },\n    teardownBusAndTimers() {\n      this.$bus.$off('FocusPosition', this.changeRange_x);\n      this.$bus.$off('ClearfitQuadraticCurve', this.clearChartData2);\n      this.$bus.$off('ClearAllData', this.ClearAllData);\n      this.$bus.$off('updateFocusChartWidth', this.initChart);\n      this.$bus.$off('addData_Point', this.addData_Point);\n      this.$bus.$off('addMinPointData_Point', this.addMinPointData_Point);\n      this.$bus.$off('addLineData_Point', this.addLineData_Point);\n      this.$bus.$off('addQuadraticCurve', this.addLineData_Point);\n      this.$bus.$off('setFocusChartRange', this.setFocusChartRange);\n      this.$bus.$off('setFocusChartTimeMode', this.setTimeMode);\n      this.$bus.$off('addFwhmNow', this.addFwhmPointNow);\n      if (this.timeTicker) {\n        clearInterval(this.timeTicker);\n        this.timeTicker = null;\n      }\n      if (this.ioObserver) {\n        try { this.ioObserver.disconnect(); } catch (e) {}\n        this.ioObserver = null;\n      }\n      document.removeEventListener('visibilitychange', this.updateTickerByVisibility);\n    },\n    initChart(Width) {\n      this.containerMaxWidth = Width - 95;\n      const chartDom = this.$refs.linechart;\n      chartDom.style.width = this.containerMaxWidth + 'px';\n      this.myChart = echarts.init(chartDom);\n      this.renderChart(this.xAxis_min, this.xAxis_max);\n    },\n    startDrag(event) {\n      if (this.isTimeMode) return; // \n      this.isDragging = true;\n      const x = this.getClientX(event);\n      if (typeof x === 'number') this.startX = x;\n    },\n    dragging(event) {\n      if (this.isDragging && !this.isTimeMode) {\n        const x = this.getClientX(event);\n        if (typeof x !== 'number') return;\n        this.deltaX = (x - this.startX) * 10;\n        this.startX = x;\n        const windowWidth = this.xAxis_max - this.xAxis_min;\n        // \n        let newMin = this.xAxis_min - this.deltaX;\n        const minAllowed = this.x_min;\n        const maxAllowed = this.x_max - windowWidth;\n        if (maxAllowed < minAllowed) {\n          // \n          newMin = this.x_min;\n        } else {\n          newMin = Math.max(minAllowed, Math.min(maxAllowed, newMin));\n        }\n        this.xAxis_min = newMin;\n        this.xAxis_max = newMin + windowWidth;\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n      }\n    },\n    getClientX(e) {\n      if (e && e.touches && e.touches.length) return e.touches[0].clientX;\n      if (e && e.changedTouches && e.changedTouches.length) return e.changedTouches[0].clientX;\n      if (typeof e.clientX === 'number') return e.clientX;\n      return undefined;\n    },\n    endDrag() {\n      this.isDragging = false;\n      this.deltaX = 0;\n      // this.$bus.$emit('setTargetPosition', (this.xAxis_min + this.xAxis_max) / 2);\n    },\n    scheduleRender(lowerBound, upperBound) {\n      this.pendingLowerBound = lowerBound;\n      this.pendingUpperBound = upperBound;\n      if (this.renderScheduled) return;\n      this.renderScheduled = true;\n      const cb = () => {\n        this.renderRafId = null;\n        this.renderScheduled = false;\n        this.renderChart(this.pendingLowerBound, this.pendingUpperBound);\n      };\n      if (typeof window !== 'undefined' && window.requestAnimationFrame) {\n        this.renderRafId = window.requestAnimationFrame(cb);\n      } else {\n        //  rAF \n        Promise.resolve().then(cb);\n      }\n    },\n    renderChart(lowerBound, upperBound) {\n      const data1 = this.isTimeMode ? this.chartData1_time : this.chartData1_pos;\n      const y_max = data1.length > 0 ? Math.max(...data1.map(item => item[1])) * 2 : this.yAxis_max;\n      // \n      let decData = [];\n      if (!this.isTimeMode) {\n        if (this.lineDataFromPoints && Array.isArray(this.lineDataFromPoints)) {\n          decData = this.lineDataFromPoints;\n        } else if (this.quadraticParams) {\n          const { a, b, c, x0 } = this.quadraticParams;\n          if (isFinite(a) && isFinite(b) && isFinite(c)) {\n            decData = this.generateQuadraticData(a, b, c, lowerBound, upperBound, isFinite(x0) ? x0 : 0);\n          }\n        } else {\n          decData = this.chartData2; // \n        }\n      }\n      \n      // \n      if (this.debugRenderLogs && this.isTimeMode && data1.length > 0) {\n        console.log('Chart-Focus: renderChart (time mode)', {\n          dataPoints: data1.length,\n          latestPoint: data1[data1.length - 1],\n          y_max: y_max\n        });\n      }\n      const optionXAxis = this.isTimeMode\n        ? {\n            type: 'time',\n            min: Date.now() - this.timeWindowSec * 1000,\n            max: Date.now(),\n            axisLabel: {\n              color: 'white',\n              fontSize: 5,\n              formatter: function (value) {\n                const d = new Date(value);\n                const pad = (n) => (n < 10 ? '0' + n : '' + n);\n                return pad(d.getHours()) + ':' + pad(d.getMinutes()) + ':' + pad(d.getSeconds());\n              }\n            },\n            axisLine: { lineStyle: { color: 'rgba(200, 200, 200, 0.5)' } },\n            splitLine: {\n              show: true,\n              lineStyle: { color: 'rgba(128, 128, 128, 0.5)', width: 1, type: 'solid' }\n            }\n          }\n        : {\n            type: 'value',\n            min: lowerBound,\n            max: upperBound,\n            axisLine: { lineStyle: { color: 'rgba(200, 200, 200, 0.5)' } },\n            axisLabel: { color: 'white', fontSize: 5 },\n            splitLine: { show: true, lineStyle: { color: 'rgba(128, 128, 128, 0.5)', width: 1, type: 'solid' } }\n          };\n      const option = {\n        grid: {\n          left: '0%',\n          right: '2%',\n          bottom: '0%',\n          top: '10%',\n          containLabel: true\n        },\n        xAxis: optionXAxis,\n        yAxis: {\n          min: this.yAxis_min,\n          max: y_max,\n          axisLine: {\n            lineStyle: {\n              color: 'rgba(200, 200, 200, 0.5)'  // y\n            }\n          },\n          axisLabel: {\n            color: 'white',\n            fontSize: 5\n          },\n          splitNumber: 3,\n          splitLine: {\n            show: true,\n            lineStyle: {\n              color: 'rgba(128, 128, 128, 0.5)',\n              width: 1,\n              type: 'solid'\n            }\n          }\n        },\n        series: [\n          {\n            name: 'HFR',\n            type: 'scatter',\n            data: data1,\n            itemStyle: {\n              color: 'red',\n              borderColor: 'white',\n              borderWidth: 1\n            },\n            symbolSize: 8\n          },\n          !this.isTimeMode ? {\n            name: 'Dec',\n            type: 'line',\n            data: decData,\n            itemStyle: {\n              color: 'yellow'\n            },\n            lineStyle: {\n              width: 3,\n              type: 'solid'\n            },\n            symbolSize: 0\n          } : null,\n          !this.isTimeMode ? {\n            name: 'minPoint',\n            type: 'scatter',\n            data: this.chartData3,\n            itemStyle: {\n              color: 'rgba(75, 155, 250, 0.7)'\n            },\n            symbolSize: 4\n          } : null,\n          !this.isTimeMode ? {\n            name: 'xMinLine',\n            type: 'line',\n            data: [\n              [this.x_min, this.yAxis_min],\n              [this.x_min, y_max]\n            ],\n            lineStyle: {\n              color: 'red',\n              width: 1\n            },\n            symbol: 'none'\n          } : null,\n          !this.isTimeMode ? {\n            name: 'xMaxLine',\n            type: 'line',\n            data: [\n              [this.x_max, this.yAxis_min],\n              [this.x_max, y_max]\n            ],\n            lineStyle: {\n              color: 'red',\n              width: 1\n            },\n            symbol: 'none'\n          } : null,\n          !this.isTimeMode ? {\n            name: 'currentPosition',\n            type: 'line',\n            data: [\n              [this.currentX, this.yAxis_min],\n              [this.currentX, y_max]\n            ],\n            lineStyle: {\n              color: 'green',\n              width: 1\n            },\n            symbol: 'none'\n          } : null\n        ]\n      };\n      //  null  series \n      option.series = option.series.filter(Boolean);\n      //  lazyUpdate \n      this.myChart.setOption(option, false, true);\n    },\n    // \"\" x  FWHM \n    addFwhmPointNow(fwhm) {\n      //  fwhm \n      const fwhmNum = typeof fwhm === 'number' ? fwhm : parseFloat(fwhm);\n      if (isNaN(fwhmNum) || fwhmNum <= 0) {\n        console.warn('Chart-Focus: Invalid FWHM value:', fwhm);\n        return;\n      }\n      \n      const now = Date.now();\n      const point = [now, fwhmNum];\n      this.chartData1_time.push(point);\n      \n      console.log('Chart-Focus: addFwhmPointNow', {\n        fwhm: fwhmNum,\n        time: new Date(now).toLocaleTimeString(),\n        isTimeMode: this.isTimeMode,\n        dataLength: this.chartData1_time.length,\n        chartInitialized: !!this.myChart\n      });\n      \n      // \n      const minTs = now - this.timeWindowSec * 1000;\n      this.chartData1_time = this.chartData1_time.filter(p => p[0] >= minTs);\n      \n      // \n      if (this.myChart) {\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n      } else {\n        console.warn('Chart-Focus: myChart not initialized yet');\n      }\n    },\n    // /\n    setTimeMode(flag) {\n      const enable = !!flag;\n      if (enable === this.isTimeMode) return;\n      this.isTimeMode = enable;\n      this.updateTickerByVisibility();\n      if (this.myChart) { this.myChart.clear(); }\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    stopTimeTicker() {\n      if (this.timeTicker) {\n        clearInterval(this.timeTicker);\n        this.timeTicker = null;\n      }\n    },\n    startTimeTicker() {\n      if (this.timeTicker) return;\n      this.timeTicker = setInterval(() => {\n        // \n        if (this.myChart) {\n          this.scheduleRender(this.xAxis_min, this.xAxis_max);\n        }\n      }, 1000);\n    },\n    updateTickerByVisibility() {\n      const docVisible = typeof document !== 'undefined' ? !document.hidden : true;\n      const shouldRun = this.isTimeMode && this.isVisible && docVisible;\n      if (shouldRun) this.startTimeTicker(); else this.stopTimeTicker();\n    },\n    addData_Point(x,y) {\n      this.logger.info('Chart-Focus.vue | :', { x, y });\n      \n      // HFR100\n      if (y >= 100) {\n        this.logger.warn('Chart-Focus.vue | HFR(>=100):', { x, y });\n        return;\n      }\n      \n      const newDataPoint = [x, y];\n      const existingPointIndex = this.chartData1_pos.findIndex(point => point[0] === newDataPoint[0]);\n      if (existingPointIndex !== -1) {\n        // If the x value already exists, update the y value\n        if (newDataPoint[1] == 0 || newDataPoint[1] == this.chartData1_pos[existingPointIndex][1]) return;\n        this.chartData1_pos[existingPointIndex] = newDataPoint;\n      } else {\n        // If the x value does not exist, add the new data point\n        this.chartData1_pos.push(newDataPoint);\n      }\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    // /\n    addLineData_Point(dataOrA, b, c) {\n      // \n      if (Array.isArray(dataOrA)) {\n        this.lineDataFromPoints = dataOrA;\n        this.quadraticParams = null;\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n        return;\n      }\n\n      //  { a, b, c }\n      if (dataOrA && typeof dataOrA === 'object' &&\n          (typeof dataOrA.a === 'number' || typeof dataOrA.a === 'string') &&\n          (typeof dataOrA.b === 'number' || typeof dataOrA.b === 'string') &&\n          (typeof dataOrA.c === 'number' || typeof dataOrA.c === 'string')) {\n        const aNum = typeof dataOrA.a === 'number' ? dataOrA.a : parseFloat(dataOrA.a);\n        const bNum = typeof dataOrA.b === 'number' ? dataOrA.b : parseFloat(dataOrA.b);\n        const cNum = typeof dataOrA.c === 'number' ? dataOrA.c : parseFloat(dataOrA.c);\n        if (!isFinite(aNum) || !isFinite(bNum) || !isFinite(cNum)) {\n          this.scheduleRender(this.xAxis_min, this.xAxis_max);\n          return;\n        }\n        const centerX = typeof dataOrA.x0 === 'number' ? dataOrA.x0 : (typeof dataOrA.x0 === 'string' ? parseFloat(dataOrA.x0) : 0);\n        this.quadraticParams = { a: aNum, b: bNum, c: cNum, x0: isFinite(centerX) ? centerX : 0 };\n        this.lineDataFromPoints = null;\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n        return;\n      }\n\n      //  a, b, c\n      if ((typeof dataOrA === 'number' || typeof dataOrA === 'string') &&\n          (typeof b === 'number' || typeof b === 'string') &&\n          (typeof c === 'number' || typeof c === 'string')) {\n        const aNum = typeof dataOrA === 'number' ? dataOrA : parseFloat(dataOrA);\n        const bNum = typeof b === 'number' ? b : parseFloat(b);\n        const cNum = typeof c === 'number' ? c : parseFloat(c);\n        if (!isFinite(aNum) || !isFinite(bNum) || !isFinite(cNum)) {\n          this.scheduleRender(this.xAxis_min, this.xAxis_max);\n          return;\n        }\n        this.quadraticParams = { a: aNum, b: bNum, c: cNum };\n        this.lineDataFromPoints = null;\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n        return;\n      }\n\n      // \n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    // \n    generateQuadraticData(a, b, c, xMin, xMax, centerX = 0) {\n      const start = Number.isFinite(xMin) ? xMin : 0;\n      const end = Number.isFinite(xMax) ? xMax : 100;\n      const span = end - start;\n      const samples = Math.max(2, Math.min(400, Math.ceil(span / 50))); // \n      const step = span / samples || 1;\n      const data = [];\n      for (let x = start; x <= end; x += step) {\n        const t = x - centerX;\n        const y = a * t * t + b * t + c;\n        data.push([x, y]);\n      }\n      // \n      if (data.length === 0 || data[data.length - 1][0] < end) {\n        const tEnd = end - centerX;\n        const yEnd = a * tEnd * tEnd + b * tEnd + c;\n        data.push([end, yEnd]);\n      }\n      return data;\n    },\n    addMinPointData_Point(x,y) {\n      const newDataPoint = [x, y];\n      this.chartData3.push(newDataPoint);\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    // x\n    changeRange_x(current, target) {\n      this.xAxis_min = Number(current) - 3000;\n      this.xAxis_max = Number(current) + 3000;\n      this.currentX = current;\n      console.log(\"QHYCCD | changeRange_x:\", current, this.xAxis_min, this.xAxis_max);\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n\n    // \n    clearChartData1() {\n      this.chartData1_pos = [];\n      this.chartData1_time = [];\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    clearChartData2() {\n      this.chartData2 = [];\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    ClearAllData() {\n      this.chartData1_pos = [];\n      this.chartData1_time = [];\n      this.chartData2 = [];\n      this.chartData3 = [];\n      this.chartData4 = [];\n      this.quadraticResult.show = false;\n      this.yAxis_max = 30;\n      this.HFRMax = 15;\n      this.renderChart(this.xAxis_min, this.xAxis_max);\n    },\n    \n    // \n    ClearFineData() {\n      this.logger.info('Chart-Focus.vue | ');\n      this.chartData1_pos = [];\n      this.chartData1_time = [];\n      this.chartData2 = [];\n      this.chartData3 = [];\n      this.chartData4 = [];\n      this.quadraticResult.show = false;\n      this.renderChart(this.xAxis_min, this.xAxis_max);\n    },\n    \n    // \n    updateOutlierData() {\n      const currentData = this.isTimeMode ? this.chartData1_time : this.chartData1_pos;\n      if (currentData.length >= 4) {\n        this.chartData4 = this.outlierDataPoints;\n        this.logger.debug('Chart-Focus.vue | :', this.chartData4.length);\n      } else {\n        this.chartData4 = [];\n      }\n    },\n    // \n    RangeSwitch() {\n      if (this.range === 4) {\n        this.range = 2;\n        this.yAxis_min = -2;\n        this.yAxis_max = 2;\n      } else if (this.range === 2) {\n        this.range = 1;\n        this.yAxis_min = -1;\n        this.yAxis_max = 1;\n      } else if (this.range === 1) {\n        this.range = 4;\n        this.yAxis_min = -4;\n        this.yAxis_max = 4;\n      }\n      this.renderChart(this.xAxis_min, this.xAxis_max);\n    },\n    // HFR\n    // UpdateHFR(HFR) {\n    //   const newDataPoint = [this.currentX, HFR];\n    //   this.addData_Point(newDataPoint);\n    //   // console.log(\"QHYCCD | UpdateHFR:\", newDataPoint);\n    //   // this.$bus.$emit('SendConsoleLogMsg', 'UpdateHFR:' + newDataPoint, 'info');\n    //   this.renderChart(this.xAxis_min, this.xAxis_max);\n    // },\n    // \n    fitQuadraticCurve(dataString) {\n      this.logger.info('Chart-Focus.vue | :', dataString);\n      console.log('Chart-Focus.vue | :', dataString);\n      \n      const parts = dataString.split(':');\n      this.logger.info('Chart-Focus.vue | :', parts);\n      console.log('Chart-Focus.vue | :', parts);\n      \n      if (parts.length >= 6) {\n        const a = parseFloat(parts[1]);\n        const b = parseFloat(parts[2]);\n        const c = parseFloat(parts[3]);\n        const bestPosition = parseFloat(parts[4]);\n        const minHFR = parseFloat(parts[5]);\n        \n        this.logger.info('Chart-Focus.vue | :', { a, b, c, bestPosition, minHFR });\n        console.log('Chart-Focus.vue | :', { a, b, c, bestPosition, minHFR });\n        console.log('Chart-Focus.vue | :', parts);\n        \n        // \n        if (!this.validateFitCoefficients(a, b, c)) {\n          this.logger.warn('Chart-Focus.vue | ');\n        }\n        \n        // \n        this.logger.info('Chart-Focus.vue | ');\n        console.log('Chart-Focus.vue | ');\n        \n        // \n        if (Math.abs(a) < 1e-10) {\n          this.logger.warn('Chart-Focus.vue | a0');\n          console.warn('Chart-Focus.vue | a0');\n          \n          // \n          this.generateLinearCurve(b, c, bestPosition);\n          \n          // \n          this.quadraticResult.a = \"0.000000\"; // 0\n          this.quadraticResult.b = b.toFixed(6);\n          this.quadraticResult.c = c.toFixed(6);\n          this.quadraticResult.bestPosition = \"\";\n          this.quadraticResult.minHFR = minHFR.toFixed(3);\n          this.quadraticResult.show = true;\n          \n          return; // \n        }\n        \n        // \n        this.quadraticResult.a = a.toFixed(6);\n        this.quadraticResult.b = b.toFixed(6);\n        this.quadraticResult.c = c.toFixed(6);\n        this.quadraticResult.bestPosition = bestPosition.toFixed(2);\n        this.quadraticResult.minHFR = minHFR.toFixed(3);\n        this.quadraticResult.show = true;\n        \n        this.logger.info('Chart-Focus.vue | :', this.quadraticResult);\n        \n        // \n        this.generateQuadraticCurve(a, b, c, bestPosition);\n        \n        // \n        this.updateOutlierData();\n        \n        this.logger.info('Chart-Focus.vue | :', this.quadraticResult);\n      } else {\n        this.logger.error('Chart-Focus.vue | :', parts.length);\n      }\n    },\n    \n    // \n    generateQuadraticCurve(a, b, c, bestPosition) {\n      this.logger.info('Chart-Focus.vue | :', { a, b, c, bestPosition });\n      \n      // abc\n      // \n      \n      // bestPositionminPos\n      let minPos = 0;\n      if (this.chartData1_pos.length > 0) {\n        minPos = Math.min(...this.chartData1_pos.map(point => point[0]));\n      }\n      \n      this.logger.debug('Chart-Focus.vue | :');\n      this.logger.debug('Chart-Focus.vue | -  (minPos):', minPos);\n      this.logger.debug('Chart-Focus.vue | -  (bestPosition):', bestPosition);\n      this.logger.debug('Chart-Focus.vue | -  a:', a, 'b:', b, 'c:', c);\n      \n      console.log('Chart-Focus.vue | :');\n      console.log('Chart-Focus.vue | -  (minPos):', minPos);\n      console.log('Chart-Focus.vue | -  (bestPosition):', bestPosition);\n      console.log('Chart-Focus.vue | -  a:', a, 'b:', b, 'c:', c);\n      console.log('Chart-Focus.vue | - :', this.chartData1_pos);\n      \n      // \n      const expectedBestRelativePos = -b / (2 * a);\n      const expectedBestAbsolutePos = expectedBestRelativePos + minPos;\n      this.logger.debug('Chart-Focus.vue | - :', expectedBestRelativePos);\n      this.logger.debug('Chart-Focus.vue | - :', expectedBestAbsolutePos);\n      this.logger.debug('Chart-Focus.vue | - :', Math.abs(expectedBestAbsolutePos - bestPosition));\n      \n      const curveData = [];\n      \n      // \n      let startX, endX, stepSize;\n      \n      if (this.chartData1_pos.length > 0) {\n        // \n        const dataMinX = Math.min(...this.chartData1_pos.map(point => point[0]));\n        const dataMaxX = Math.max(...this.chartData1_pos.map(point => point[0]));\n        const dataRange = dataMaxX - dataMinX;\n        \n        // \n        const extension = Math.max(dataRange * 0.2, 1000); // 20%1000\n        startX = dataMinX - extension;\n        endX = dataMaxX + extension;\n        \n        // \n        stepSize = Math.max(Math.floor(dataRange / 100), 20); // 10020\n      } else {\n        // \n        const range = 5000;\n        startX = bestPosition - range;\n        endX = bestPosition + range;\n        stepSize = 50;\n      }\n      \n      // X\n      startX = Math.min(startX, this.xAxis_min);\n      endX = Math.max(endX, this.xAxis_max);\n      \n      this.logger.debug('Chart-Focus.vue | :', startX, '', endX, ':', stepSize);\n      \n      // \n      for (let x = startX; x <= endX; x += stepSize) {\n        // \n        const relativeX = x - minPos;\n        const y = a * relativeX * relativeX + b * relativeX + c;\n        \n        // \n        if (isFinite(y) && y >= 0) {\n          curveData.push([x, y]);\n        } else {\n          this.logger.warn('Chart-Focus.vue | Y:', y, ':', x, ':', relativeX);\n        }\n      }\n      \n      // \n      if (this.chartData1_pos.length > 0) {\n        for (const point of this.chartData1_pos) {\n          const x = point[0];\n          const relativeX = x - minPos;\n          const y = a * relativeX * relativeX + b * relativeX + c;\n          \n          if (isFinite(y) && y >= 0) {\n            // \n            const exists = curveData.some(curvePoint => Math.abs(curvePoint[0] - x) < stepSize / 2);\n            if (!exists) {\n              curveData.push([x, y]);\n            }\n          }\n        }\n        \n        // \n        const bestRelativeX = bestPosition - minPos;\n        const bestY = a * bestRelativeX * bestRelativeX + b * bestRelativeX + c;\n        if (isFinite(bestY) && bestY >= 0) {\n          const exists = curveData.some(curvePoint => Math.abs(curvePoint[0] - bestPosition) < stepSize / 2);\n          if (!exists) {\n            curveData.push([bestPosition, bestY]);\n          }\n          \n          // \n          const fineRange = Math.max(stepSize * 2, 200); // 200\n          const fineStep = Math.max(stepSize / 10, 5);\n          for (let offset = -fineRange; offset <= fineRange; offset += fineStep) {\n            const x = bestPosition + offset;\n            if (x >= startX && x <= endX) {\n              const relativeX = x - minPos;\n              const y = a * relativeX * relativeX + b * relativeX + c;\n              if (isFinite(y) && y >= 0) {\n                const exists = curveData.some(curvePoint => Math.abs(curvePoint[0] - x) < fineStep / 2);\n                if (!exists) {\n                  curveData.push([x, y]);\n                }\n              }\n            }\n          }\n        }\n      }\n      \n      // X\n      curveData.sort((a, b) => a[0] - b[0]);\n      \n      // \n      if (this.chartData1_pos.length > 0) {\n        const enhancedCurveData = [];\n        const fineStepSize = Math.max(stepSize / 5, 5); // \n        \n        for (let i = 0; i < curveData.length - 1; i++) {\n          const currentPoint = curveData[i];\n          const nextPoint = curveData[i + 1];\n          \n          enhancedCurveData.push(currentPoint);\n          \n          // \n          const hasDataPoint = this.chartData1_pos.some(point => \n            point[0] >= currentPoint[0] && point[0] <= nextPoint[0]\n          );\n          \n          // \n          if (hasDataPoint && (nextPoint[0] - currentPoint[0]) > fineStepSize) {\n            const midPoints = Math.floor((nextPoint[0] - currentPoint[0]) / fineStepSize);\n            for (let j = 1; j < midPoints; j++) {\n              const x = currentPoint[0] + (j * fineStepSize);\n              const relativeX = x - minPos;\n              const y = a * relativeX * relativeX + b * relativeX + c;\n              if (isFinite(y) && y >= 0) {\n                enhancedCurveData.push([x, y]);\n              }\n            }\n          }\n        }\n        \n        // \n        if (curveData.length > 0) {\n          enhancedCurveData.push(curveData[curveData.length - 1]);\n        }\n        \n        // \n        curveData.length = 0;\n        curveData.push(...enhancedCurveData);\n      }\n      \n      // \n      if (curveData.length > 0) {\n        // Y\n        const bestPointY = a * (bestPosition - minPos) * (bestPosition - minPos) + b * (bestPosition - minPos) + c;\n        this.logger.debug('Chart-Focus.vue | :');\n        this.logger.debug('Chart-Focus.vue | - :', bestPosition);\n        this.logger.debug('Chart-Focus.vue | - :', bestPosition - minPos);\n        this.logger.debug('Chart-Focus.vue | - Y:', bestPointY);\n        \n        // \n        this.logger.debug('Chart-Focus.vue | :');\n        for (let i = 0; i < Math.min(this.chartData1_pos.length, 5); i++) {\n          const point = this.chartData1_pos[i];\n          const pointRelativeX = point[0] - minPos;\n          const pointY = a * pointRelativeX * pointRelativeX + b * pointRelativeX + c;\n          const actualY = point[1];\n          const diff = Math.abs(pointY - actualY);\n          this.logger.debug(`Chart-Focus.vue | - ${i}: =${point[0]}, HFR=${actualY}, HFR=${pointY}, =${diff}`);\n        }\n      }\n      \n      this.logger.debug('Chart-Focus.vue | :', curveData.length);\n      this.logger.debug('Chart-Focus.vue | X:', startX, '', endX);\n      this.logger.debug('Chart-Focus.vue | 5:', curveData.slice(0, 5));\n      this.logger.debug('Chart-Focus.vue | 5:', curveData.slice(-5));\n      \n      // \n      if (curveData.length > 0) {\n        const firstY = curveData[0][1];\n        const lastY = curveData[curveData.length - 1][1];\n        const middleIndex = Math.floor(curveData.length / 2);\n        const middleY = curveData[middleIndex][1];\n        \n        this.logger.debug('Chart-Focus.vue |  - Y:', firstY, 'Y:', middleY, 'Y:', lastY);\n        \n        // \n        if (Math.abs(a) > 1e-10) {\n          const vertexX = -b / (2 * a) + minPos; // X\n          const vertexY = c - (b * b) / (4 * a); // Y\n          this.logger.debug('Chart-Focus.vue | :', vertexX, 'Y:', vertexY);\n        }\n      }\n      \n      // \n      const finalCurveData = curveData.filter(point => {\n        const [x, y] = point;\n        return isFinite(x) && isFinite(y) && y >= 0 && x >= startX && x <= endX;\n      });\n      \n      // X\n      finalCurveData.sort((a, b) => a[0] - b[0]);\n      \n      this.logger.debug('Chart-Focus.vue | :');\n      this.logger.debug('Chart-Focus.vue | - :', curveData.length);\n      this.logger.debug('Chart-Focus.vue | - :', finalCurveData.length);\n      this.logger.debug('Chart-Focus.vue | - X:', finalCurveData.length > 0 ? `${finalCurveData[0][0]}  ${finalCurveData[finalCurveData.length - 1][0]}` : '');\n      \n      this.chartData2 = finalCurveData;\n      this.logger.debug('Chart-Focus.vue | chartData2:', this.chartData2.length);\n      \n      // X\n      if (finalCurveData.length > 0) {\n        this.xAxis_min = Math.min(this.xAxis_min, finalCurveData[0][0]);\n        this.xAxis_max = Math.max(this.xAxis_max, finalCurveData[finalCurveData.length - 1][0]);\n      }\n      \n      this.renderChart(this.xAxis_min, this.xAxis_max);\n      \n      this.logger.info('Chart-Focus.vue | ');\n    },\n    \n    // a=0\n    generateLinearCurve(b, c, bestPosition) {\n      this.logger.info('Chart-Focus.vue | :', { b, c, bestPosition });\n      console.log('Chart-Focus.vue | :', { b, c, bestPosition });\n      \n      // \n      let minPos = 0;\n      if (this.chartData1_pos.length > 0) {\n        minPos = Math.min(...this.chartData1_pos.map(point => point[0]));\n      }\n      \n      this.logger.debug('Chart-Focus.vue | :');\n      this.logger.debug('Chart-Focus.vue | -  (minPos):', minPos);\n      this.logger.debug('Chart-Focus.vue | -  b:', b, 'c:', c);\n      \n      console.log('Chart-Focus.vue | :');\n      console.log('Chart-Focus.vue | -  (minPos):', minPos);\n      console.log('Chart-Focus.vue | -  b:', b, 'c:', c);\n      \n      const curveData = [];\n      \n      // \n      let startX, endX, stepSize;\n      \n      if (this.chartData1_pos.length > 0) {\n        // \n        const dataMinX = Math.min(...this.chartData1_pos.map(point => point[0]));\n        const dataMaxX = Math.max(...this.chartData1_pos.map(point => point[0]));\n        const dataRange = dataMaxX - dataMinX;\n        \n        // \n        const extension = Math.max(dataRange * 0.2, 1000);\n        startX = dataMinX - extension;\n        endX = dataMaxX + extension;\n        \n        // \n        stepSize = Math.max(Math.floor(dataRange / 100), 20);\n      } else {\n        // \n        const range = 5000;\n        startX = bestPosition - range;\n        endX = bestPosition + range;\n        stepSize = 50;\n      }\n      \n      // X\n      startX = Math.min(startX, this.xAxis_min);\n      endX = Math.max(endX, this.xAxis_max);\n      \n      this.logger.debug('Chart-Focus.vue | :', startX, '', endX, ':', stepSize);\n      \n      // \n      for (let x = startX; x <= endX; x += stepSize) {\n        // \n        const relativeX = x - minPos;\n        const y = b * relativeX + c; // y = bx + c\n        \n        // \n        if (isFinite(y) && y >= 0) {\n          curveData.push([x, y]);\n        } else {\n          this.logger.warn('Chart-Focus.vue | Y:', y, ':', x, ':', relativeX);\n        }\n      }\n      \n      // \n      if (this.chartData1_pos.length > 0) {\n        for (const point of this.chartData1_pos) {\n          const x = point[0];\n          const relativeX = x - minPos;\n          const y = b * relativeX + c;\n          \n          if (isFinite(y) && y >= 0) {\n            // \n            const exists = curveData.some(curvePoint => Math.abs(curvePoint[0] - x) < stepSize / 2);\n            if (!exists) {\n              curveData.push([x, y]);\n            }\n          }\n        }\n      }\n      \n      // X\n      curveData.sort((a, b) => a[0] - b[0]);\n      \n      // \n      const finalCurveData = curveData.filter(point => {\n        const [x, y] = point;\n        return isFinite(x) && isFinite(y) && y >= 0 && x >= startX && x <= endX;\n      });\n      \n      this.logger.debug('Chart-Focus.vue | :');\n      this.logger.debug('Chart-Focus.vue | - :', curveData.length);\n      this.logger.debug('Chart-Focus.vue | - :', finalCurveData.length);\n      \n      this.chartData2 = finalCurveData;\n      this.logger.debug('Chart-Focus.vue | chartData2:', this.chartData2.length);\n      \n      // X\n      if (finalCurveData.length > 0) {\n        this.xAxis_min = Math.min(this.xAxis_min, finalCurveData[0][0]);\n        this.xAxis_max = Math.max(this.xAxis_max, finalCurveData[finalCurveData.length - 1][0]);\n      }\n      \n      this.renderChart(this.xAxis_min, this.xAxis_max);\n      \n      this.logger.info('Chart-Focus.vue | ');\n    },\n    \n    // \n    fitQuadraticCurve_minPoint(dataString) {\n      this.logger.info('Chart-Focus.vue | :', dataString);\n      \n      const parts = dataString.split(':');\n      if (parts.length >= 3) {\n        const bestPosition = parseFloat(parts[1]);\n        const minHFR = parseFloat(parts[2]);\n        \n        // \n        this.quadraticResult.bestPosition = bestPosition.toFixed(2);\n        this.quadraticResult.minHFR = minHFR.toFixed(3);\n        this.quadraticResult.show = true;\n        \n        // \n        this.chartData3 = [];\n        this.chartData3.push([bestPosition, minHFR]);\n        this.renderChart(this.xAxis_min, this.xAxis_max);\n        \n        this.logger.info('Chart-Focus.vue | :', { bestPosition, minHFR });\n      }\n    },\n    setFocusChartRange(lowerBound, upperBound) {\n      this.x_min = lowerBound;\n      this.x_max = upperBound;\n    },\n    \n    // ====================  ====================\n    \n    /**\n     * \n     * \n     */\n    removeOutliers(dataPoints) {\n      if (dataPoints.length < 4) {\n        return dataPoints; // \n      }\n      \n      this.logger.info('Chart-Focus.vue | :', dataPoints.length);\n      \n      // 1\n      const cleanData1 = this.removeOutliersByResidual(dataPoints);\n      \n      // 2HFRIQR\n      const cleanData2 = this.removeOutliersByIQR(dataPoints);\n      \n      // 3\n      const cleanData3 = this.removeOutliersByPosition(dataPoints);\n      \n      // 3\n      let bestCleanData = cleanData1;\n      if (cleanData2.length > bestCleanData.length && cleanData2.length >= 3) {\n        bestCleanData = cleanData2;\n      }\n      if (cleanData3.length > bestCleanData.length && cleanData3.length >= 3) {\n        bestCleanData = cleanData3;\n      }\n      \n      // \n      if (bestCleanData.length < 3) {\n        this.logger.warn('Chart-Focus.vue | ');\n        bestCleanData = cleanData2; // IQR\n        if (bestCleanData.length < 3) {\n          bestCleanData = dataPoints; // \n        }\n      }\n      \n      this.logger.info('Chart-Focus.vue | : ', dataPoints.length, '', bestCleanData.length, '');\n      \n      return bestCleanData;\n    },\n    \n    /**\n     * \n     * \n     */\n    removeOutliersByResidual(dataPoints) {\n      if (dataPoints.length < 4) {\n        return dataPoints; // 4\n      }\n      \n      // IQR\n      const preliminaryClean = this.removeOutliersByIQR(dataPoints);\n      if (preliminaryClean.length < 3) {\n        return dataPoints;\n      }\n      \n      // IQR\n      this.logger.info('Chart-Focus.vue | IQR');\n      return preliminaryClean;\n    },\n    \n    /**\n     * HFRIQR\n     */\n    removeOutliersByIQR(dataPoints) {\n      // HFR\n      const hfrValues = dataPoints.map(point => point[1]);\n      \n      // \n      const sortedHfrValues = [...hfrValues].sort((a, b) => a - b);\n      \n      // \n      const n = sortedHfrValues.length;\n      const q1 = sortedHfrValues[Math.floor(n / 4)];\n      const q3 = sortedHfrValues[Math.floor(3 * n / 4)];\n      const iqr = q3 - q1;\n      \n      // 2IQR1.5\n      const lowerBound = q1 - 2.0 * iqr;\n      const upperBound = q3 + 2.0 * iqr;\n      \n      // \n      const cleanData = dataPoints.filter(point => \n        point[1] >= lowerBound && point[1] <= upperBound\n      );\n      \n      this.logger.info('Chart-Focus.vue | IQR: ', dataPoints.length, '', cleanData.length, '');\n      \n      return cleanData;\n    },\n    \n    /**\n     * \n     */\n    removeOutliersByPosition(dataPoints) {\n      if (dataPoints.length < 4) {\n        return dataPoints;\n      }\n      \n      // \n      const sortedData = [...dataPoints].sort((a, b) => a[0] - b[0]);\n      \n      // \n      const distances = [];\n      for (let i = 1; i < sortedData.length; i++) {\n        const dist = sortedData[i][0] - sortedData[i-1][0];\n        distances.push(dist);\n      }\n      \n      // \n      const sortedDistances = [...distances].sort((a, b) => a - b);\n      const n = sortedDistances.length;\n      const medianDistance = sortedDistances[Math.floor(n / 2)];\n      const q3 = sortedDistances[Math.floor(3 * n / 4)];\n      const threshold = q3 + 1.5 * (q3 - medianDistance);\n      \n      // \n      const cleanData = [];\n      cleanData.push(sortedData[0]); // \n      \n      for (let i = 1; i < sortedData.length; i++) {\n        const dist = sortedData[i][0] - sortedData[i-1][0];\n        if (dist <= threshold) {\n          cleanData.push(sortedData[i]);\n        } else {\n          // \n          let isIsolated = true;\n          if (i > 1) {\n            const prevDist = sortedData[i-1][0] - sortedData[i-2][0];\n            if (prevDist <= threshold) isIsolated = false;\n          }\n          if (i < sortedData.length - 1) {\n            const nextDist = sortedData[i+1][0] - sortedData[i][0];\n            if (nextDist <= threshold) isIsolated = false;\n          }\n          \n          if (!isIsolated) {\n            cleanData.push(sortedData[i]);\n          }\n        }\n      }\n      \n      this.logger.info('Chart-Focus.vue | : ', dataPoints.length, '', cleanData.length, '');\n      \n      return cleanData;\n    },\n    \n    /**\n     * \n     * \n     *  {a, b, c}\n     */\n    performQuadraticFit(dataPoints) {\n      if (dataPoints.length < 3) {\n        return null;\n      }\n      \n      this.logger.info('Chart-Focus.vue | :', dataPoints.length);\n      \n      // \n      const minPos = Math.min(...dataPoints.map(point => point[0]));\n      this.logger.debug('Chart-Focus.vue |  ():', minPos);\n      \n      // \n      let sum_x4 = 0, sum_x3 = 0, sum_x2 = 0, sum_x = 0, sum_1 = 0;\n      let sum_x2y = 0, sum_xy = 0, sum_y = 0;\n      \n      for (const point of dataPoints) {\n        const x = point[0] - minPos; // \n        const y = point[1];\n        \n        const x2 = x * x;\n        const x3 = x2 * x;\n        const x4 = x3 * x;\n        \n        sum_x4 += x4;\n        sum_x3 += x3;\n        sum_x2 += x2;\n        sum_x += x;\n        sum_1 += 1;\n        \n        sum_x2y += x2 * y;\n        sum_xy += x * y;\n        sum_y += y;\n      }\n      \n      this.logger.debug('Chart-Focus.vue | :', {\n        sum_x4, sum_x3, sum_x2, sum_x, sum_1,\n        sum_x2y, sum_xy, sum_y\n      });\n      \n      // \n      const matrix = [\n        [sum_x4, sum_x3, sum_x2],\n        [sum_x3, sum_x2, sum_x],\n        [sum_x2, sum_x, sum_1]\n      ];\n      \n      const constants = [sum_x2y, sum_xy, sum_y];\n      \n      this.logger.debug('Chart-Focus.vue | :', matrix);\n      this.logger.debug('Chart-Focus.vue | :', constants);\n      \n      // \n      const coefficients = this.solveLinearSystem(matrix, constants);\n      if (!coefficients) {\n        this.logger.error('Chart-Focus.vue | ');\n        return null;\n      }\n      \n      const result = {\n        a: coefficients[0],\n        b: coefficients[1],\n        c: coefficients[2]\n      };\n      \n      this.logger.info('Chart-Focus.vue | :', result);\n      \n      // \n      if (!isFinite(result.a) || !isFinite(result.b) || !isFinite(result.c)) {\n        this.logger.error('Chart-Focus.vue | ');\n        return null;\n      }\n      \n      // a0\n      if (Math.abs(result.a) < 1e-10) {\n        this.logger.warn('Chart-Focus.vue | 0');\n      }\n      \n      return result;\n    },\n    \n    /**\n     * 3x3\n     */\n    solveLinearSystem(matrix, constants) {\n      // \n      const augmented = [];\n      \n      // \n      for (let i = 0; i < 3; i++) {\n        augmented[i] = [...matrix[i], constants[i]];\n      }\n      \n      // \n      for (let i = 0; i < 3; i++) {\n        // \n        let maxRow = i;\n        for (let k = i + 1; k < 3; k++) {\n          if (Math.abs(augmented[k][i]) > Math.abs(augmented[maxRow][i])) {\n            maxRow = k;\n          }\n        }\n        \n        // \n        if (maxRow !== i) {\n          [augmented[i], augmented[maxRow]] = [augmented[maxRow], augmented[i]];\n        }\n        \n        // \n        if (Math.abs(augmented[i][i]) < 1e-10) {\n          this.logger.error('Chart-Focus.vue | ');\n          return null;\n        }\n        \n        // \n        for (let k = i + 1; k < 3; k++) {\n          const factor = augmented[k][i] / augmented[i][i];\n          for (let j = i; j < 4; j++) {\n            augmented[k][j] -= factor * augmented[i][j];\n          }\n        }\n      }\n      \n      // \n      const solution = [0, 0, 0];\n      for (let i = 2; i >= 0; i--) {\n        solution[i] = augmented[i][3];\n        for (let j = i + 1; j < 3; j++) {\n          solution[i] -= augmented[i][j] * solution[j];\n        }\n        solution[i] /= augmented[i][i];\n      }\n      \n      return solution;\n    },\n    \n    // ====================  ====================\n    \n    /**\n     * \n     * \n     */\n    testBackendDataReception() {\n      this.logger.info('Chart-Focus.vue | ');\n      console.log('Chart-Focus.vue | ');\n      \n      // \n      const testData = \"fitQuadraticCurve:0.000001:-0.02:5.0:15731.13:1.930\";\n      this.logger.info('Chart-Focus.vue | :', testData);\n      console.log('Chart-Focus.vue | :', testData);\n      \n      // \n      this.fitQuadraticCurve(testData);\n    },\n    \n    /**\n     * \n     * \n     * \n     */\n    testQuadraticFitting() {\n      this.logger.info('Chart-Focus.vue | ');\n      \n      // y = 0.0001 * (x - 3000)^2 + 2.0\n      const testData = [];\n      for (let i = 0; i < 10; i++) {\n        const x = 2000 + i * 200; // 20003800\n        const y = 0.0001 * Math.pow(x - 3000, 2) + 2.0 + (Math.random() - 0.5) * 0.2; // \n        testData.push([x, y]);\n      }\n      \n      this.logger.debug('Chart-Focus.vue | :', testData);\n      \n      // \n      const fitResult = this.performQuadraticFit(testData);\n      if (fitResult) {\n        this.logger.info('Chart-Focus.vue | :', fitResult);\n        \n        // 3000\n        const minPos = Math.min(...testData.map(point => point[0]));\n        const theoreticalBestPos = -fitResult.b / (2 * fitResult.a) + minPos;\n        this.logger.info('Chart-Focus.vue | :', theoreticalBestPos, ': 3000');\n        \n        // \n        this.generateQuadraticCurve(fitResult.a, fitResult.b, fitResult.c, theoreticalBestPos);\n        \n        this.logger.info('Chart-Focus.vue | ');\n      } else {\n        this.logger.error('Chart-Focus.vue | ');\n      }\n    },\n    \n  }\n}\n</script>\n\n<style scoped>\n.linechart-panel {\n  background-color: rgba(0, 0, 0, 0.0);\n  /* backdrop-filter: blur(5px); */\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n\n.focus-result-panel {\n  position: fixed;\n  top: -200%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 300px;\n  background: linear-gradient(135deg, rgba(30, 30, 30, 0.95), rgba(45, 45, 45, 0.95));\n  border: 1px solid rgba(100, 100, 100, 0.3);\n  border-radius: 8px;\n  padding: 12px;\n  font-size: 12px;\n  color: #e0e0e0;\n  z-index: 1000;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(10px);\n  min-height: 60px;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  padding-bottom: 6px;\n  border-bottom: 1px solid rgba(100, 100, 100, 0.2);\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n}\n\n.close-button {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  background-color: rgba(255, 255, 255, 0.1);\n  color: #b0b0b0;\n  font-size: 14px;\n  font-weight: bold;\n  transition: all 0.2s ease;\n}\n\n.close-button:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n  color: #ffffff;\n}\n\n.status-icon {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 8px;\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.status-icon.success {\n  background-color: rgba(76, 175, 80, 0.2);\n  color: #4caf50;\n  border: 1px solid rgba(76, 175, 80, 0.4);\n}\n\n.status-icon.warning {\n  background-color: rgba(255, 152, 0, 0.2);\n  color: #ff9800;\n  border: 1px solid rgba(255, 152, 0, 0.4);\n}\n\n.panel-title {\n  font-weight: 600;\n  color: #ffffff;\n  font-size: 13px;\n}\n\n.panel-content {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.status-row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2px 0;\n}\n\n.label {\n  color: #b0b0b0;\n  font-size: 11px;\n  font-weight: 500;\n}\n\n.value {\n  color: #ffffff;\n  font-size: 11px;\n  font-weight: 600;\n  font-family: 'Courier New', monospace;\n}\n\n.value.error {\n  color: #ff9800;\n  background: none;\n}\n\n.best-position {\n  margin-bottom: 2px;\n  color: #00ffff;\n  font-size: 9px;\n}\n\n.min-hfr {\n  color: #ff00ff;\n  font-size: 9px;\n}\n\n.fit-info {\n  color: #00ff00;\n  font-size: 8px;\n  margin-top: 2px;\n  font-style: italic;\n}\n</style>\n"],"sourceRoot":"src/components"}]}