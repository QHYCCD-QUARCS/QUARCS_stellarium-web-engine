{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/eslint-loader/index.js??ref--14-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/assets/sw_helpers.js","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/assets/sw_helpers.js","mtime":1756885034407},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1756885033541},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1756885034172},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1756885033526},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/eslint-loader/index.js","mtime":1756885033785}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8gU3RlbGxhcml1bSBXZWIgLSBDb3B5cmlnaHQgKGMpIDIwMjIgLSBTdGVsbGFyaXVtIExhYnMgU1JMCi8vCi8vIFRoaXMgcHJvZ3JhbSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBR1BMIHYzLCBvcgovLyBhbHRlcm5hdGl2ZWx5IHVuZGVyIGEgY29tbWVyY2lhbCBsaWNlbmNlLgovLwovLyBUaGUgdGVybXMgb2YgdGhlIEFHUEwgdjMgbGljZW5zZSBjYW4gYmUgZm91bmQgaW4gdGhlIG1haW4gZGlyZWN0b3J5IG9mIHRoaXMKLy8gcmVwb3NpdG9yeS4KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgU3RlbFdlYkVuZ2luZSBmcm9tICdAL2Fzc2V0cy9qcy9zdGVsbGFyaXVtLXdlYi1lbmdpbmUuanMnOwppbXBvcnQgTW9tZW50IGZyb20gJ21vbWVudCc7IC8vYnkgUUlVIGp1c3Qgb25seSBmb3IgdGVzdGluZwoKdmFyIG15RGF0YSA9IFt7CiAgImludGVyZXN0IjogNC42Mjk2LAogICJtYXRjaCI6ICJOR0MgNjIzMSIsCiAgIm1vZGVsIjogImRzbyIsCiAgIm1vZGVsX2RhdGEiOiB7CiAgICAiQm1hZyI6IDIuODMsCiAgICAiVm1hZyI6IDIuNiwKICAgICJhbmdsZSI6IDkwLAogICAgImRlIjogLTQxLjgyNjY2NywKICAgICJkaW14IjogMTMuOCwKICAgICJkaW15IjogMTMuOCwKICAgICJwbV9kZSI6IC0xLjI4LAogICAgInBtX3JhIjogLTAuOTIsCiAgICAicmEiOiAyNTMuNTM1NDU4LAogICAgInJ2IjogLTI3LjI4CiAgfSwKICAibmFtZXMiOiBbIkMgNzYiLCAiTkFNRSBGYWxzZSBDb21ldCBOZWJ1bGEiLCAiTkFNRSBOb3J0aGVybiBKZXdlbCBCb3ggQ2x1c3RlciIsICJOQU1FIFRhYmxlIG9mIFNjb3JwaXVzIENsdXN0ZXIiLCAiTkFNRSBDcm9jb2RpbGUgQ2x1c3RlciIsICJOR0MgNjIzMSIsICJDbCBDb2xsaW5kZXIgMzE1IiwgIkNsIFZEQkggMjAxIiwgIk9DbCA5OTcuMCIsICJVQlYgTSAzNTQ1NSIsICIxRVMgMTY1MC00MS43IiwgIjFSWFMgSjE2NTQwOC4yLTQxNDkzMiJdLAogICJzaG9ydF9uYW1lIjogIkMgNzYiLAogICJ0eXBlcyI6IFsiT3BDIiwgIkNsKiIsICJtdWwiLCAiZHNvIl0KfSwgewogICJpbnRlcmVzdCI6IDQuNjI3OTk5OTk5OTk5OTk5LAogICJtYXRjaCI6ICJOR0MgMzUzMiIsCiAgIm1vZGVsIjogImRzbyIsCiAgIm1vZGVsX2RhdGEiOiB7CiAgICAiQm1hZyI6IDMuMjgsCiAgICAiVm1hZyI6IDMsCiAgICAiZGUiOiAtNTguNjUzMywKICAgICJkaW14IjogMTMsCiAgICAiZGlteSI6IDEyLAogICAgInBtX2RlIjogMy44OCwKICAgICJwbV9yYSI6IC05LjI1LAogICAgInJhIjogMTY2LjQxMjUsCiAgICAicnYiOiA0LjMxMQogIH0sCiAgIm5hbWVzIjogWyJYQyA5MSIsICJOQU1FIFFIWSBXZWxsIENsdXN0ZXIiLCAiTkFNRSBRSFkgUGFydHkgQ2x1c3RlciIsICJOQU1FIFFIWSBDbHVzdGVyIiwgIk5BTUUgUUhZIFBpbiBDdXNoaW9uIENsdXN0ZXIiLCAiTkdDIFFIWSAzNTMyIiwgIkNsIFFIWSBWREJIIDEwOSIsICJPQ2wgUUhZODM5LjAiXSwKICAic2hvcnRfbmFtZSI6ICJDIDkxIiwKICAidHlwZXMiOiBbIk9wQyIsICJDbCoiLCAibXVsIiwgImRzbyJdCn1dOwp2YXIgREREYXRlID0gRGF0ZTsKCkRERGF0ZS5wcm90b3R5cGUuZ2V0SkQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuZ2V0VGltZSgpIC8gODY0MDAwMDAgKyAyNDQwNTg3LjU7Cn07CgpERERhdGUucHJvdG90eXBlLnNldEpEID0gZnVuY3Rpb24gKGpkKSB7CiAgdGhpcy5zZXRUaW1lKChqZCAtIDI0NDA1ODcuNSkgKiA4NjQwMDAwMCk7Cn07CgpERERhdGUucHJvdG90eXBlLmdldE1KRCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5nZXRKRCgpIC0gMjQwMDAwMC41Owp9OwoKREREYXRlLnByb3RvdHlwZS5zZXRNSkQgPSBmdW5jdGlvbiAobWpkKSB7CiAgdGhpcy5zZXRKRChtamQgKyAyNDAwMDAwLjUpOwp9OwoKdmFyIHN3aCA9IHsKICBpbml0U3RlbFdlYkVuZ2luZTogZnVuY3Rpb24gaW5pdFN0ZWxXZWJFbmdpbmUoc3RvcmUsIHdhc21GaWxlLCBjYW52YXNFbGVtLCBjYWxsQmFja09uRG9uZSkgewogICAgU3RlbFdlYkVuZ2luZSh7CiAgICAgIHdhc21GaWxlOiB3YXNtRmlsZSwKICAgICAgY2FudmFzOiBjYW52YXNFbGVtLAogICAgICB0cmFuc2xhdGVGbjogZnVuY3Rpb24gdHJhbnNsYXRlRm4oZG9tYWluLCBzdHIpIHsKICAgICAgICByZXR1cm4gc3RyOyAvLyByZXR1cm4gaTE4bmV4dC50KHN0ciwge25zOiBkb21haW59KTsKICAgICAgfSwKICAgICAgb25SZWFkeTogZnVuY3Rpb24gb25SZWFkeShsc3RlbCkgewogICAgICAgIHN0b3JlLmNvbW1pdCgncmVwbGFjZVN0ZWxXZWJFbmdpbmUnLCBsc3RlbC5nZXRUcmVlKCkpOwogICAgICAgIGxzdGVsLm9uVmFsdWVDaGFuZ2VkKGZ1bmN0aW9uIChwYXRoLCB2YWx1ZSkgewogICAgICAgICAgdmFyIHRyZWUgPSBzdG9yZS5zdGF0ZS5zdGVsOwoKICAgICAgICAgIF8uc2V0KHRyZWUsIHBhdGgsIHZhbHVlKTsKCiAgICAgICAgICBzdG9yZS5jb21taXQoJ3JlcGxhY2VTdGVsV2ViRW5naW5lJywgdHJlZSk7CiAgICAgICAgfSk7CiAgICAgICAgVnVlLnByb3RvdHlwZS4kc3RlbCA9IGxzdGVsOwogICAgICAgIFZ1ZS5wcm90b3R5cGUuJHNlbGVjdGlvbkxheWVyID0gbHN0ZWwuY3JlYXRlTGF5ZXIoewogICAgICAgICAgaWQ6ICdzbGF5ZXInLAogICAgICAgICAgejogNTAsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgVnVlLnByb3RvdHlwZS4kb2JzZXJ2aW5nTGF5ZXIgPSBsc3RlbC5jcmVhdGVMYXllcih7CiAgICAgICAgICBpZDogJ29ic2xheWVyJywKICAgICAgICAgIHo6IDQwLAogICAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIFZ1ZS5wcm90b3R5cGUuJHNreUhpbnRzTGF5ZXIgPSBsc3RlbC5jcmVhdGVMYXllcih7CiAgICAgICAgICBpZDogJ3NreWhpbnRzbGF5ZXInLAogICAgICAgICAgejogMzgsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgY2FsbEJhY2tPbkRvbmUoKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtb250aE5hbWVzOiBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXSwKICBhc3Ryb0NvbnN0YW50czogewogICAgLy8gTGlnaHQgdGltZSBmb3IgMSBhdSBpbiBzCiAgICBFUkZBX0FVTFQ6IDQ5OS4wMDQ3ODIsCiAgICAvLyBTZWNvbmRzIHBlciBkYXkKICAgIEVSRkFfREFZU0VDOiA4NjQwMC4wLAogICAgLy8gRGF5cyBwZXIgSnVsaWFuIHllYXIKICAgIEVSRkFfREpZOiAzNjUuMjUsCiAgICAvLyBBc3Ryb25vbWljYWwgdW5pdCBpbiBtCiAgICBFUkZBX0RBVTogMTQ5NTk3ODcwMDAwCiAgfSwKICBpY29uRm9yU2t5U291cmNlVHlwZXM6IGZ1bmN0aW9uIGljb25Gb3JTa3lTb3VyY2VUeXBlcyhza3lTb3VyY2VUeXBlcykgewogICAgLy8gQXJyYXkgc29ydGVkIGJ5IHNwZWNpZmljaXR5LCBpLmUuIHRoZSBtb3N0IGdlbmVyaWMgbmFtZXMgYXQgdGhlIGVuZAogICAgdmFyIGljb25Gb3JUeXBlID0gewogICAgICAvLyBTdGFycwogICAgICAnUGVjPyc6ICdzdGFyJywKICAgICAgJyoqPyc6ICdkb3VibGVfc3RhcicsCiAgICAgICcqKic6ICdkb3VibGVfc3RhcicsCiAgICAgICdWKic6ICd2YXJpYWJsZV9zdGFyJywKICAgICAgJ1YqPyc6ICd2YXJpYWJsZV9zdGFyJywKICAgICAgJyonOiAnc3RhcicsCiAgICAgIC8vIENhbmRpZGF0ZXMKICAgICAgJ0FzPyc6ICdncm91cF9vZl9zdGFycycsCiAgICAgICdTQz8nOiAnZ3JvdXBfb2ZfZ2FsYXhpZXMnLAogICAgICAnR3I/JzogJ2dyb3VwX29mX2dhbGF4aWVzJywKICAgICAgJ0M/Ryc6ICdncm91cF9vZl9nYWxheGllcycsCiAgICAgICdHPyc6ICdnYWxheHknLAogICAgICAvLyBNdWx0aXBsZSBvYmplY3RzCiAgICAgIHJlZzogJ3JlZ2lvbl9kZWZpbmVkX2luX3RoZV9za3knLAogICAgICBTQ0c6ICdncm91cF9vZl9nYWxheGllcycsCiAgICAgIENsRzogJ2dyb3VwX29mX2dhbGF4aWVzJywKICAgICAgR3JHOiAnZ3JvdXBfb2ZfZ2FsYXhpZXMnLAogICAgICBJRzogJ2ludGVyYWN0aW5nX2dhbGF4eScsCiAgICAgIFBhRzogJ3BhaXJfb2ZfZ2FsYXhpZXMnLAogICAgICAnQz8qJzogJ29wZW5fZ2FsYWN0aWNfY2x1c3RlcicsCiAgICAgICdHbD8nOiAnZ2xvYnVsYXJfY2x1c3RlcicsCiAgICAgIEdsQzogJ2dsb2J1bGFyX2NsdXN0ZXInLAogICAgICBPcEM6ICdvcGVuX2dhbGFjdGljX2NsdXN0ZXInLAogICAgICAnQ2wqJzogJ29wZW5fZ2FsYWN0aWNfY2x1c3RlcicsCiAgICAgICdBcyonOiAnZ3JvdXBfb2Zfc3RhcnMnLAogICAgICBtdWw6ICdtdWx0aXBsZV9vYmplY3RzJywKICAgICAgLy8gSW50ZXJzdGVsbGFyIG1hdHRlcgogICAgICAnUE4/JzogJ3BsYW5ldGFyeV9uZWJ1bGEnLAogICAgICBQTjogJ3BsYW5ldGFyeV9uZWJ1bGEnLAogICAgICBTTlI6ICdwbGFuZXRhcnlfbmVidWxhJywKICAgICAgJ1NSPyc6ICdwbGFuZXRhcnlfbmVidWxhJywKICAgICAgSVNNOiAnaW50ZXJzdGVsbGFyX21hdHRlcicsCiAgICAgIC8vIEdhbGF4aWVzCiAgICAgIFBvRzogJ3BhcnRfb2ZfZ2FsYXh5JywKICAgICAgUVNPOiAncXVhc2FyJywKICAgICAgRzogJ2dhbGF4eScsCiAgICAgIGRzbzogJ2RlZXBfc2t5JywKICAgICAgLy8gU29sYXIgU3lzdGVtCiAgICAgIEFzYTogJ2FydGlmaWNpYWxfc2F0ZWxsaXRlJywKICAgICAgTW9vOiAnbW9vbicsCiAgICAgIFN1bjogJ3N1bicsCiAgICAgIFBsYTogJ3BsYW5ldCcsCiAgICAgIERQbDogJ3BsYW5ldCcsCiAgICAgIENvbTogJ2NvbWV0JywKICAgICAgTVBsOiAnbWlub3JfcGxhbmV0JywKICAgICAgU1NPOiAnbWlub3JfcGxhbmV0JywKICAgICAgQ29uOiAnY29uc3RlbGxhdGlvbicKICAgIH07CgogICAgZm9yICh2YXIgaSBpbiBza3lTb3VyY2VUeXBlcykgewogICAgICBpZiAoc2t5U291cmNlVHlwZXNbaV0gaW4gaWNvbkZvclR5cGUpIHsKICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnaW1hZ2VzL3N2Zy90YXJnZXRfdHlwZXMvJyArIGljb25Gb3JUeXBlW3NreVNvdXJjZVR5cGVzW2ldXSArICcuc3ZnJzsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdpbWFnZXMvc3ZnL3RhcmdldF90eXBlcy91bmtub3duLnN2Zyc7CiAgfSwKICBpY29uRm9yU2t5U291cmNlOiBmdW5jdGlvbiBpY29uRm9yU2t5U291cmNlKHNreVNvdXJjZSkgewogICAgcmV0dXJuIHN3aC5pY29uRm9yU2t5U291cmNlVHlwZXMoc2t5U291cmNlLnR5cGVzKTsKICB9LAogIGljb25Gb3JPYnNlcnZhdGlvbjogZnVuY3Rpb24gaWNvbkZvck9ic2VydmF0aW9uKG9icykgewogICAgaWYgKG9icyAmJiBvYnMudGFyZ2V0KSB7CiAgICAgIHJldHVybiB0aGlzLmljb25Gb3JTa3lTb3VyY2Uob2JzLnRhcmdldCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdGhpcy5pY29uRm9yU2t5U291cmNlVHlwZXMoWydyZWcnXSk7CiAgICB9CiAgfSwKICBjbGVhbnVwT25lU2t5U291cmNlTmFtZTogZnVuY3Rpb24gY2xlYW51cE9uZVNreVNvdXJjZU5hbWUobmFtZSwgZmxhZ3MpIHsKICAgIGZsYWdzID0gZmxhZ3MgfHwgNDsKICAgIHJldHVybiBWdWUucHJvdG90eXBlLiRzdGVsLmRlc2lnbmF0aW9uQ2xlYW51cChuYW1lLCBmbGFncyk7CiAgfSwKICBuYW1lRm9yU2t5U291cmNlOiBmdW5jdGlvbiBuYW1lRm9yU2t5U291cmNlKHNreVNvdXJjZSkgewogICAgaWYgKCFza3lTb3VyY2UgfHwgIXNreVNvdXJjZS5uYW1lcykgewogICAgICByZXR1cm4gJz8nOwogICAgfSAvLyBjb25zb2xlLmxvZygnc2t5U291cmNlOicsIHNreVNvdXJjZSkKCgogICAgcmV0dXJuIHRoaXMuY2xlYW51cE9uZVNreVNvdXJjZU5hbWUoc2t5U291cmNlLm5hbWVzWzBdKTsKICB9LAogIHJhZGVjRm9yU2t5U291cmNlOiBmdW5jdGlvbiByYWRlY0ZvclNreVNvdXJjZShza3lTb3VyY2UpIHsKICAgIGlmICghc2t5U291cmNlIHx8ICFza3lTb3VyY2UubW9kZWxfZGF0YSkgewogICAgICByZXR1cm4gJz8nOwogICAgfSAvLyBjb25zb2xlLmxvZygnc2t5U291cmNlLm1vZGVsX2RhdGEucmFkZWM6Jywgc2t5U291cmNlLm1vZGVsX2RhdGEucmEsICcsJywgc2t5U291cmNlLm1vZGVsX2RhdGEuZGUpCgoKICAgIHJldHVybiB7CiAgICAgIHJhOiBza3lTb3VyY2UubW9kZWxfZGF0YS5yYSwKICAgICAgZGVjOiBza3lTb3VyY2UubW9kZWxfZGF0YS5kZQogICAgfTsKICB9LAogIGN1bHR1cmFsTmFtZVRvTGlzdDogZnVuY3Rpb24gY3VsdHVyYWxOYW1lVG9MaXN0KGNuKSB7CiAgICB2YXIgcmVzID0gW107CgogICAgdmFyIGZvcm1hdE5hdGl2ZSA9IGZ1bmN0aW9uIGZvcm1hdE5hdGl2ZShfY24pIHsKICAgICAgaWYgKGNuLm5hbWVfbmF0aXZlICYmIGNuLm5hbWVfcHJvbm91bmNlKSB7CiAgICAgICAgcmV0dXJuIGNuLm5hbWVfbmF0aXZlICsgJywgPGk+JyArIGNuLm5hbWVfcHJvbm91bmNlICsgJzwvaT4nOwogICAgICB9CgogICAgICBpZiAoY24ubmFtZV9uYXRpdmUpIHsKICAgICAgICByZXR1cm4gY24ubmFtZV9uYXRpdmU7CiAgICAgIH0KCiAgICAgIGlmIChjbi5uYW1lX3Byb25vdW5jZSkgewogICAgICAgIHJldHVybiBjbi5uYW1lX3Byb25vdW5jZTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgbmF0aXZlTmFtZSA9IGZvcm1hdE5hdGl2ZShjbik7CgogICAgaWYgKGNuLnVzZXJfcHJlZmVyX25hdGl2ZSAmJiBuYXRpdmVOYW1lKSB7CiAgICAgIHJlcy5wdXNoKG5hdGl2ZU5hbWUpOwogICAgfQoKICAgIGlmIChjbi5uYW1lX3RyYW5zbGF0ZWQpIHsKICAgICAgcmVzLnB1c2goY24ubmFtZV90cmFuc2xhdGVkKTsKICAgIH0KCiAgICBpZiAoIWNuLnVzZXJfcHJlZmVyX25hdGl2ZSAmJiBuYXRpdmVOYW1lKSB7CiAgICAgIHJlcy5wdXNoKG5hdGl2ZU5hbWUpOwogICAgfQoKICAgIHJldHVybiByZXM7CiAgfSwKICBuYW1lc0ZvclNreVNvdXJjZTogZnVuY3Rpb24gbmFtZXNGb3JTa3lTb3VyY2Uoc3MsIGZsYWdzKSB7CiAgICAvLyBSZXR1cm4gYSBsaXN0IG9mIGNsZWFuZWQgdXAgbmFtZXMKICAgIGlmICghc3MgfHwgIXNzLm5hbWVzKSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KCiAgICBpZiAoIWZsYWdzKSBmbGFncyA9IDEwOwogICAgdmFyIHJlcyA9IFtdOwoKICAgIGlmIChzcy5jdWx0dXJhbE5hbWVzKSB7CiAgICAgIGZvciAodmFyIGkgaW4gc3MuY3VsdHVyYWxOYW1lcykgewogICAgICAgIHJlcyA9IHJlcy5jb25jYXQodGhpcy5jdWx0dXJhbE5hbWVUb0xpc3Qoc3MuY3VsdHVyYWxOYW1lc1tpXSkpOwogICAgICB9CiAgICB9CgogICAgcmVzID0gcmVzLmNvbmNhdChzcy5uYW1lcy5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgcmV0dXJuIFZ1ZS5wcm90b3R5cGUuJHN0ZWwuZGVzaWduYXRpb25DbGVhbnVwKG4sIGZsYWdzKTsKICAgIH0pKTsgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMsIHRoaXMgY2FuIGhhcHBlbiBiZXR3ZWVuICogYW5kIFYqIGNhdGFsb2dzCgogICAgcmVzID0gcmVzLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgewogICAgICByZXR1cm4gcmVzLmluZGV4T2YodikgPT09IGk7CiAgICB9KTsKICAgIHJlcyA9IHJlcy5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsKICAgICAgcmV0dXJuICF2LnN0YXJ0c1dpdGgoJ0NPTiAnKTsKICAgIH0pOwogICAgcmV0dXJuIHJlczsKICB9LAogIG5hbWVGb3JTa3lTb3VyY2VUeXBlOiBmdW5jdGlvbiBuYW1lRm9yU2t5U291cmNlVHlwZShvdHlwZSkgewogICAgdmFyICRzdGVsID0gVnVlLnByb3RvdHlwZS4kc3RlbDsKICAgIHZhciByZXMgPSAkc3RlbC5vdHlwZVRvU3RyKG90eXBlKTsKICAgIHJldHVybiByZXMgfHwgJ1Vua25vd24gVHlwZSc7CiAgfSwKICBuYW1lRm9yR2FsYXh5TW9ycGhvOiBmdW5jdGlvbiBuYW1lRm9yR2FsYXh5TW9ycGhvKG1vcnBobykgewogICAgdmFyIGdhbFRhYiA9IHsKICAgICAgRTogJ0VsbGlwdGljYWwnLAogICAgICBTQjogJ0JhcnJlZCBTcGlyYWwnLAogICAgICBTQUI6ICdJbnRlcm1lZGlhdGUgU3BpcmFsJywKICAgICAgU0E6ICdTcGlyYWwnLAogICAgICBTMDogJ0xlbnRpY3VsYXInLAogICAgICBTOiAnU3BpcmFsJywKICAgICAgSW06ICdJcnJlZ3VsYXInLAogICAgICBkU3BoOiAnRHdhcmYgU3BoZXJvaWRhbCcsCiAgICAgIGRFOiAnRHdhcmYgRWxsaXB0aWNhbCcKICAgIH07CgogICAgZm9yICh2YXIgbW9ycCBpbiBnYWxUYWIpIHsKICAgICAgaWYgKG1vcnBoby5zdGFydHNXaXRoKG1vcnApKSB7CiAgICAgICAgcmV0dXJuIGdhbFRhYlttb3JwXTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiAnJzsKICB9LAogIGdldFNoYXJlTGluazogZnVuY3Rpb24gZ2V0U2hhcmVMaW5rKGNvbnRleHQpIHsKICAgIHZhciBsaW5rID0gJ2h0dHBzOi8vc3RlbGxhcml1bS13ZWIub3JnLyc7CgogICAgaWYgKGNvbnRleHQuJHN0b3JlLnN0YXRlLnNlbGVjdGVkT2JqZWN0KSB7CiAgICAgIGxpbmsgKz0gJ3NreXNvdXJjZS8nICsgdGhpcy5jbGVhbnVwT25lU2t5U291cmNlTmFtZShjb250ZXh0LiRzdG9yZS5zdGF0ZS5zZWxlY3RlZE9iamVjdC5uYW1lc1swXSwgNSkucmVwbGFjZSgvXHMrL2csICcnKTsKICAgIH0KCiAgICBsaW5rICs9ICc/JzsKICAgIGxpbmsgKz0gJ2Zvdj0nICsgKGNvbnRleHQuJHN0b3JlLnN0YXRlLnN0ZWwuZm92ICogMTgwIC8gTWF0aC5QSSkudG9QcmVjaXNpb24oNSk7CiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICBkLnNldE1KRChjb250ZXh0LiRzdGVsLmNvcmUub2JzZXJ2ZXIudXRjKTsKICAgIGxpbmsgKz0gJyZkYXRlPScgKyBuZXcgTW9tZW50KGQpLnV0YygpLmZvcm1hdCgpOwogICAgbGluayArPSAnJmxhdD0nICsgKGNvbnRleHQuJHN0ZWwuY29yZS5vYnNlcnZlci5sYXRpdHVkZSAqIDE4MCAvIE1hdGguUEkpLnRvRml4ZWQoMik7CiAgICBsaW5rICs9ICcmbG5nPScgKyAoY29udGV4dC4kc3RlbC5jb3JlLm9ic2VydmVyLmxvbmdpdHVkZSAqIDE4MCAvIE1hdGguUEkpLnRvRml4ZWQoMik7CiAgICBsaW5rICs9ICcmZWxldj0nICsgY29udGV4dC4kc3RlbC5jb3JlLm9ic2VydmVyLmVsZXZhdGlvbjsKCiAgICBpZiAoIWNvbnRleHQuJHN0b3JlLnN0YXRlLnNlbGVjdGVkT2JqZWN0KSB7CiAgICAgIGxpbmsgKz0gJyZhej0nICsgKGNvbnRleHQuJHN0ZWwuY29yZS5vYnNlcnZlci55YXcgKiAxODAgLyBNYXRoLlBJKS50b1ByZWNpc2lvbig1KTsKICAgICAgbGluayArPSAnJmFsdD0nICsgKGNvbnRleHQuJHN0ZWwuY29yZS5vYnNlcnZlci5waXRjaCAqIDE4MCAvIE1hdGguUEkpLnRvUHJlY2lzaW9uKDUpOwogICAgfQoKICAgIHJldHVybiBsaW5rOwogIH0sCiAgLy8gUmV0dXJuIGEgU3dlT2JqIG1hdGNoaW5nIGEgcGFzc2VkIHNreSBzb3VyY2UgSlNPTiBvYmplY3QgaWYgaXQncyBhbHJlYWR5IGluc3RhbmNpYXRlZCBpbiBTV0UKICBza3lTb3VyY2UyU3dlT2JqOiBmdW5jdGlvbiBza3lTb3VyY2UyU3dlT2JqKHNzKSB7CiAgICBpZiAoIXNzIHx8ICFzcy5tb2RlbCkgewogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQoKICAgIHZhciAkc3RlbCA9IFZ1ZS5wcm90b3R5cGUuJHN0ZWw7CiAgICB2YXIgb2JqOwoKICAgIGlmIChzcy5tb2RlbCA9PT0gJ3RsZV9zYXRlbGxpdGUnKSB7CiAgICAgIHZhciBpZCA9ICdOT1JBRCAnICsgc3MubW9kZWxfZGF0YS5ub3JhZF9udW1iZXI7CiAgICAgIG9iaiA9ICRzdGVsLmdldE9iaihpZCk7CiAgICB9IGVsc2UgaWYgKHNzLm1vZGVsID09PSAnY29uc3RlbGxhdGlvbicgJiYgc3MubW9kZWxfZGF0YS5pYXVfYWJicmV2aWF0aW9uKSB7CiAgICAgIHZhciBfaWQgPSAnQ09OIHdlc3Rlcm4gJyArIHNzLm1vZGVsX2RhdGEuaWF1X2FiYnJldmlhdGlvbjsKCiAgICAgIG9iaiA9ICRzdGVsLmdldE9iaihfaWQpOwogICAgfQoKICAgIGlmICghb2JqKSB7CiAgICAgIG9iaiA9ICRzdGVsLmdldE9iaihzcy5uYW1lc1swXSk7CiAgICB9CgogICAgaWYgKCFvYmogJiYgc3MubmFtZXNbMF0uc3RhcnRzV2l0aCgnR2FpYSBEUjIgJykpIHsKICAgICAgdmFyIGduYW1lID0gc3MubmFtZXNbMF0ucmVwbGFjZSgvXkdhaWEgRFIyIC8sICdHQUlBICcpOwogICAgICBvYmogPSAkc3RlbC5nZXRPYmooZ25hbWUpOwogICAgfQoKICAgIGlmIChvYmogPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgbG9va3VwU2t5U291cmNlQnlOYW1lOiBmdW5jdGlvbiBsb29rdXBTa3lTb3VyY2VCeU5hbWUobmFtZSkgewogICAgdmFyIGhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOwogICAgdmFyIGJhc2VVUkwgPSAiaHR0cDovLyIuY29uY2F0KGhvc3RuYW1lLCAiOjgwOTAiKTsgLy8gcmV0dXJuIGZldGNoKHByb2Nlc3MuZW52LlZVRV9BUFBfTk9DVFVBU0tZX0FQSV9TRVJWRVIgKyAnL2FwaS92MS9za3lzb3VyY2VzL25hbWUvJyArIG5hbWUpCgogICAgcmV0dXJuIGZldGNoKGJhc2VVUkwgKyAnL25hbWUvJyArIG5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICB0aHJvdyByZXNwb25zZS5ib2R5OwogICAgICB9CgogICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICB0aHJvdyBlcnIucmVzcG9uc2UuYm9keTsKICAgIH0pOwogIH0sCiAgcXVlcnlTa3lTb3VyY2VzOiBmdW5jdGlvbiBxdWVyeVNreVNvdXJjZXMoc3RyLCBsaW1pdCkgewogICAgaWYgKCFsaW1pdCkgewogICAgICBsaW1pdCA9IDEwOwogICAgfSAvL2NvbnNvbGUubG9nKCJRSVUgfCBxdWVyeVNreVNvdXJjZXM6IiArIHByb2Nlc3MuZW52LlZVRV9BUFBfTk9DVFVBU0tZX0FQSV9TRVJWRVIgKyAnL2FwaS92MS9za3lzb3VyY2VzLz9xPScgKyBzdHIgKyAnJmxpbWl0PScgKyBsaW1pdCkKICAgIC8vcmV0dXJuIGZldGNoKCAnaHR0cHM6Ly9hcGkubm9jdHVhc2t5LmNvbS9hcGkvdjEvc2t5c291cmNlcy8/cT0nICsgc3RyICsgJyZsaW1pdD0nICsgbGltaXQpCiAgICAvLyByZXR1cm4gZmV0Y2gocHJvY2Vzcy5lbnYuVlVFX0FQUF9OT0NUVUFTS1lfQVBJX1NFUlZFUiArICcvYXBpL3YxL3NreXNvdXJjZXMvP3E9JyArIHN0ciArICcmbGltaXQ9JyArIGxpbWl0KQoKCiAgICB2YXIgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7CiAgICB2YXIgYmFzZVVSTCA9ICJodHRwOi8vIi5jb25jYXQoaG9zdG5hbWUsICI6ODA5MCIpOyAvLyBjb25zb2xlLmxvZygicXVlcnlTa3lTb3VyY2VzOiIgKyBiYXNlVVJMKQogICAgLy8gcmV0dXJuIGZldGNoKHByb2Nlc3MuZW52LlZVRV9BUFBfTk9DVFVBU0tZX0FQSV9TRVJWRVIgKyAnLz9xPScgKyBzdHIgKyAnJmxpbWl0PScgKyBsaW1pdCkgICAvLyJodHRwOi8vMTkyLjE2OC4yLjMxOjgwOTAiCgogICAgcmV0dXJuIGZldGNoKGJhc2VVUkwgKyAnLz9xPScgKyBzdHIgKyAnJmxpbWl0PScgKyBsaW1pdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgIHRocm93IHJlc3BvbnNlLmJvZHk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHRocm93IGVyci5yZXNwb25zZS5ib2R5OwogICAgfSk7CiAgfSwKICAvL2J5IFFJVSBqdXN0IG9ubHkgZm9yIHRlc3RpbmcKICAvLyBxdWVyeVNreVNvdXJjZXM6IGZ1bmN0aW9uIChzdHIsIGxpbWl0KSB7CiAgLy8gICBpZiAoIWxpbWl0KSB7CiAgLy8gICAgIGxpbWl0ID0gMTA7CiAgLy8gICAgIGNvbnNvbGUubG9nKCJRSVUgfCDmnKrmjIflrppsaW1pdCzkvb/nlKjpu5jorqTlgLwiLCB7IGRlZmF1bHRMaW1pdDogbGltaXQgfSk7CiAgLy8gICB9CiAgLy8gICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG15RGF0YSk7CiAgLy8gfSwKICBzd2VPYmoyU2t5U291cmNlOiBmdW5jdGlvbiBzd2VPYmoyU2t5U291cmNlKG9iaikgewogICAgdmFyIG5hbWVzID0gb2JqLmRlc2lnbmF0aW9ucygpOwogICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgIGlmICghbmFtZXMgfHwgIW5hbWVzLmxlbmd0aCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIkNhbid0IGZpbmQgb2JqZWN0IHdpdGhvdXQgbmFtZXMiKTsKICAgIH0gLy8gU2V2ZXJhbCBhcnRpZmljYWwgc2F0ZWxsaXRlcyBzaGFyZSB0aGUgc2FtZSBjb21tb24gbmFtZSwgc28gd2UgdXNlCiAgICAvLyB0aGUgdW5hbWJpZ3VvdXMgTk9SQUQgbnVtYmVyIGluc3RlYWQKCgogICAgZm9yICh2YXIgaiBpbiBuYW1lcykgewogICAgICBpZiAobmFtZXNbal0uc3RhcnRzV2l0aCgnTk9SQUQgJykpIHsKICAgICAgICB2YXIgdG1wTmFtZSA9IG5hbWVzWzBdOwogICAgICAgIG5hbWVzWzBdID0gbmFtZXNbal07CiAgICAgICAgbmFtZXNbal0gPSB0bXBOYW1lOwogICAgICB9CiAgICB9CgogICAgdmFyIHByaW50RXJyID0gZnVuY3Rpb24gcHJpbnRFcnIobikgewogICAgICBjb25zb2xlLmxvZygiQ291bGRuJ3QgZmluZCBvbmxpbmUgc2t5c291cmNlIGRhdGEgZm9yIG5hbWU6ICIgKyBuKTsKICAgICAgdmFyIHNzID0gb2JqLmpzb25EYXRhOwoKICAgICAgaWYgKCFzcy5tb2RlbF9kYXRhKSB7CiAgICAgICAgc3MubW9kZWxfZGF0YSA9IHt9OwogICAgICB9IC8vIE5hbWVzIGZpeHVwCgoKICAgICAgdmFyIGk7CgogICAgICBmb3IgKGkgaW4gc3MubmFtZXMpIHsKICAgICAgICBpZiAoc3MubmFtZXNbaV0uc3RhcnRzV2l0aCgnR0FJQScpKSB7CiAgICAgICAgICBzcy5uYW1lc1tpXSA9IHNzLm5hbWVzW2ldLnJlcGxhY2UoL15HQUlBIC8sICdHYWlhIERSMiAnKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNzLmN1bHR1cmFsTmFtZXMgPSBvYmouY3VsdHVyYWxEZXNpZ25hdGlvbnMoKTsKICAgICAgcmV0dXJuIHNzOwogICAgfTsKCiAgICByZXR1cm4gdGhhdC5sb29rdXBTa3lTb3VyY2VCeU5hbWUobmFtZXNbMF0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICByZXR1cm4gcmVzOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAobmFtZXMubGVuZ3RoID09PSAxKSByZXR1cm4gcHJpbnRFcnIobmFtZXMpOwogICAgICByZXR1cm4gdGhhdC5sb29rdXBTa3lTb3VyY2VCeU5hbWUobmFtZXNbMV0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXM7CiAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAobmFtZXMubGVuZ3RoID09PSAyKSByZXR1cm4gcHJpbnRFcnIobmFtZXMpOwogICAgICAgIHJldHVybiB0aGF0Lmxvb2t1cFNreVNvdXJjZUJ5TmFtZShuYW1lc1syXSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXR1cm4gcmVzOwogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBwcmludEVycihuYW1lc1syXSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlcy5jdWx0dXJhbE5hbWVzID0gb2JqLmN1bHR1cmFsRGVzaWduYXRpb25zKCk7CiAgICAgIHJldHVybiByZXM7CiAgICB9KTsKICB9LAogIHNldFN3ZU9iakFzU2VsZWN0aW9uOiBmdW5jdGlvbiBzZXRTd2VPYmpBc1NlbGVjdGlvbihvYmopIHsKICAgIHZhciAkc3RlbCA9IFZ1ZS5wcm90b3R5cGUuJHN0ZWw7CiAgICAkc3RlbC5jb3JlLnNlbGVjdGlvbiA9IG9iajsKICAgICRzdGVsLnBvaW50QW5kTG9jayhvYmopOwogIH0sCiAgLy8gR2V0IGRhdGEgZm9yIGEgU2t5U291cmNlIGZyb20gd2lraXBlZGlhCiAgZ2V0U2t5U291cmNlU3VtbWFyeUZyb21XaWtpcGVkaWE6IGZ1bmN0aW9uIGdldFNreVNvdXJjZVN1bW1hcnlGcm9tV2lraXBlZGlhKHNzKSB7CiAgICB2YXIgdGl0bGU7CgogICAgaWYgKHNzLm1vZGVsID09PSAnanBsX3NzbycpIHsKICAgICAgdGl0bGUgPSB0aGlzLmNsZWFudXBPbmVTa3lTb3VyY2VOYW1lKHNzLm5hbWVzWzBdKS50b0xvd2VyQ2FzZSgpOwoKICAgICAgaWYgKFsnbWVyY3VyeScsICd2ZW51cycsICdlYXJ0aCcsICdtYXJzJywgJ2p1cGl0ZXInLCAnc2F0dXJuJywgJ25lcHR1bmUnLCAncGx1dG8nXS5pbmRleE9mKHRpdGxlKSA+IC0xKSB7CiAgICAgICAgdGl0bGUgPSB0aXRsZSArICdfKHBsYW5ldCknOwogICAgICB9CgogICAgICBpZiAoc3MudHlwZXNbMF0gPT09ICdNb28nKSB7CiAgICAgICAgdGl0bGUgPSB0aXRsZSArICdfKG1vb24pJzsKICAgICAgfQogICAgfQoKICAgIGlmIChzcy5tb2RlbCA9PT0gJ21wY19hc3Rlcm9pZCcpIHsKICAgICAgdGl0bGUgPSB0aGlzLmNsZWFudXBPbmVTa3lTb3VyY2VOYW1lKHNzLm5hbWVzWzBdKS50b0xvd2VyQ2FzZSgpOwogICAgfQoKICAgIGlmIChzcy5tb2RlbCA9PT0gJ2NvbnN0ZWxsYXRpb24nKSB7CiAgICAgIHRpdGxlID0gdGhpcy5jbGVhbnVwT25lU2t5U291cmNlTmFtZShzcy5uYW1lc1swXSkudG9Mb3dlckNhc2UoKSArICdfKGNvbnN0ZWxsYXRpb24pJzsKICAgIH0KCiAgICBpZiAoc3MubW9kZWwgPT09ICdkc28nKSB7CiAgICAgIGZvciAodmFyIGkgaW4gc3MubmFtZXMpIHsKICAgICAgICBpZiAoc3MubmFtZXNbaV0uc3RhcnRzV2l0aCgnTSAnKSkgewogICAgICAgICAgdGl0bGUgPSAnTWVzc2llcl8nICsgc3MubmFtZXNbaV0uc3Vic3RyKDIpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBpZiAoc3MubmFtZXNbaV0uc3RhcnRzV2l0aCgnTkdDICcpKSB7CiAgICAgICAgICB0aXRsZSA9IHNzLm5hbWVzW2ldOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBpZiAoc3MubmFtZXNbaV0uc3RhcnRzV2l0aCgnSUMgJykpIHsKICAgICAgICAgIHRpdGxlID0gc3MubmFtZXNbaV07CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc3MubW9kZWwgPT09ICdzdGFyJykgewogICAgICBmb3IgKHZhciBfaSBpbiBzcy5uYW1lcykgewogICAgICAgIGlmIChzcy5uYW1lc1tfaV0uc3RhcnRzV2l0aCgnKiAnKSkgewogICAgICAgICAgdGl0bGUgPSB0aGlzLmNsZWFudXBPbmVTa3lTb3VyY2VOYW1lKHNzLm5hbWVzW19pXSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIXRpdGxlKSByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJDYW4ndCBmaW5kIHdpa2lwZWRpYSBjb21wYXRpYmxlIG5hbWUiKSk7IC8vIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3cvYXBpLnBocD9hY3Rpb249cXVlcnkmcmVkaXJlY3RzJnByb3A9ZXh0cmFjdHMmZXhpbnRybyZleGxpbWl0PTEmZXhjaGFycz0zMDAmZm9ybWF0PWpzb24mb3JpZ2luPSomdGl0bGVzPScgKyB0aXRsZSwKICAgIC8vICAgeyBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcgfSB9KQogICAgLy8gICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKQogICAgLy8gICB9KQoKICAgIHJldHVybjsKICB9LAogIGdldEdlb2xvY2F0aW9uOiBmdW5jdGlvbiBnZXRHZW9sb2NhdGlvbigpIHsKICAgIGNvbnNvbGUubG9nKCdHZXR0aW5nIGdlb2xvY2FsaXphdGlvbicpOyAvLyBGaXJzdCBnZXQgZ2VvSVAgbG9jYXRpb24sIHRvIHVzZSBhcyBmYWxsYmFjawoKICAgIHJldHVybiBWdWUuanNvbnAoJ2h0dHBzOi8vZnJlZWdlb2lwLnN0ZWxsYXJpdW0ub3JnL2pzb24vJykudGhlbihmdW5jdGlvbiAobG9jYXRpb24pIHsKICAgICAgdmFyIHBvcyA9IHsKICAgICAgICBsYXQ6IGxvY2F0aW9uLmxhdGl0dWRlLAogICAgICAgIGxuZzogbG9jYXRpb24ubG9uZ2l0dWRlLAogICAgICAgIGFjY3VyYWN5OiAyMDAwMAogICAgICB9OwogICAgICBjb25zb2xlLmxvZygnR2VvSVAgbG9jYWxpemF0aW9uOiAnICsgSlNPTi5zdHJpbmdpZnkocG9zKSk7CiAgICAgIHJldHVybiBwb3M7CiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChnZW9pcFBvcykgewogICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB7CiAgICAgICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsCiAgICAgICAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLAogICAgICAgICAgICAgIGFjY3VyYWN5OiBwb3NpdGlvbi5jb29yZHMuYWNjdXJhY3kKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVzb2x2ZShwb3MpOwogICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygnQ291bGQgbm90IGdldCBsb2NhdGlvbiBmcm9tIGJyb3dzZXIsIHVzZSBmYWxsYmFjayBmcm9tIEdlb0lQJyk7IC8vIE5vIEhUTUw1IEdlb2xvY2FsaXphdGlvbiBzdXBwb3J0LCByZXR1cm4gZ2VvaXAgZmFsbGJhY2sgdmFsdWVzCgogICAgICAgICAgICBpZiAoZ2VvaXBQb3MpIHsKICAgICAgICAgICAgICByZXNvbHZlKGdlb2lwUG9zKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDYW5ub3QgZGV0ZWN0IHBvc2l0aW9uJykpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZGVsYXk6IGZ1bmN0aW9uIGRlbGF5KHQsIHYpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBzZXRUaW1lb3V0KHJlc29sdmUuYmluZChudWxsLCB2KSwgdCk7CiAgICB9KTsKICB9LAogIGdlb0NvZGVQb3NpdGlvbjogZnVuY3Rpb24gZ2VvQ29kZVBvc2l0aW9uKHBvcywgY3R4KSB7CiAgICBjb25zb2xlLmxvZygnR2VvY29kaW5nIHBvc2l0aW9uLi4uICcpOwogICAgY29uc29sZS5sb2coJ0dlb2NvZGluZyBwb3NpdGlvbiBzdGFydDonLCBwb3MpOwogICAgdmFyIGxsID0gY3R4LiR0KCdMYXQgezB9wrAgTG9uIHsxfcKwJywgW3Bvcy5sYXQudG9GaXhlZCgzKSwgcG9zLmxuZy50b0ZpeGVkKDMpXSk7CiAgICB2YXIgbG9jID0gewogICAgICBzaG9ydF9uYW1lOiBwb3MuYWNjdXJhY3kgPiA1MDAgPyBjdHguJHQoJ05lYXIgezB9JywgW2xsXSkgOiBsbCwKICAgICAgY291bnRyeTogJ1Vua25vd24nLAogICAgICBsbmc6IHBvcy5sbmcsCiAgICAgIGxhdDogcG9zLmxhdCwKICAgICAgYWx0OiBwb3MuYWx0ID8gcG9zLmFsdCA6IDAsCiAgICAgIGFjY3VyYWN5OiBwb3MuYWNjdXJhY3ksCiAgICAgIHN0cmVldF9hZGRyZXNzOiAnJwogICAgfTsgLy8gY29uc29sZS5sb2coJ0dlb2NvZGluZyBwb3NpdGlvbiBvdmVyOicsIGxvYykKICAgIC8vIHJldHVybiBQcm9taXNlLnJlc29sdmUobG9jKQoKICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9ub21pbmF0aW0ub3BlbnN0cmVldG1hcC5vcmcvcmV2ZXJzZT9mb3JtYXQ9anNvbnYyJmxhdD0nICsgcG9zLmxhdCArICcmbG9uPScgKyBwb3MubG5nLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgY2l0eSA9IHJlcy5hZGRyZXNzLmNpdHkgPyByZXMuYWRkcmVzcy5jaXR5IDogcmVzLmFkZHJlc3MudmlsbGFnZSA/IHJlcy5hZGRyZXNzLnZpbGxhZ2UgOiByZXMubmFtZTsKICAgICAgICAgIGxvYy5zaG9ydF9uYW1lID0gcG9zLmFjY3VyYWN5ID4gNTAwID8gY3R4LiR0KCdOZWFyIHswfScsIFtjaXR5XSkgOiBjaXR5OwogICAgICAgICAgbG9jLmNvdW50cnkgPSByZXMuYWRkcmVzcy5jb3VudHJ5OwoKICAgICAgICAgIGlmIChwb3MuYWNjdXJhY3kgPCA1MCkgewogICAgICAgICAgICBsb2Muc3RyZWV0X2FkZHJlc3MgPSByZXMuYWRkcmVzcy5yb2FkID8gcmVzLmFkZHJlc3Mucm9hZCA6IHJlcy5kaXNwbGF5X25hbWU7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coJ0dlb2NvZGluZyBwb3NpdGlvbiBvdmVyOicsIGxvYyk7CiAgICAgICAgICByZXR1cm4gbG9jOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCdHZW9jb2RlciBmYWlsZWQgZHVlIHRvOiAnICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7CiAgICAgICAgcmV0dXJuIGxvYzsKICAgICAgfQogICAgfSk7CiAgfSwKICBnZXREaXN0YW5jZUZyb21MYXRMb25Jbk06IGZ1bmN0aW9uIGdldERpc3RhbmNlRnJvbUxhdExvbkluTShsYXQxLCBsb24xLCBsYXQyLCBsb24yKSB7CiAgICB2YXIgZGVnMnJhZCA9IGZ1bmN0aW9uIGRlZzJyYWQoZGVnKSB7CiAgICAgIHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MCk7CiAgICB9OwoKICAgIHZhciBSID0gNjM3MTAwMDsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBtCgogICAgdmFyIGRMYXQgPSBkZWcycmFkKGxhdDIgLSBsYXQxKTsKICAgIHZhciBkTG9uID0gZGVnMnJhZChsb24yIC0gbG9uMSk7CiAgICB2YXIgYSA9IE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArIE1hdGguY29zKGRlZzJyYWQobGF0MSkpICogTWF0aC5jb3MoZGVnMnJhZChsYXQyKSkgKiBNYXRoLnNpbihkTG9uIC8gMikgKiBNYXRoLnNpbihkTG9uIC8gMik7CiAgICB2YXIgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7CiAgICB2YXIgZCA9IFIgKiBjOyAvLyBEaXN0YW5jZSBpbiBtCgogICAgcmV0dXJuIGQ7CiAgfSwKICAvLyBMb29rIGZvciB0aGUgbmV4dCB0aW1lIHN0YXJ0aW5nIGZyb20gbm93IG9uIHdoZW4gdGhlIG5pZ2h0IFNreSBpcyB2aXNpYmxlCiAgLy8gaS5lLiB3aGVuIHN1biBpcyBtb3JlIHRoYW4gMTAgZGVncmVlIGJlbG93IGhvcml6b24uCiAgLy8gSWYgbm8gc3VjaCB0aW1lIHdhcyBmb3VuZCAoZS5nLiBpbiBhIG5vcnRoZXJuIGNvdW50cnkgaW4gc3VtbWVyKSwKICAvLyB3ZSBkZWZhdWx0IHRvIGN1cnJlbnQgdGltZS4KICBnZXRUaW1lQWZ0ZXJTdW5zZXQ6IGZ1bmN0aW9uIGdldFRpbWVBZnRlclN1bnNldChzdGVsKSB7CiAgICB2YXIgc3VuID0gc3RlbC5nZXRPYmooJ05BTUUgU3VuJyk7CiAgICB2YXIgb2JzID0gc3RlbC5vYnNlcnZlci5jbG9uZSgpOwogICAgdmFyIHV0YyA9IE1hdGguZmxvb3Iob2JzLnV0YyAqIDI0ICogNjAgLyA1KSAvICgyNCAqIDYwIC8gNSk7CiAgICB2YXIgaTsKCiAgICBmb3IgKGkgPSAwOyBpIDwgMjQgKiA2MCAvIDUgKyAxOyBpKyspIHsKICAgICAgb2JzLnV0YyA9IHV0YyArIDEuMCAvICgyNCAqIDYwKSAqIChpICogNSk7CiAgICAgIHZhciBzdW5SYWRlYyA9IHN1bi5nZXRJbmZvKCdSQURFQycsIG9icyk7CiAgICAgIHZhciBhemFsdCA9IHN0ZWwuY29udmVydEZyYW1lKG9icywgJ0lDUkYnLCAnT0JTRVJWRUQnLCBzdW5SYWRlYyk7CiAgICAgIHZhciBhbHQgPSBzdGVsLmFucG0oc3RlbC5jMnMoYXphbHQpWzFdKTsKCiAgICAgIGlmIChhbHQgPCAtMTMgKiBNYXRoLlBJIC8gMTgwKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoaSA9PT0gMCB8fCBpID09PSAyNCAqIDYwIC8gNSArIDEpIHsKICAgICAgcmV0dXJuIHN0ZWwub2JzZXJ2ZXIudXRjOwogICAgfQoKICAgIHJldHVybiBvYnMudXRjOwogIH0sCiAgLy8gR2V0IHRoZSBsaXN0IG9mIGNpcmN1bXBvbGFyIHN0YXJzIGluIGEgZ2l2ZW4gbWFnbml0dWRlIHJhbmdlCiAgLy8KICAvLyBBcmd1bWVudHM6CiAgLy8gICBvYnMgICAgICAtIEFuIG9ic2VydmVyLgogIC8vICAgbWF4TWFnICAgLSBUaGUgbWF4aW11bSBtYWduaXR1ZGUgYWJvdmUgd2hpY2ggb2JqZWN0cyBhcmUgZGlzY2FyZGVkLgogIC8vICAgZmlsdGVyICAgLSBhIGZ1bmN0aW9uIGNhbGxlZCBmb3IgZWFjaCBvYmplY3QgcmV0dXJuaW5nIGZhbHNlIGlmIHRoZQogIC8vICAgICAgICAgICAgICBvYmplY3QgbXVzdCBiZSBmaWx0ZXJlZCBvdXQuCiAgLy8KICAvLyBSZXR1cm46CiAgLy8gICBBbiBhcnJheSBTd2VPYmplY3QuIEl0IGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgY2FsbGVyIHRvIHByb3Blcmx5CiAgLy8gICBkZXN0cm95IGFsbCB0aGUgb2JqZWN0cyBvZiB0aGUgbGlzdCB3aGVuIHRoZXkgYXJlIG5vdCBuZWVkZWQsIGJ5IGNhbGxpbmcKICAvLyAgIG9iai5kZXN0cm95KCkgb24gZWFjaCBvZiB0aGVtLgogIC8vCiAgLy8gRXhhbXBsZSBjb2RlOgogIC8vICAgLy8gUmV0dXJuIGFsbCBjaWN1bXBvbGFyIHN0YXJzIGJldHdlZW4gbWFnIC0yIGFuZCA0CiAgLy8gICBsZXQgcmVzID0gc3doLmdldENpcmN1bXBvbGFyU3RhcnModGhpcy4kc3RlbC5vYnNlcnZlciwgLTIsIDQpCiAgLy8gICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgc3RhcnMKICAvLyAgIGNvbnNvbGUubG9nKHJlcy5sZW5ndGgpCiAgLy8gICAvLyBEZXN0cm95IHRoZSBvYmplY3RzIChkb24ndCBmb3JnZXQgdGhpcyBsaW5lISkKICAvLyAgIHJlcy5tYXAoZSA9PiBlLmRlc3Ryb3koKSkKICBnZXRDaXJjdW1wb2xhclN0YXJzOiBmdW5jdGlvbiBnZXRDaXJjdW1wb2xhclN0YXJzKG9icywgbWluTWFnLCBtYXhNYWcpIHsKICAgIHZhciAkc3RlbCA9IFZ1ZS5wcm90b3R5cGUuJHN0ZWw7CgogICAgdmFyIGZpbHRlciA9IGZ1bmN0aW9uIGZpbHRlcihvYmopIHsKICAgICAgaWYgKG9iai5nZXRJbmZvKCd2bWFnJywgb2JzKSA8PSBtaW5NYWcpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBwb3NKTk9XID0gJHN0ZWwuY29udmVydEZyYW1lKG9icywgJ0lDUkYnLCAnSk5PVycsIG9iai5nZXRJbmZvKCdyYWRlYycpKTsKICAgICAgdmFyIHJhZGVjSk5PVyA9ICRzdGVsLmMycyhwb3NKTk9XKTsKICAgICAgY29uc29sZS5sb2coJ1JhRGVjSk5PVzonLCByYWRlY0pOT1cpOwogICAgICB2YXIgZGVjSk5PVyA9ICRzdGVsLmFucG0ocmFkZWNKTk9XWzFdKTsKCiAgICAgIGlmIChvYnMubGF0aXR1ZGUgPj0gMCkgewogICAgICAgIHJldHVybiBkZWNKTk9XID49IE1hdGguUEkgLyAyIC0gb2JzLmxhdGl0dWRlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBkZWNKTk9XIDw9IC1NYXRoLlBJIC8gMiArIG9icy5sYXRpdHVkZTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gJHN0ZWwuY29yZS5zdGFycy5saXN0T2JqcyhvYnMsIG1heE1hZywgZmlsdGVyKTsKICB9LAogIGNpcmN1bXBvbGFyTWFzazogdW5kZWZpbmVkLAogIHNob3dDaXJjdW1wb2xhck1hc2s6IGZ1bmN0aW9uIHNob3dDaXJjdW1wb2xhck1hc2sob2JzLCBzaG93KSB7CiAgICBpZiAoc2hvdyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHNob3cgPSB0cnVlOwogICAgfQoKICAgIHZhciBsYXllciA9IFZ1ZS5wcm90b3R5cGUuJHNreUhpbnRzTGF5ZXI7CiAgICB2YXIgJHN0ZWwgPSBWdWUucHJvdG90eXBlLiRzdGVsOwoKICAgIGlmICh0aGlzLmNpcmN1bXBvbGFyTWFzaykgewogICAgICBsYXllci5yZW1vdmUodGhpcy5jaXJjdW1wb2xhck1hc2spOwogICAgICB0aGlzLmNpcmN1bXBvbGFyTWFzayA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAoc2hvdykgewogICAgICB2YXIgZGlhbSA9IDIuMCAqIE1hdGguUEkgLSBNYXRoLmFicyhvYnMubGF0aXR1ZGUpICogMjsKICAgICAgdmFyIHNoYXBlUGFyYW1zID0gewogICAgICAgIHBvczogWzAsIDAsIG9icy5sYXRpdHVkZSA+IDAgPyAtMSA6IDEsIDBdLAogICAgICAgIGZyYW1lOiAkc3RlbC5GUkFNRV9KTk9XLAogICAgICAgIHNpemU6IFtkaWFtLCBkaWFtXSwKICAgICAgICBjb2xvcjogWzAuMSwgMC4xLCAwLjEsIDAuOF0sCiAgICAgICAgYm9yZGVyX2NvbG9yOiBbMC4xLCAwLjEsIDAuNiwgMV0KICAgICAgfTsKICAgICAgdGhpcy5jaXJjdW1wb2xhck1hc2sgPSBsYXllci5hZGQoJ2NpcmNsZScsIHNoYXBlUGFyYW1zKTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHN3aDs="},{"version":3,"sources":["/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/assets/sw_helpers.js"],"names":["Vue","_","StelWebEngine","Moment","myData","DDDate","Date","prototype","getJD","getTime","setJD","jd","setTime","getMJD","setMJD","mjd","swh","initStelWebEngine","store","wasmFile","canvasElem","callBackOnDone","canvas","translateFn","domain","str","onReady","lstel","commit","getTree","onValueChanged","path","value","tree","state","stel","set","$stel","$selectionLayer","createLayer","id","z","visible","$observingLayer","$skyHintsLayer","monthNames","astroConstants","ERFA_AULT","ERFA_DAYSEC","ERFA_DJY","ERFA_DAU","iconForSkySourceTypes","skySourceTypes","iconForType","reg","SCG","ClG","GrG","IG","PaG","GlC","OpC","mul","PN","SNR","ISM","PoG","QSO","G","dso","Asa","Moo","Sun","Pla","DPl","Com","MPl","SSO","Con","i","process","env","BASE_URL","iconForSkySource","skySource","types","iconForObservation","obs","target","cleanupOneSkySourceName","name","flags","designationCleanup","nameForSkySource","names","radecForSkySource","model_data","ra","dec","de","culturalNameToList","cn","res","formatNative","_cn","name_native","name_pronounce","nativeName","user_prefer_native","push","name_translated","namesForSkySource","ss","culturalNames","concat","map","n","filter","v","indexOf","startsWith","nameForSkySourceType","otype","otypeToStr","nameForGalaxyMorpho","morpho","galTab","E","SB","SAB","SA","S0","S","Im","dSph","dE","morp","getShareLink","context","link","$store","selectedObject","replace","fov","Math","PI","toPrecision","d","core","observer","utc","format","latitude","toFixed","longitude","elevation","yaw","pitch","skySource2SweObj","model","undefined","obj","norad_number","getObj","iau_abbreviation","gname","lookupSkySourceByName","hostname","window","location","baseURL","fetch","then","response","ok","body","json","err","querySkySources","limit","sweObj2SkySource","designations","that","length","Error","j","tmpName","printErr","console","log","jsonData","culturalDesignations","setSweObjAsSelection","selection","pointAndLock","getSkySourceSummaryFromWikipedia","title","toLowerCase","substr","Promise","reject","getGeolocation","jsonp","pos","lat","lng","accuracy","JSON","stringify","geoipPos","navigator","geolocation","resolve","getCurrentPosition","position","coords","enableHighAccuracy","delay","t","setTimeout","bind","geoCodePosition","ctx","ll","$t","loc","short_name","country","alt","street_address","headers","city","address","village","road","display_name","statusText","getDistanceFromLatLonInM","lat1","lon1","lat2","lon2","deg2rad","deg","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","getTimeAfterSunset","sun","clone","floor","sunRadec","getInfo","azalt","convertFrame","anpm","c2s","getCircumpolarStars","minMag","maxMag","posJNOW","radecJNOW","decJNOW","stars","listObjs","circumpolarMask","showCircumpolarMask","show","layer","remove","diam","abs","shapeParams","frame","FRAME_JNOW","size","color","border_color","add"],"mappings":"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","sourcesContent":["// Stellarium Web - Copyright (c) 2022 - Stellarium Labs SRL\n//\n// This program is licensed under the terms of the GNU AGPL v3, or\n// alternatively under a commercial licence.\n//\n// The terms of the AGPL v3 license can be found in the main directory of this\n// repository.\n\nimport Vue from 'vue'\nimport _ from 'lodash'\nimport StelWebEngine from '@/assets/js/stellarium-web-engine.js'\nimport Moment from 'moment'\n\n//by QIU just only for testing\nconst myData=\n[\n    {\n        \"interest\": 4.6296,\n        \"match\": \"NGC 6231\",\n        \"model\": \"dso\",\n        \"model_data\": {\n            \"Bmag\": 2.83,\n            \"Vmag\": 2.6,\n            \"angle\": 90,\n            \"de\": -41.826667,\n            \"dimx\": 13.8,\n            \"dimy\": 13.8,\n            \"pm_de\": -1.28,\n            \"pm_ra\": -0.92,\n            \"ra\": 253.535458,\n            \"rv\": -27.28\n        },\n        \"names\": [\n            \"C 76\",\n            \"NAME False Comet Nebula\",\n            \"NAME Northern Jewel Box Cluster\",\n            \"NAME Table of Scorpius Cluster\",\n            \"NAME Crocodile Cluster\",\n            \"NGC 6231\",\n            \"Cl Collinder 315\",\n            \"Cl VDBH 201\",\n            \"OCl 997.0\",\n            \"UBV M 35455\",\n            \"1ES 1650-41.7\",\n            \"1RXS J165408.2-414932\"\n        ],\n        \"short_name\": \"C 76\",\n        \"types\": [\n            \"OpC\",\n            \"Cl*\",\n            \"mul\",\n            \"dso\"\n        ]\n    },\n    {\n        \"interest\": 4.627999999999999,\n        \"match\": \"NGC 3532\",\n        \"model\": \"dso\",\n        \"model_data\": {\n            \"Bmag\": 3.28,\n            \"Vmag\": 3,\n            \"de\": -58.6533,\n            \"dimx\": 13,\n            \"dimy\": 12,\n            \"pm_de\": 3.88,\n            \"pm_ra\": -9.25,\n            \"ra\": 166.4125,\n            \"rv\": 4.311\n        },\n        \"names\": [\n            \"XC 91\",\n            \"NAME QHY Well Cluster\",\n            \"NAME QHY Party Cluster\",\n            \"NAME QHY Cluster\",\n            \"NAME QHY Pin Cushion Cluster\",\n            \"NGC QHY 3532\",\n            \"Cl QHY VDBH 109\",\n            \"OCl QHY839.0\"\n        ],\n        \"short_name\": \"C 91\",\n        \"types\": [\n            \"OpC\",\n            \"Cl*\",\n            \"mul\",\n            \"dso\"\n        ]\n    }\n]\n\n\nvar DDDate = Date\nDDDate.prototype.getJD = function () {\n  return (this.getTime() / 86400000) + 2440587.5\n}\n\nDDDate.prototype.setJD = function (jd) {\n  this.setTime((jd - 2440587.5) * 86400000)\n}\n\nDDDate.prototype.getMJD = function () {\n  return this.getJD() - 2400000.5\n}\n\nDDDate.prototype.setMJD = function (mjd) {\n  this.setJD(mjd + 2400000.5)\n}\n\nconst swh = {\n  initStelWebEngine: function (store, wasmFile, canvasElem, callBackOnDone) {\n    StelWebEngine({\n      wasmFile: wasmFile,\n      canvas: canvasElem,\n      translateFn: function (domain, str) {\n        return str\n        // return i18next.t(str, {ns: domain});\n      },\n      onReady: function (lstel) {\n        store.commit('replaceStelWebEngine', lstel.getTree())\n        lstel.onValueChanged(function (path, value) {\n          const tree = store.state.stel\n          _.set(tree, path, value)\n          store.commit('replaceStelWebEngine', tree)\n        })\n        Vue.prototype.$stel = lstel\n        Vue.prototype.$selectionLayer = lstel.createLayer({ id: 'slayer', z: 50, visible: true })\n        Vue.prototype.$observingLayer = lstel.createLayer({ id: 'obslayer', z: 40, visible: true })\n        Vue.prototype.$skyHintsLayer = lstel.createLayer({ id: 'skyhintslayer', z: 38, visible: true })\n        callBackOnDone()\n      }\n    })\n  },\n\n  monthNames: ['January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n  ],\n\n  astroConstants: {\n    // Light time for 1 au in s\n    ERFA_AULT: 499.004782,\n    // Seconds per day\n    ERFA_DAYSEC: 86400.0,\n    // Days per Julian year\n    ERFA_DJY: 365.25,\n    // Astronomical unit in m\n    ERFA_DAU: 149597870000\n  },\n\n  iconForSkySourceTypes: function (skySourceTypes) {\n    // Array sorted by specificity, i.e. the most generic names at the end\n    const iconForType = {\n      // Stars\n      'Pec?': 'star',\n      '**?': 'double_star',\n      '**': 'double_star',\n      'V*': 'variable_star',\n      'V*?': 'variable_star',\n      '*': 'star',\n\n      // Candidates\n      'As?': 'group_of_stars',\n      'SC?': 'group_of_galaxies',\n      'Gr?': 'group_of_galaxies',\n      'C?G': 'group_of_galaxies',\n      'G?': 'galaxy',\n\n      // Multiple objects\n      reg: 'region_defined_in_the_sky',\n      SCG: 'group_of_galaxies',\n      ClG: 'group_of_galaxies',\n      GrG: 'group_of_galaxies',\n      IG: 'interacting_galaxy',\n      PaG: 'pair_of_galaxies',\n      'C?*': 'open_galactic_cluster',\n      'Gl?': 'globular_cluster',\n      GlC: 'globular_cluster',\n      OpC: 'open_galactic_cluster',\n      'Cl*': 'open_galactic_cluster',\n      'As*': 'group_of_stars',\n      mul: 'multiple_objects',\n\n      // Interstellar matter\n      'PN?': 'planetary_nebula',\n      PN: 'planetary_nebula',\n      SNR: 'planetary_nebula',\n      'SR?': 'planetary_nebula',\n      ISM: 'interstellar_matter',\n\n      // Galaxies\n      PoG: 'part_of_galaxy',\n      QSO: 'quasar',\n      G: 'galaxy',\n\n      dso: 'deep_sky',\n\n      // Solar System\n      Asa: 'artificial_satellite',\n      Moo: 'moon',\n      Sun: 'sun',\n      Pla: 'planet',\n      DPl: 'planet',\n      Com: 'comet',\n      MPl: 'minor_planet',\n      SSO: 'minor_planet',\n\n      Con: 'constellation'\n    }\n    for (const i in skySourceTypes) {\n      if (skySourceTypes[i] in iconForType) {\n        return process.env.BASE_URL + 'images/svg/target_types/' + iconForType[skySourceTypes[i]] + '.svg'\n      }\n    }\n    return process.env.BASE_URL + 'images/svg/target_types/unknown.svg'\n  },\n\n  iconForSkySource: function (skySource) {\n    return swh.iconForSkySourceTypes(skySource.types)\n  },\n\n  iconForObservation: function (obs) {\n    if (obs && obs.target) {\n      return this.iconForSkySource(obs.target)\n    } else {\n      return this.iconForSkySourceTypes(['reg'])\n    }\n  },\n\n  cleanupOneSkySourceName: function (name, flags) {\n    flags = flags || 4\n    return Vue.prototype.$stel.designationCleanup(name, flags)\n  },\n\n  nameForSkySource: function (skySource) {\n    if (!skySource || !skySource.names) {\n      return '?'\n    }\n    // console.log('skySource:', skySource)\n    return this.cleanupOneSkySourceName(skySource.names[0])\n  },\n\n  radecForSkySource: function (skySource) {\n    if (!skySource || !skySource.model_data) {\n      return '?'\n    }\n    // console.log('skySource.model_data.radec:', skySource.model_data.ra, ',', skySource.model_data.de)\n    return {\n      ra: skySource.model_data.ra,\n      dec: skySource.model_data.de\n    };\n  },\n\n  culturalNameToList: function (cn) {\n    const res = []\n\n    const formatNative = function (_cn) {\n      if (cn.name_native && cn.name_pronounce) {\n        return cn.name_native + ', <i>' + cn.name_pronounce + '</i>'\n      }\n      if (cn.name_native) {\n        return cn.name_native\n      }\n      if (cn.name_pronounce) {\n        return cn.name_pronounce\n      }\n    }\n\n    const nativeName = formatNative(cn)\n    if (cn.user_prefer_native && nativeName) {\n      res.push(nativeName)\n    }\n    if (cn.name_translated) {\n      res.push(cn.name_translated)\n    }\n    if (!cn.user_prefer_native && nativeName) {\n      res.push(nativeName)\n    }\n    return res\n  },\n\n  namesForSkySource: function (ss, flags) {\n    // Return a list of cleaned up names\n    if (!ss || !ss.names) {\n      return []\n    }\n    if (!flags) flags = 10\n    let res = []\n    if (ss.culturalNames) {\n      for (const i in ss.culturalNames) {\n        res = res.concat(this.culturalNameToList(ss.culturalNames[i]))\n      }\n    }\n    res = res.concat(ss.names.map(n => Vue.prototype.$stel.designationCleanup(n, flags)))\n    // Remove duplicates, this can happen between * and V* catalogs\n    res = res.filter(function (v, i) { return res.indexOf(v) === i })\n    res = res.filter(function (v, i) { return !v.startsWith('CON ') })\n    return res\n  },\n\n  nameForSkySourceType: function (otype) {\n    const $stel = Vue.prototype.$stel\n    const res = $stel.otypeToStr(otype)\n    return res || 'Unknown Type'\n  },\n\n  nameForGalaxyMorpho: function (morpho) {\n    const galTab = {\n      E: 'Elliptical',\n      SB: 'Barred Spiral',\n      SAB: 'Intermediate Spiral',\n      SA: 'Spiral',\n      S0: 'Lenticular',\n      S: 'Spiral',\n      Im: 'Irregular',\n      dSph: 'Dwarf Spheroidal',\n      dE: 'Dwarf Elliptical'\n    }\n    for (const morp in galTab) {\n      if (morpho.startsWith(morp)) {\n        return galTab[morp]\n      }\n    }\n    return ''\n  },\n\n  getShareLink: function (context) {\n    let link = 'https://stellarium-web.org/'\n    if (context.$store.state.selectedObject) {\n      link += 'skysource/' + this.cleanupOneSkySourceName(context.$store.state.selectedObject.names[0], 5).replace(/\\s+/g, '')\n    }\n    link += '?'\n    link += 'fov=' + (context.$store.state.stel.fov * 180 / Math.PI).toPrecision(5)\n    const d = new Date()\n    d.setMJD(context.$stel.core.observer.utc)\n    link += '&date=' + new Moment(d).utc().format()\n    link += '&lat=' + (context.$stel.core.observer.latitude * 180 / Math.PI).toFixed(2)\n    link += '&lng=' + (context.$stel.core.observer.longitude * 180 / Math.PI).toFixed(2)\n    link += '&elev=' + context.$stel.core.observer.elevation\n    if (!context.$store.state.selectedObject) {\n      link += '&az=' + (context.$stel.core.observer.yaw * 180 / Math.PI).toPrecision(5)\n      link += '&alt=' + (context.$stel.core.observer.pitch * 180 / Math.PI).toPrecision(5)\n    }\n    return link\n  },\n\n  // Return a SweObj matching a passed sky source JSON object if it's already instanciated in SWE\n  skySource2SweObj: function (ss) {\n    if (!ss || !ss.model) {\n      return undefined\n    }\n    const $stel = Vue.prototype.$stel\n    let obj\n    if (ss.model === 'tle_satellite') {\n      const id = 'NORAD ' + ss.model_data.norad_number\n      obj = $stel.getObj(id)\n    } else if (ss.model === 'constellation' && ss.model_data.iau_abbreviation) {\n      const id = 'CON western ' + ss.model_data.iau_abbreviation\n      obj = $stel.getObj(id)\n    }\n    if (!obj) {\n      obj = $stel.getObj(ss.names[0])\n    }\n    if (!obj && ss.names[0].startsWith('Gaia DR2 ')) {\n      const gname = ss.names[0].replace(/^Gaia DR2 /, 'GAIA ')\n      obj = $stel.getObj(gname)\n    }\n    if (obj === null) return undefined\n    return obj\n  },\n\n  lookupSkySourceByName: function (name) {\n    const hostname = window.location.hostname\n    const baseURL = `http://${hostname}:8090`\n    // return fetch(process.env.VUE_APP_NOCTUASKY_API_SERVER + '/api/v1/skysources/name/' + name)\n    return fetch(baseURL + '/name/' + name)\n      .then(function (response) {\n        if (!response.ok) {\n          throw response.body\n        }\n        return response.json()\n      }, err => {\n        throw err.response.body\n      })\n  },\n\n\n\n  querySkySources: function (str, limit) {\n    if (!limit) {\n      limit = 10\n    }\n\n    //console.log(\"QIU | querySkySources:\" + process.env.VUE_APP_NOCTUASKY_API_SERVER + '/api/v1/skysources/?q=' + str + '&limit=' + limit)\n    //return fetch( 'https://api.noctuasky.com/api/v1/skysources/?q=' + str + '&limit=' + limit)\n    // return fetch(process.env.VUE_APP_NOCTUASKY_API_SERVER + '/api/v1/skysources/?q=' + str + '&limit=' + limit)\n    const hostname = window.location.hostname\n    const baseURL = `http://${hostname}:8090`\n    // console.log(\"querySkySources:\" + baseURL)\n    // return fetch(process.env.VUE_APP_NOCTUASKY_API_SERVER + '/?q=' + str + '&limit=' + limit)   //\"http://192.168.2.31:8090\"\n    return fetch(baseURL + '/?q=' + str + '&limit=' + limit)\n      .then(function (response) {\n        if (!response.ok) {\n          throw response.body\n        }\n        return response.json()\n      }, err => {\n        throw err.response.body\n      })\n  },\n\n\n  //by QIU just only for testing\n  // querySkySources: function (str, limit) {\n  //   if (!limit) {\n  //     limit = 10;\n  //     console.log(\"QIU | limit,\", { defaultLimit: limit });\n  //   }\n  //   return Promise.resolve(myData);\n  // },\n\n  sweObj2SkySource: function (obj) {\n    const names = obj.designations()\n    const that = this\n\n    if (!names || !names.length) {\n      throw new Error(\"Can't find object without names\")\n    }\n\n    // Several artifical satellites share the same common name, so we use\n    // the unambiguous NORAD number instead\n    for (const j in names) {\n      if (names[j].startsWith('NORAD ')) {\n        const tmpName = names[0]\n        names[0] = names[j]\n        names[j] = tmpName\n      }\n    }\n\n    const printErr = function (n) {\n      console.log(\"Couldn't find online skysource data for name: \" + n)\n\n      const ss = obj.jsonData\n      if (!ss.model_data) {\n        ss.model_data = {}\n      }\n      // Names fixup\n      let i\n      for (i in ss.names) {\n        if (ss.names[i].startsWith('GAIA')) {\n          ss.names[i] = ss.names[i].replace(/^GAIA /, 'Gaia DR2 ')\n        }\n      }\n      ss.culturalNames = obj.culturalDesignations()\n      return ss\n    }\n\n    return that.lookupSkySourceByName(names[0]).then(res => {\n      return res\n    }, () => {\n      if (names.length === 1) return printErr(names)\n      return that.lookupSkySourceByName(names[1]).then(res => {\n        return res\n      }, () => {\n        if (names.length === 2) return printErr(names)\n        return that.lookupSkySourceByName(names[2]).then(res => {\n          return res\n        }, () => {\n          return printErr(names[2])\n        })\n      })\n    }).then(res => {\n      res.culturalNames = obj.culturalDesignations()\n      return res\n    })\n  },\n\n  setSweObjAsSelection: function (obj) {\n    const $stel = Vue.prototype.$stel\n    $stel.core.selection = obj\n    $stel.pointAndLock(obj)\n  },\n\n  // Get data for a SkySource from wikipedia\n  getSkySourceSummaryFromWikipedia: function (ss) {\n    let title\n    if (ss.model === 'jpl_sso') {\n      title = this.cleanupOneSkySourceName(ss.names[0]).toLowerCase()\n      if (['mercury', 'venus', 'earth', 'mars', 'jupiter', 'saturn', 'neptune', 'pluto'].indexOf(title) > -1) {\n        title = title + '_(planet)'\n      }\n      if (ss.types[0] === 'Moo') {\n        title = title + '_(moon)'\n      }\n    }\n    if (ss.model === 'mpc_asteroid') {\n      title = this.cleanupOneSkySourceName(ss.names[0]).toLowerCase()\n    }\n    if (ss.model === 'constellation') {\n      title = this.cleanupOneSkySourceName(ss.names[0]).toLowerCase() + '_(constellation)'\n    }\n    if (ss.model === 'dso') {\n      for (const i in ss.names) {\n        if (ss.names[i].startsWith('M ')) {\n          title = 'Messier_' + ss.names[i].substr(2)\n          break\n        }\n        if (ss.names[i].startsWith('NGC ')) {\n          title = ss.names[i]\n          break\n        }\n        if (ss.names[i].startsWith('IC ')) {\n          title = ss.names[i]\n          break\n        }\n      }\n    }\n    if (ss.model === 'star') {\n      for (const i in ss.names) {\n        if (ss.names[i].startsWith('* ')) {\n          title = this.cleanupOneSkySourceName(ss.names[i])\n          break\n        }\n      }\n    }\n    if (!title) return Promise.reject(new Error(\"Can't find wikipedia compatible name\"))\n\n    // return fetch('https://en.wikipedia.org/w/api.php?action=query&redirects&prop=extracts&exintro&exlimit=1&exchars=300&format=json&origin=*&titles=' + title,\n    //   { headers: { 'Content-Type': 'application/json; charset=UTF-8' } })\n    //   .then(response => {\n    //     return response.json()\n    //   })\n    return\n  },\n\n  getGeolocation: function () {\n    console.log('Getting geolocalization')\n\n    // First get geoIP location, to use as fallback\n    return Vue.jsonp('https://freegeoip.stellarium.org/json/')\n      .then(location => {\n        var pos = {\n          lat: location.latitude,\n          lng: location.longitude,\n          accuracy: 20000\n        }\n        console.log('GeoIP localization: ' + JSON.stringify(pos))\n        return pos\n      }, err => {\n        console.log(err)\n      }).then(geoipPos => {\n        if (navigator.geolocation) {\n          return new Promise((resolve, reject) => {\n            navigator.geolocation.getCurrentPosition(function (position) {\n              var pos = {\n                lat: position.coords.latitude,\n                lng: position.coords.longitude,\n                accuracy: position.coords.accuracy\n              }\n              resolve(pos)\n            }, function () {\n              console.log('Could not get location from browser, use fallback from GeoIP')\n              // No HTML5 Geolocalization support, return geoip fallback values\n              if (geoipPos) {\n                resolve(geoipPos)\n              } else {\n                reject(new Error('Cannot detect position'))\n              }\n            }, { enableHighAccuracy: true })\n          })\n        }\n      })\n  },\n\n  delay: function (t, v) {\n    return new Promise(function (resolve) {\n      setTimeout(resolve.bind(null, v), t)\n    })\n  },\n\n  geoCodePosition: function (pos, ctx) {\n    console.log('Geocoding position... ')\n    console.log('Geocoding position start:', pos)\n    const ll = ctx.$t('Lat {0} Lon {1}', [pos.lat.toFixed(3), pos.lng.toFixed(3)])\n    var loc = {\n      short_name: pos.accuracy > 500 ? ctx.$t('Near {0}', [ll]) : ll,\n      country: 'Unknown',\n      lng: pos.lng,\n      lat: pos.lat,\n      alt: pos.alt ? pos.alt : 0,\n      accuracy: pos.accuracy,\n      street_address: ''\n    }\n    // console.log('Geocoding position over:', loc)\n    // return Promise.resolve(loc)\n    return fetch('https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=' + pos.lat + '&lon=' + pos.lng,\n      { headers: { 'Content-Type': 'application/json; charset=UTF-8' } }).then(response => {\n      if (response.ok) {\n        return response.json().then(res => {\n          const city = res.address.city ? res.address.city : (res.address.village ? res.address.village : res.name)\n          loc.short_name = pos.accuracy > 500 ? ctx.$t('Near {0}', [city]) : city\n          loc.country = res.address.country\n          if (pos.accuracy < 50) {\n            loc.street_address = res.address.road ? res.address.road : res.display_name\n          }\n          console.log('Geocoding position over:', loc)\n          return loc\n        })\n      } else {\n        console.log('Geocoder failed due to: ' + response.statusText)\n        return loc\n      }\n    })\n  },\n\n  getDistanceFromLatLonInM: function (lat1, lon1, lat2, lon2) {\n    var deg2rad = function (deg) {\n      return deg * (Math.PI / 180)\n    }\n    var R = 6371000 // Radius of the earth in m\n    var dLat = deg2rad(lat2 - lat1)\n    var dLon = deg2rad(lon2 - lon1)\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n            Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *\n            Math.sin(dLon / 2) * Math.sin(dLon / 2)\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n    var d = R * c // Distance in m\n    return d\n  },\n\n  // Look for the next time starting from now on when the night Sky is visible\n  // i.e. when sun is more than 10 degree below horizon.\n  // If no such time was found (e.g. in a northern country in summer),\n  // we default to current time.\n  getTimeAfterSunset: function (stel) {\n    const sun = stel.getObj('NAME Sun')\n    const obs = stel.observer.clone()\n    const utc = Math.floor(obs.utc * 24 * 60 / 5) / (24 * 60 / 5)\n    let i\n    for (i = 0; i < 24 * 60 / 5 + 1; i++) {\n      obs.utc = utc + 1.0 / (24 * 60) * (i * 5)\n      const sunRadec = sun.getInfo('RADEC', obs)\n      const azalt = stel.convertFrame(obs, 'ICRF', 'OBSERVED', sunRadec)\n      const alt = stel.anpm(stel.c2s(azalt)[1])\n      if (alt < -13 * Math.PI / 180) {\n        break\n      }\n    }\n    if (i === 0 || i === 24 * 60 / 5 + 1) {\n      return stel.observer.utc\n    }\n    return obs.utc\n  },\n\n  // Get the list of circumpolar stars in a given magnitude range\n  //\n  // Arguments:\n  //   obs      - An observer.\n  //   maxMag   - The maximum magnitude above which objects are discarded.\n  //   filter   - a function called for each object returning false if the\n  //              object must be filtered out.\n  //\n  // Return:\n  //   An array SweObject. It is the responsibility of the caller to properly\n  //   destroy all the objects of the list when they are not needed, by calling\n  //   obj.destroy() on each of them.\n  //\n  // Example code:\n  //   // Return all cicumpolar stars between mag -2 and 4\n  //   let res = swh.getCircumpolarStars(this.$stel.observer, -2, 4)\n  //   // Do something with the stars\n  //   console.log(res.length)\n  //   // Destroy the objects (don't forget this line!)\n  //   res.map(e => e.destroy())\n  getCircumpolarStars: function (obs, minMag, maxMag) {\n    const $stel = Vue.prototype.$stel\n    const filter = function (obj) {\n      if (obj.getInfo('vmag', obs) <= minMag) {\n        return false\n      }\n      const posJNOW = $stel.convertFrame(obs, 'ICRF', 'JNOW', obj.getInfo('radec'))\n      const radecJNOW = $stel.c2s(posJNOW)\n      console.log('RaDecJNOW:', radecJNOW)\n      const decJNOW = $stel.anpm(radecJNOW[1])\n      if (obs.latitude >= 0) {\n        return decJNOW >= Math.PI / 2 - obs.latitude\n      } else {\n        return decJNOW <= -Math.PI / 2 + obs.latitude\n      }\n    }\n    return $stel.core.stars.listObjs(obs, maxMag, filter)\n  },\n\n  circumpolarMask: undefined,\n  showCircumpolarMask: function (obs, show) {\n    if (show === undefined) {\n      show = true\n    }\n    const layer = Vue.prototype.$skyHintsLayer\n    const $stel = Vue.prototype.$stel\n    if (this.circumpolarMask) {\n      layer.remove(this.circumpolarMask)\n      this.circumpolarMask = undefined\n    }\n    if (show) {\n      const diam = 2.0 * Math.PI - Math.abs(obs.latitude) * 2\n      const shapeParams = {\n        pos: [0, 0, obs.latitude > 0 ? -1 : 1, 0],\n        frame: $stel.FRAME_JNOW,\n        size: [diam, diam],\n        color: [0.1, 0.1, 0.1, 0.8],\n        border_color: [0.1, 0.1, 0.6, 1]\n      }\n      this.circumpolarMask = layer.add('circle', shapeParams)\n    }\n  }\n}\n\nexport default swh\n"]}]}