{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/App.vue","mtime":1754027921459},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVhZE9ubHlFcnJvciBmcm9tICIvaG9tZS9xdWFyY3Mvd29ya3NwYWNlL1FVQVJDUy9RVUFSQ1Nfc3RlbGxhcml1bS13ZWItZW5naW5lL2FwcHMvd2ViLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWFkT25seUVycm9yIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3F1YXJjcy93b3Jrc3BhY2UvUVVBUkNTL1FVQVJDU19zdGVsbGFyaXVtLXdlYi1lbmdpbmUvYXBwcy93ZWItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5pcy12aWV3LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDE2LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWNsYW1wZWQtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgR3VpIGZyb20gJ0AvY29tcG9uZW50cy9ndWkudnVlJzsKaW1wb3J0IEd1aUxvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvZ3VpLWxvYWRlci52dWUnOwppbXBvcnQgc3doIGZyb20gJ0AvYXNzZXRzL3N3X2hlbHBlcnMuanMnOwppbXBvcnQgTW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBCYWNrZ3JvdW5kSW1hZ2UgZnJvbSAnQC9hc3NldHMvaW1hZ2VzL3N2Zy91aS9CYWNrZ3JvdW5kLnN2Zyc7CmltcG9ydCBFcnJvckltYWdlIGZyb20gJ0AvYXNzZXRzL2ltYWdlcy9zdmcvdWkvZXJyb3JJbWFnZS5zdmcnOwppbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSAnQC9jb21wb25lbnRzL1Byb2dyZXNzQmFyLnZ1ZSc7CnZhciBnbFRlc3RDaXJjbGU7CnZhciBnbExheWVyOwp2YXIgZ2xTdGVsOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YShjb250ZXh0KSB7CiAgICByZXR1cm4gewogICAgICBtZW51SXRlbXM6IFt7CiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ1ZpZXcgU2V0dGluZ3MnKSwKICAgICAgICBpY29uOiAnbWRpLXNldHRpbmdzJywKICAgICAgICBzdG9yZV92YXJfbmFtZTogJ3Nob3dWaWV3U2V0dGluZ3NEaWFsb2cnLAogICAgICAgIHN0b3JlX3Nob3dfbWVudV9pdGVtOiAnc2hvd1ZpZXdTZXR0aW5nc01lbnVJdGVtJwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ1BsYW5ldHMgVG9uaWdodCcpLAogICAgICAgIGljb246ICdtZGktcGFub3JhbWEtZmlzaGV5ZScsCiAgICAgICAgc3RvcmVfdmFyX25hbWU6ICdzaG93UGxhbmV0c1Zpc2liaWxpdHlEaWFsb2cnLAogICAgICAgIHN0b3JlX3Nob3dfbWVudV9pdGVtOiAnc2hvd1BsYW5ldHNWaXNpYmlsaXR5TWVudUl0ZW0nCiAgICAgIH0sIHsKICAgICAgICBkaXZpZGVyOiB0cnVlCiAgICAgIH1dLmNvbmNhdCh0aGlzLmdldFBsdWdpbnNNZW51SXRlbXMoKSkuY29uY2F0KFt7CiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ0RhdGEgQ3JlZGl0cycpLAogICAgICAgIGZvb3RlcjogdHJ1ZSwKICAgICAgICBpY29uOiAnbWRpLWNvcHlyaWdodCcsCiAgICAgICAgc3RvcmVfdmFyX25hbWU6ICdzaG93RGF0YUNyZWRpdHNEaWFsb2cnCiAgICAgIH1dKSwKICAgICAgbWVudUNvbXBvbmVudHM6IFtdLmNvbmNhdCh0aGlzLmdldFBsdWdpbnNNZW51Q29tcG9uZW50cygpKSwKICAgICAgZ3VpQ29tcG9uZW50OiAnR3VpTG9hZGVyJywKICAgICAgc3RhcnRUaW1lSXNTZXQ6IGZhbHNlLAogICAgICBpbml0RG9uZTogZmFsc2UsCiAgICAgIGRhdGFTb3VyY2VJbml0RG9uZTogZmFsc2UsCiAgICAgIGltYWdlU3JjOiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9lZ0E1Rkl2LmpwZWcnLAogICAgICAvLyDmm7/mjaLkuLrkvaDnmoTlm77lg4/ot6/lvoQKICAgICAgY3ZSZWFkeTogZmFsc2UsCiAgICAgIGNhbnZhc1pJbmRleFN0ZWw6IC0xMCwKICAgICAgY2FudmFzWkluZGV4TWFpbkNhbWVyYTogLTExLAogICAgICBjYW52YXNaSW5kZXhHdWlkZXJDYW1lcmE6IC0xMiwKICAgICAgY3VycmVudGNhbnZhczogJ1N0ZWwnLAogICAgICBXZWJTb2NrZXRVcmw6ICcnLAogICAgICB3ZWJzb2NrZXQ6IG51bGwsCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICByZWNlaXZlZE1lc3NhZ2VzOiBbXSwKICAgICAgLy8g5a2Y5YKo5o6l5pS25Yiw55qE5raI5oGvCiAgICAgIHNlbnRNZXNzYWdlczogW10sCiAgICAgIC8vIOWtmOWCqOW3suWPkemAgeeahOa2iOaBrwogICAgICBtZXNzYWdlQ291bnRlcjogMCwKICAgICAgLy8g55So5LqO55Sf5oiQ5ZSv5LiA55qE5raI5oGvSUQKICAgICAgd2Vic29ja2V0U3RhdGU6ICdkaXNjb25uZWN0ZWQnLAogICAgICAvLyDmt7vliqBXZWJTb2NrZXTov57mjqXnirbmgIEKICAgICAgbmV0d29ya0Rpc2Nvbm5lY3RlZDogZmFsc2UsCiAgICAgIC8vIOa3u+WKoOe9kee7nOi/nuaOpeeKtuaAgQogICAgICBRVENsaWVudFZlcnNpb246ICdOb3QgY29ubmVjdGVkJywKICAgICAgVnVlQ2xpZW50VmVyc2lvbjogcHJvY2Vzcy5lbnYuVlVFX0FQUF9WRVJTSU9OLAogICAgICAvLyDmoKHlh4bkv6Hmga/lr7nosaEKICAgICAgY2FsaWJyYXRpb25JbmZvOiB7CiAgICAgICAgaXNDYWxpYnJhdGluZzogZmFsc2UsCiAgICAgICAgY2FsaWJyYXRpb25TdGF0ZTogJ2lkbGUnLAogICAgICAgIGNhbGlicmF0aW9uU3RlcDogMCwKICAgICAgICBjYWxpYnJhdGlvbk1lc3NhZ2U6ICcnCiAgICAgIH0sCiAgICAgIC8vIGlzTWVzc2FnZUJveFNob3c6IGZhbHNlLAogICAgICBDdXJyZW50RHJpdmVyVHlwZTogJycsCiAgICAgIERldmljZUlzQ29ubmVjdGVkOiBudWxsLAogICAgICBjb25maXJtRHJpdmVyVHlwZTogJycsCiAgICAgIE1haW5DYW1lcmFPZmZzZXRNaW46IDAsCiAgICAgIE1haW5DYW1lcmFPZmZzZXRNYXg6IDAsCiAgICAgIE1haW5DYW1lcmFHYWluTWluOiAwLAogICAgICBNYWluQ2FtZXJhR2Fpbk1heDogMCwKICAgICAgZGV2aWNlczogW3sKICAgICAgICBuYW1lOiAn5a+85pif6ZWcJywKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICB0eXBlOiAnQ0NEcycsCiAgICAgICAgTGlzdE51bTogIjEiLAogICAgICAgIGlzZ2V0OiBmYWxzZSwKICAgICAgICBkZXZpY2U6ICcnLAogICAgICAgIEJhdWRSYXRlOiA5NjAwLAogICAgICAgIGRyaXZlck5hbWU6ICcnLAogICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSwKICAgICAgICBkaWFsb2dTdGF0ZVZhcjogJ3Nob3dEZXZpY2VTZXR0aW5nc0RpYWxvZ19HdWlkZXInCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5Li755u45py6JywKICAgICAgICBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsCiAgICAgICAgdHlwZTogJ0NDRHMnLAogICAgICAgIExpc3ROdW06ICIyMCIsCiAgICAgICAgaXNnZXQ6IGZhbHNlLAogICAgICAgIGRldmljZTogJycsCiAgICAgICAgQmF1ZFJhdGU6IDk2MDAsCiAgICAgICAgZHJpdmVyTmFtZTogJycsCiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLAogICAgICAgIGRpYWxvZ1N0YXRlVmFyOiAnc2hvd0RldmljZVNldHRpbmdzRGlhbG9nX01haW5DYW1lcmEnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn6LWk6YGT5LuqJywKICAgICAgICBkcml2ZXJUeXBlOiAnTW91bnQnLAogICAgICAgIHR5cGU6ICdUZWxlc2NvcGVzJywKICAgICAgICBMaXN0TnVtOiAiMCIsCiAgICAgICAgaXNnZXQ6IGZhbHNlLAogICAgICAgIGRldmljZTogJycsCiAgICAgICAgQmF1ZFJhdGU6IDk2MDAsCiAgICAgICAgZHJpdmVyTmFtZTogJycsCiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLAogICAgICAgIGRpYWxvZ1N0YXRlVmFyOiAnc2hvd0RldmljZVNldHRpbmdzRGlhbG9nX01vdW50JwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+acm+i/nOmVnCcsCiAgICAgICAgZHJpdmVyVHlwZTogJ1RlbGVzY29wZXMnLAogICAgICAgIGRldmljZTogJycsCiAgICAgICAgaXNDb25uZWN0ZWQ6IHRydWUKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfnlLXliqjosIPnhKblmagnLAogICAgICAgIGRyaXZlclR5cGU6ICdGb2N1c2VyJywKICAgICAgICB0eXBlOiAnRm9jdXNlcnMnLAogICAgICAgIExpc3ROdW06ICIyMiIsCiAgICAgICAgaXNnZXQ6IGZhbHNlLAogICAgICAgIGRldmljZTogJycsCiAgICAgICAgQmF1ZFJhdGU6IDk2MDAsCiAgICAgICAgZHJpdmVyTmFtZTogJycsCiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLAogICAgICAgIGRpYWxvZ1N0YXRlVmFyOiAnc2hvd0RldmljZVNldHRpbmdzRGlhbG9nX0ZvY3VzZXInCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn55S15a2Q5p6B6L206ZWcJywKICAgICAgICBkcml2ZXJUeXBlOiAnUG9sZUNhbWVyYScsCiAgICAgICAgdHlwZTogJ0NDRHMnLAogICAgICAgIExpc3ROdW06ICIyIiwKICAgICAgICBpc2dldDogZmFsc2UsCiAgICAgICAgZGV2aWNlOiAnJywKICAgICAgICBCYXVkUmF0ZTogOTYwMCwKICAgICAgICBkcml2ZXJOYW1lOiAnJywKICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsCiAgICAgICAgZGlhbG9nU3RhdGVWYXI6ICdzaG93RGV2aWNlU2V0dGluZ3NEaWFsb2dfUG9sZUNhbWVyYScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfmu6TplZzova4nLAogICAgICAgIGRyaXZlclR5cGU6ICdDRlcnLAogICAgICAgIHR5cGU6ICdGaWx0ZXIgV2hlZWxzJywKICAgICAgICBMaXN0TnVtOiAiMjEiLAogICAgICAgIGlzZ2V0OiBmYWxzZSwKICAgICAgICBkZXZpY2U6ICcnLAogICAgICAgIEJhdWRSYXRlOiA5NjAwLAogICAgICAgIGRyaXZlck5hbWU6ICcnLAogICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSwKICAgICAgICBkaWFsb2dTdGF0ZVZhcjogJ3Nob3dEZXZpY2VTZXR0aW5nc0RpYWxvZ19DRlcnCiAgICAgIH1dLAogICAgICAvLyBDaGFuZ2luZyB0aGUgbGFiZWwgbmFtZSBhbHNvIHJlcXVpcmVzIGNoYW5naW5nIHRoZSBlbWl0IHNpZ25hbCBuYW1lCiAgICAgIEd1aWRlckNvbmZpZ0l0ZW1zOiBbewogICAgICAgIGRyaXZlclR5cGU6ICdHdWlkZXInLAogICAgICAgIGxhYmVsOiAnR3VpZGVyIEZvY2FsIExlbmd0aCAobW0pJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdHdWlkZXInLAogICAgICAgIGxhYmVsOiAnTXVsdGkgU3RhciBHdWlkZXInLAogICAgICAgIHZhbHVlOiBmYWxzZSwKICAgICAgICBpbnB1dFR5cGU6ICdzd2l0Y2gnCiAgICAgIH0sIC8vIHsgZHJpdmVyVHlwZTogJ0d1aWRlcicsIGxhYmVsOiAnR3VpZGVyIFBpeGVsIHNpemUnLCB2YWx1ZTogJycsIGlucHV0VHlwZTogJ3RleHQnfSwKICAgICAgewogICAgICAgIGRyaXZlclR5cGU6ICdHdWlkZXInLAogICAgICAgIGxhYmVsOiAnR3VpZGVyIEdhaW4nLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzbGlkZXInLAogICAgICAgIGlucHV0TWluOiAwLAogICAgICAgIGlucHV0TWF4OiAxMDAsCiAgICAgICAgaW5wdXRTdGVwOiAxCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ0NhbGlicmF0aW9uIHN0ZXAgKG1zKScsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3RleHQnCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ1JhIEFnZ3Jlc3Npb24nLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzbGlkZXInLAogICAgICAgIGlucHV0TWluOiAwLAogICAgICAgIGlucHV0TWF4OiAxMDAsCiAgICAgICAgaW5wdXRTdGVwOiAxCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ0RlYyBBZ2dyZXNzaW9uJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnc2xpZGVyJywKICAgICAgICBpbnB1dE1pbjogMCwKICAgICAgICBpbnB1dE1heDogMTAwLAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9XSwKICAgICAgTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zOiBbLy8gdnVl5aSE55CG5Y+C5pWwCiAgICAgIHsKICAgICAgICBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsCiAgICAgICAgbGFiZWw6ICdJbWFnZUNGQScsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3NlbGVjdCcsCiAgICAgICAgc2VsZWN0VmFsdWU6IFsnR1InLCAnR0InLCAnQkcnLCAnUkdHQicsICdudWxsJ10KICAgICAgfSwgLy8g56Gs5Lu25aSE55CG5Y+C5pWwCiAgICAgIHsKICAgICAgICBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsCiAgICAgICAgbGFiZWw6ICdCaW5uaW5nJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnc2xpZGVyJywKICAgICAgICBpbnB1dE1pbjogMSwKICAgICAgICBpbnB1dE1heDogNCwKICAgICAgICBpbnB1dFN0ZXA6IDEKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ1RlbXBlcmF0dXJlJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnc2VsZWN0JywKICAgICAgICBzZWxlY3RWYWx1ZTogWzUsIDAsIC01LCAtMTAsIC0xNSwgLTIwLCAtMjVdCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsCiAgICAgICAgbGFiZWw6ICdHYWluJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnc2xpZGVyJywKICAgICAgICBpbnB1dE1pbjogMCwKICAgICAgICBpbnB1dE1heDogMCwKICAgICAgICBpbnB1dFN0ZXA6IDEKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ09mZnNldCcsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3NsaWRlcicsCiAgICAgICAgaW5wdXRNaW46IDAsCiAgICAgICAgaW5wdXRNYXg6IDAsCiAgICAgICAgaW5wdXRTdGVwOiAxCiAgICAgIH0gLy8gdnVl5aSE55CG5Y+C5pWwCiAgICAgIC8vIHsgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLCBsYWJlbDogJ0ltYWdlR2FpblInLCB2YWx1ZTogJzEnLCBpbnB1dFR5cGU6ICdzbGlkZXInLCBpbnB1dE1pbjogMCwgaW5wdXRNYXg6IDMsIGlucHV0U3RlcDogMC4wMSB9LAogICAgICAvLyB7IGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywgbGFiZWw6ICdJbWFnZUdhaW5CJywgdmFsdWU6ICcxJywgaW5wdXRUeXBlOiAnc2xpZGVyJywgaW5wdXRNaW46IDAsIGlucHV0TWF4OiAzLCBpbnB1dFN0ZXA6IDAuMDEgfSwKICAgICAgLy8geyBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsIGxhYmVsOiAnSW1hZ2VPZmZzZXQnLCB2YWx1ZTogJycsIGlucHV0VHlwZTogJ3NsaWRlcicsIGlucHV0TWluOiAwLCBpbnB1dE1heDogMjU1LCBpbnB1dFN0ZXA6IDAuMSB9LAogICAgICAvLyB7IGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywgbGFiZWw6ICdSZWRCb3ggU2lkZSBMZW5ndGggKHB4KScsIHZhbHVlOiAnJywgaW5wdXRUeXBlOiAndGV4dCcgfSwKICAgICAgLy8geyBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsIGxhYmVsOiAnRXhwVGltZSBbMV0nLCB2YWx1ZTogJycsIGlucHV0VHlwZTogJ3RleHQnIH0sCiAgICAgIC8vIHsgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLCBsYWJlbDogJ0V4cFRpbWUgWzJdJywgdmFsdWU6ICcnLCBpbnB1dFR5cGU6ICd0ZXh0JyB9LAogICAgICAvLyB7IGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywgbGFiZWw6ICdFeHBUaW1lIFszXScsIHZhbHVlOiAnJywgaW5wdXRUeXBlOiAndGV4dCcgfSwKICAgICAgLy8geyBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsIGxhYmVsOiAnRXhwVGltZSBbNF0nLCB2YWx1ZTogJycsIGlucHV0VHlwZTogJ3RleHQnIH0sCiAgICAgIC8vIHsgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLCBsYWJlbDogJ0V4cFRpbWUgWzVdJywgdmFsdWU6ICcnLCBpbnB1dFR5cGU6ICd0ZXh0JyB9LAogICAgICAvLyB7IGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywgbGFiZWw6ICdFeHBUaW1lIFs2XScsIHZhbHVlOiAnJywgaW5wdXRUeXBlOiAndGV4dCcgfSwKICAgICAgLy8geyBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsIGxhYmVsOiAnRXhwVGltZSBbN10nLCB2YWx1ZTogJycsIGlucHV0VHlwZTogJ3RleHQnIH0sCiAgICAgIC8vIHsgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLCBsYWJlbDogJ0V4cFRpbWUgWzhdJywgdmFsdWU6ICcnLCBpbnB1dFR5cGU6ICd0ZXh0JyB9LAogICAgICAvLyB7IGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywgbGFiZWw6ICdFeHBUaW1lIFs5XScsIHZhbHVlOiAnJywgaW5wdXRUeXBlOiAndGV4dCcgfSwKICAgICAgLy8g5Zyo6L+Z6YeM5re75Yqg5pu05aSa55qE6YWN572u6aG5CiAgICAgIF0sCiAgICAgIE1vdW50Q29uZmlnSXRlbXM6IFtdLAogICAgICBUZWxlc2NvcGVzQ29uZmlnSXRlbXM6IFt7CiAgICAgICAgZHJpdmVyVHlwZTogJ1RlbGVzY29wZXMnLAogICAgICAgIG51bTogMSwKICAgICAgICBsYWJlbDogJ0ZvY2FsIExlbmd0aCAobW0pJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfV0sCiAgICAgIEZvY3VzZXJDb25maWdJdGVtczogW3sKICAgICAgICBkcml2ZXJUeXBlOiAnRm9jdXNlcicsCiAgICAgICAgbnVtOiAyLAogICAgICAgIGxhYmVsOiAnU3luYyBGb2N1c2VyIFN0ZXAnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0JwogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ0ZvY3VzZXInLAogICAgICAgIG51bTogMiwKICAgICAgICBsYWJlbDogJ01pbiBMaW1pdCcsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ251bWJlcicKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdGb2N1c2VyJywKICAgICAgICBudW06IDIsCiAgICAgICAgbGFiZWw6ICdNYXggTGltaXQnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdudW1iZXInCiAgICAgIH1dLAogICAgICBQb2xlQ2FtZXJhQ29uZmlnSXRlbXM6IFtdLAogICAgICBDRldDb25maWdJdGVtczogW10sCiAgICAgIEJlZm9yZUNoYW5nZUNvbmZpZ0l0ZW1zOiBbXSwKICAgICAgaW1hZ2VEYXRhOiBudWxsLAogICAgICBoaXN0b2dyYW1JbWFnZTogbnVsbCwKICAgICAgaGlzdG9ncmFtX21pbjogMCwKICAgICAgLy8g55u05pa55Zu+6Ieq5Yqo5ouJ5Ly455qE5pyA5bCP5YC8CiAgICAgIGhpc3RvZ3JhbV9tYXg6IDI1NSwKICAgICAgLy8g55u05pa55Zu+6Ieq5Yqo5ouJ5Ly455qE5pyA5aSn5YC8CiAgICAgIGN1cnJlbnRIaXN0b2dyYW1NaW46IDAsCiAgICAgIGN1cnJlbnRIaXN0b2dyYW1NYXg6IDI1NSwKICAgICAgSW1hZ2VHYWluUjogMSwKICAgICAgSW1hZ2VHYWluQjogMSwKICAgICAgSW1hZ2VPZmZzZXQ6IDAsCiAgICAgIEltYWdlQ0ZBOiAnQkcnLAogICAgICBjYW1lcmFCaW46IDEsCiAgICAgIC8vIOW9k+WJjeebuOacumJpbm5pbmcKICAgICAgQ2FudmFzV2lkdGg6IDE5MjAsCiAgICAgIC8vIOS4u+eUu+W4g+WuveW6pgogICAgICBDYW52YXNIZWlnaHQ6IDEwODAsCiAgICAgIC8vIOS4u+eUu+W4g+mrmOW6pgogICAgICBzY2FsZTogMSwKICAgICAgLy8g57yp5pS+5q+U5L6LCiAgICAgIHRyYW5zbGF0ZVg6IDAsCiAgICAgIC8vIOW5s+enu3jlnZDmoIcKICAgICAgdHJhbnNsYXRlWTogMCwKICAgICAgLy8g5bmz56e7eeWdkOaghwogICAgICBidWZmZXJDYW52YXM6IG51bGwsCiAgICAgIC8vIOWtmOWCqOeUu+W4gwogICAgICBidWZmZXJDdHg6IG51bGwsCiAgICAgIC8vIOWtmOWCqOeUu+W4g+S4iuS4i+aWhwogICAgICB0ZW1wQ2FudmFzOiBudWxsLAogICAgICAvLyDkuLTml7bnlLvluIMKICAgICAgdGVtcEN0eDogbnVsbCwKICAgICAgLy8g5Li05pe255S75biD5LiK5LiL5paHCiAgICAgIHZpc2libGVXaWR0aDogMCwKICAgICAgLy8g5Y+v6KeB5Yy65Z+f5a695bqmCiAgICAgIHZpc2libGVIZWlnaHQ6IDAsCiAgICAgIC8vIOWPr+ingeWMuuWfn+mrmOW6pgogICAgICB2aXNpYmxlWDogMCwKICAgICAgLy8g5Y+v6KeB5Yy65Z+feOWdkOaghwogICAgICB2aXNpYmxlWTogMCwKICAgICAgLy8g5Y+v6KeB5Yy65Z+feeWdkOaghwogICAgICBpc0RyYWdnaW5nOiBmYWxzZSwKICAgICAgLy8g5qCH6K6w55S75biD5piv5ZCm5q2j5Zyo5ouW5YqoCiAgICAgIHBlbmRpbmdTY2FsZUNoYW5nZTogZmFsc2UsCiAgICAgIC8vIOagh+iusOeUu+W4g+aYr+WQpuato+WcqOe8qeaUvgogICAgICB0b3VjaFN0YXJ0WDogMCwKICAgICAgLy8g6Kem5pG45byA5aeLeOWdkOaghwogICAgICB0b3VjaFN0YXJ0WTogMCwKICAgICAgLy8g6Kem5pG45byA5aeLeeWdkOaghwogICAgICBzdGFydERpc3RhbmNlOiAwLAogICAgICAvLyDop6bmkbjlvIDlp4vot53nprsKICAgICAgbW92ZUludGVydmFsSWQ6IG51bGwsCiAgICAgIC8vIOaLluWKqOWumuaXtuWZqAogICAgICB6b29tSW50ZXJ2YWxJZDogbnVsbCwKICAgICAgLy8g57yp5pS+5a6a5pe25ZmoCiAgICAgIGltYWdlV2lkdGg6IDAsCiAgICAgIC8vIOWbvuWDj+WuveW6pgogICAgICBpbWFnZUhlaWdodDogMCwKICAgICAgLy8g5Zu+5YOP6auY5bqmCiAgICAgIGRyYXdJbWdEYXRhOiBudWxsLAogICAgICBPcmlnaW5hbEltYWdlOiBudWxsLAogICAgICBkZXRlY3RTdGFyc0ltZzogbnVsbCwKICAgICAgaXNOb3REcmF3U3RhcnM6IHRydWUsCiAgICAgIG1haW5DYW1lcmFTaXplWDogMCwKICAgICAgbWFpbkNhbWVyYVNpemVZOiAwLAogICAgICBJbWFnZVByb3BvcnRpb246IDAsCiAgICAgIERldGVjdGVkU3RhcnNMaXN0OiBbXSwKICAgICAgRGV0ZWN0ZWRTdGFyc0ZpbmlzaDogZmFsc2UsCiAgICAgIENhcnRlc2lhbkxpc3Q6IFtdLAogICAgICBQb2xhclBvaW50X0FsdGl0dWRlOiAwLAogICAgICBMYXN0UG9pbnRfQXpBbHQ6IG51bGwsCiAgICAgIE1hcmtDaXJjbGVOdW06IDAsCiAgICAgIExhc3RDaXJjbGVfUmFEZWM6IG51bGwsCiAgICAgIExhc3RDaXJjbGVfQXpBbHQ6IG51bGwsCiAgICAgIENpcmNsZXM6IFtdLAogICAgICAvLyDmnoHovbTmoKHlh4bnm7jlhbPmlbDnu4QKICAgICAgY2FsaWJyYXRpb25DaXJjbGVzOiBbXSwKICAgICAgLy8g5qCh5YeG54K55ZyG5ZyI5pWw57uECiAgICAgIGFkanVzdG1lbnRDaXJjbGVzOiBbXSwKICAgICAgLy8g6LCD5pW054K55ZyG5ZyI5pWw57uECiAgICAgIGxhc3RQb3NpdGlvbjogbnVsbCwKICAgICAgLy8g5LiK5LiA5qyh5L2N572uCiAgICAgIGZpZWxkVXBkYXRlVGltZXI6IG51bGwsCiAgICAgIC8vIOinhuWcuuabtOaWsOWumuaXtuWZqAogICAgICBmaWVsZE9mVmlld1BvbHlnb25zOiBbXSwKICAgICAgLy8g5a2Y5YKo6KeG5Zy65aSa6L655b2i5a+56LGhCiAgICAgIGRyYXdlcl8yOiBudWxsLAogICAgICAvLyDorr7nva7kvqfovrnmoI/nmoTmmL7npLrkuI7pmpDol48KICAgICAgZHJpdmVyczogW10sCiAgICAgIC8vIOmpseWKqOmAiemhueaVsOe7hAogICAgICBzZWxlY3RlZERyaXZlcjogbnVsbCwKICAgICAgLy8g6YCJ5Lit55qE6amx5YqoCiAgICAgIGRldmljZXNMaXN0OiBbXSwKICAgICAgLy8g6K6+5aSH6YCJ6aG55pWw57uECiAgICAgIHNlbGVjdGVkRGV2aWNlOiBudWxsLAogICAgICAvLyDpgInkuK3nmoTorr7lpIcKICAgICAgVG9CZUNvbm5lY3REZXZpY2U6IFtdLAogICAgICBsb2FkaW5nU2VsZWN0RHJpdmVyOiBmYWxzZSwKICAgICAgbG9hZGluZ0Nvbm5lY3RBbGxEZXZpY2U6IGZhbHNlLAogICAgICBDdXJyZW50TG9jYXRpb25Mbmc6IDAsCiAgICAgIEN1cnJlbnRMb2NhdGlvbkxhdDogMCwKICAgICAgaGlzdG9ncmFtRGF0YTogW10sCiAgICAgIEltYWdlQXJyYXlCdWZmZXI6IG51bGwsCiAgICAgIGlzT3BlbkRldmljZVBhZ2U6IGZhbHNlLAogICAgICAvLyDorr7nva7orr7lpIfpobXpnaLmmK/lkKbmiZPlvIAKICAgICAgaXNPcGVuUG93ZXJQYWdlOiBmYWxzZSwKICAgICAgLy8g6K6+572u55S15rqQ6aG16Z2i5piv5ZCm5omT5byACiAgICAgIE91dFB1dFBvd2VyXzFfT046IHRydWUsCiAgICAgIE91dFB1dFBvd2VyXzJfT046IGZhbHNlLAogICAgICBpc1BvbGFyQXhpc01vZGU6IGZhbHNlLAogICAgICBpc1RvdWNoaW5nOiBmYWxzZSwKICAgICAgLy8g5qCH6K6w5piv5ZCm5q2j5Zyo5aSE55CG6Kem5pG45LqL5Lu2CiAgICAgIENvbm5lY3RCdG5QcmVzc1RpbWVyOiBudWxsLAogICAgICBDb25uZWN0QnRubG9uZ1ByZXNzVGhyZXNob2xkOiAxMDAwLAogICAgICBpc0Nvbm5lY3RCdG5Mb25nUHJlc3M6IGZhbHNlLAogICAgICAvLyDmoIforrDmmK/lkKbkuLrplb/mjIkKICAgICAgQ29ubmVjdEJ0bkNhbkNsaWNrOiB0cnVlLAogICAgICBoYXZlRGV2aWNlQ29ubmVjdDogZmFsc2UsCiAgICAgIGlzQ29ubmVjdGluZzogZmFsc2UsCiAgICAgIC8vIOa3u+WKoOi/nuaOpeeKtuaAgQogICAgICBkaXNjb25uZWN0VGltZW91dFRyaWdnZXJlZDogZmFsc2UsCiAgICAgIGRpc2Nvbm5lY3RUaW1lb3V0OiBudWxsLAogICAgICBpc0Rvd25sb2FkaW5nSW1hZ2U6IGZhbHNlLAogICAgICBpc0Rvd25sb2FkaW5nSW1hZ2VOYW1lOiAnJywKICAgICAgaXNXYWl0aW5nTG9nZ2VkOiBmYWxzZSwKICAgICAgLy8g5re75Yqg562J5b6F5pel5b+X5qCH5b+XCiAgICAgIHNob3dEaXNjb25uZWN0RGlhbG9nOiBmYWxzZSwKICAgICAgY3VycmVudERpc2Nvbm5lY3REcml2ZXJOYW1lOiAnJywKICAgICAgZW5hYmxlTWFpbkNhbnZhc0NsaWNrOiBmYWxzZSwKICAgICAgLy8g5o6n5Yi255S75biD5piv5ZCm5Y+v5Lul54K55Ye777yM55So5p2l56e75Yqo6LCD54Sm6YCJ5oup5qGG5ZKM6YCJ5pifCiAgICAgIGxhc3RJbWFnZVByb2Nlc3NQYXJhbXM6IHsKICAgICAgICAvLyDmnIDlkI7lpITnkIblm77lg4/nmoTlj4LmlbAKICAgICAgICBibGFja0xldmVsOiAwLAogICAgICAgIHdoaXRlTGV2ZWw6IDY1NTM1LAogICAgICAgIENGQTogJ251bGwnLAogICAgICAgIGFuYWx5c2lzOiBudWxsLAogICAgICAgIGlzQ29sb3JDYW1lcmE6IGZhbHNlCiAgICAgIH0sCiAgICAgIGZvY3VzZXJQaWN0dXJlRmlsZU5hbWU6ICcnLAogICAgICAvLyDnhKbot53lm77niYfmlofku7blkI0KICAgICAgaXNQcm9jZXNzaW5nSW1hZ2U6IGZhbHNlLAogICAgICAvLyDmjqfliLbmmK/lkKbmraPlnKjlpITnkIblm77lg48KICAgICAgaXNGb2N1c0xvb3BTaG9vdGluZzogZmFsc2UsCiAgICAgIC8vIOaOp+WItuaYr+WQpui/m+ihjFJPaeW+queOr+aLjeaRhAogICAgICBmb2N1c2VyUk9JU3RhcnNMaXN0OiBbXSwKICAgICAgLy8g55So5p2l5L+d5a2YUk9J5Yy65Z+f55qE5pif54K55YiX6KGo77yM5YiG5Yir5L+d5a2YeCx5LEhGUgogICAgICBzZWxlY3RTdGFyWDogLTEsCiAgICAgIHNlbGVjdFN0YXJZOiAtMSwKICAgICAgRHJhd1NlbGVjdFN0YXJYOiAtMSwKICAgICAgRHJhd1NlbGVjdFN0YXJZOiAtMSwKICAgICAgRHJhd1NlbGVjdFN0YXJIRlI6IC0xLAogICAgICBST0lfeDogLTEsCiAgICAgIC8vIOeUqOadpeS/neWtmFJPSeWMuuWfn+eahHjlnZDmoIcs5ZyodnVl5Lit6K6h566XCiAgICAgIFJPSV95OiAtMSwKICAgICAgLy8g55So5p2l5L+d5a2YUk9J5Yy65Z+f55qEeeWdkOaghyzlnKh2dWXkuK3orqHnrpcKICAgICAgUk9JX3hfcXQ6IC0xLAogICAgICAvLyDnlKjmnaXkv53lrZhST0nljLrln5/nmoR45Z2Q5qCHLOWcqHF05Lit6K6h566XCiAgICAgIFJPSV95X3F0OiAtMSwKICAgICAgLy8g55So5p2l5L+d5a2YUk9J5Yy65Z+f55qEeeWdkOaghyzlnKhxdOS4reiuoeeulwogICAgICBST0lfbGVuZ3RoOiAzMDAsCiAgICAgIC8vIOeUqOadpeS/neWtmFJPSeWMuuWfn+eahOmVv+W6pgogICAgICBzaG93U2VsZWN0U3RhcjogZmFsc2UsCiAgICAgIGlzT25lVG91Y2g6IGZhbHNlLAogICAgICBjdXJyZW50VG91Y2hYOiBbMCwgMF0sCiAgICAgIGN1cnJlbnRUb3VjaFk6IFswLCAwXSwKICAgICAgc3RhcnRUb3VjaFg6IFswLCAwXSwKICAgICAgc3RhcnRUb3VjaFk6IFswLCAwXSwKICAgICAgc3RhcnRUb3VjaERpc3RhbmNlOiAwLAogICAgICAvLyDlrprkuYnms6LnibnnjofpgInpobkKICAgICAgQmF1ZFJhdGVJdGVtczogW3sKICAgICAgICBsYWJlbDogJzk2MDAnLAogICAgICAgIHZhbHVlOiA5NjAwCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJzE5MjAwJywKICAgICAgICB2YWx1ZTogMTkyMDAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnMzg0MDAnLAogICAgICAgIHZhbHVlOiAzODQwMAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICc1NzYwMCcsCiAgICAgICAgdmFsdWU6IDU3NjAwCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJzExNTIwMCcsCiAgICAgICAgdmFsdWU6IDExNTIwMAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICcyMzA0MDAnLAogICAgICAgIHZhbHVlOiAyMzA0MDAKICAgICAgfV0sCiAgICAgIEJhdWRSYXRlU2VsZWN0ZWQ6IDk2MDAsCiAgICAgIC8vIOazoueJueeOh+mAieaLqQogICAgICBjcHVUZW1wOiBudWxsLAogICAgICAvLyBDUFXmuKnluqYKICAgICAgY3B1VXNhZ2U6IG51bGwsCiAgICAgIC8vIENQVeS9v+eUqOeOhwogICAgICBwcm9ncmVzc1ZhbHVlOiAwLAogICAgICAvLyDmjqfliLblm77lg4/lpITnkIbov5vluqbmnaHnmoTlj5jph48KICAgICAgcHJvZ3Jlc3NEZXNjcmlwdGlvbjogJycsCiAgICAgIC8vIOaOp+WItui/m+W6puadoeaYvuekuuWGheWuuQogICAgICBjYWxjdWxhdGVHYWluOiB0cnVlLAogICAgICAvLyDmjqfliLbmmK/lkKborqHnrpfnmb3lubPooaHlop7nm4oKICAgICAgbHV0Q2FjaGU6IHsKICAgICAgICBsYXN0UGFyYW1zOiBudWxsLAogICAgICAgIC8vIOeUqOS6juWtmOWCqOS4iuasoeeahOWPguaVsAogICAgICAgIGx1dFI6IG51bGwsCiAgICAgICAgbHV0RzogbnVsbCwKICAgICAgICBsdXRCOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBHdWk6IEd1aSwKICAgIEd1aUxvYWRlcjogR3VpTG9hZGVyLAogICAgUHJvZ3Jlc3NCYXI6IFByb2dyZXNzQmFyIC8vIE1lc3NhZ2VCb3gsCgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJGJ1cy4kb24oJ0FwcFNlbmRNZXNzYWdlJywgdGhpcy5zZW5kTWVzc2FnZSk7CiAgICB0aGlzLiRidXMuJG9uKCdBcHBVcGRhdGVEZXZpY2VzJywgdGhpcy51cGRhdGVEZXZpY2VzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1N3aXRjaC1NYWluUGFnZScsIHRoaXMuaGFuZGxlQnV0dG9uVGVzdENsaWNrKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0hhbmRsZUhpc3RvZ3JhbU51bScsIHRoaXMuYXBwbHlIaXN0U3RyZXRjaCk7CiAgICB0aGlzLiRidXMuJG9uKCdJbWFnZUdhaW5SJywgdGhpcy5JbWFnZUdhaW5TZXQpOwogICAgdGhpcy4kYnVzLiRvbignSW1hZ2VHYWluQicsIHRoaXMuSW1hZ2VHYWluU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ09mZnNldCcsIHRoaXMuSW1hZ2VPZmZzZXRTZXQpOwogICAgdGhpcy4kYnVzLiRvbignQmlubmluZycsIHRoaXMuQmlubmluZ1NldCk7CiAgICB0aGlzLiRidXMuJG9uKCdHYWluJywgdGhpcy5HYWluU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ09mZnNldCcsIHRoaXMuT2Zmc2V0U2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0ltYWdlQ0ZBJywgdGhpcy5JbWFnZUNGQVNldCk7IC8vIHRoaXMuJGJ1cy4kb24oJ01haW5DYW1lcmFDRkEnLCB0aGlzLkltYWdlQ0ZBU2V0KTsKCiAgICB0aGlzLiRidXMuJG9uKCdUZW1wZXJhdHVyZScsIHRoaXMuQ2FtZXJhVGVtcGVyYXR1cmVTZXQpOwogICAgdGhpcy4kYnVzLiRvbignRm9jYWwgTGVuZ3RoIChtbSknLCB0aGlzLkZvY2FsTGVuZ3RoU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0d1aWRlciBGb2NhbCBMZW5ndGggKG1tKScsIHRoaXMuR3VpZGVyRm9jYWxMZW5ndGhTZXQpOwogICAgdGhpcy4kYnVzLiRvbignTXVsdGkgU3RhciBHdWlkZXInLCB0aGlzLk11bHRpU3Rhckd1aWRlclNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdHdWlkZXIgUGl4ZWwgc2l6ZScsIHRoaXMuR3VpZGVyUGl4ZWxTaXplU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0d1aWRlciBHYWluJywgdGhpcy5HdWlkZXJHYWluU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0NhbGlicmF0aW9uIHN0ZXAgKG1zKScsIHRoaXMuQ2FsaWJyYXRpb25EdXJhdGlvblNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdSYSBBZ2dyZXNzaW9uJywgdGhpcy5SYUFnZ3Jlc3Npb25TZXQpOwogICAgdGhpcy4kYnVzLiRvbignRGVjIEFnZ3Jlc3Npb24nLCB0aGlzLkRlY0FnZ3Jlc3Npb25TZXQpOwogICAgdGhpcy4kYnVzLiRvbignU3luYyBGb2N1c2VyIFN0ZXAnLCB0aGlzLlN5bmNGb2N1c2VyU3RlcCk7CiAgICB0aGlzLiRidXMuJG9uKCdJbWFnZVByb3BvcnRpb24nLCB0aGlzLnNldEltYWdlUHJvcG9ydGlvbik7CiAgICB0aGlzLiRidXMuJG9uKCdNb3VudEdvdG8nLCB0aGlzLmxvb2thdGNpcmNsZSk7CiAgICB0aGlzLiRidXMuJG9uKCdTd2l0Y2hJbWFnZVRvU2hvdycsIHRoaXMuU3dpdGNoSW1hZ2VUb1Nob3cpOwogICAgdGhpcy4kYnVzLiRvbignUG9sYXJQb2ludEFsdGl0dWRlJywgdGhpcy5zZXRQb2xhclBvaW50QWx0aXR1ZGUpOwogICAgdGhpcy4kYnVzLiRvbignc2hvd1N0ZWxDYW52YXMnLCB0aGlzLnNob3dTdGVsQ2FudmFzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1JlY2FsaWJyYXRlUG9sYXJBeGlzJywgdGhpcy5SZWNhbGlicmF0ZVBvbGFyQXhpcyk7CiAgICB0aGlzLiRidXMuJG9uKCdDdXJyZW50RXhwVGltZUxpc3QnLCB0aGlzLkN1cnJlbnRFeHBUaW1lTGlzdCk7CiAgICB0aGlzLiRidXMuJG9uKCdkaXNjb25uZWN0QWxsRGV2aWNlJywgdGhpcy5kaXNjb25uZWN0QWxsRGV2aWNlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0dldENvbm5lY3RlZERldmljZXMnLCB0aGlzLlJldHVybkNvbm5lY3RlZERldmljZXMpOwogICAgdGhpcy4kYnVzLiRvbignQ3VycmVudENGV0xpc3QnLCB0aGlzLkN1cnJlbnRDRldMaXN0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ2NhbGNXaGl0ZUJhbGFuY2VHYWlucycsIHRoaXMuY2FsY1doaXRlQmFsYW5jZUdhaW5zKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1N3aXRjaE91dFB1dFBvd2VyJywgdGhpcy5Td2l0Y2hPdXRQdXRQb3dlcik7CiAgICB0aGlzLiRidXMuJG9uKCdQb2xhckF4aXNNb2RlJywgdGhpcy5Qb2xhckF4aXNNb2RlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1NlbmRDb25zb2xlTG9nTXNnJywgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyk7IC8vIHRoaXMuJGJ1cy4kb24oJ0Rpc2Nvbm5lY3REcml2ZXJTdWNjZXNzJywgdGhpcy5kaXNjb25uZWN0RHJpdmVyc3VjY2Vzcyk7CgogICAgdGhpcy4kYnVzLiRvbignVW5CaW5kaW5nRGV2aWNlJywgdGhpcy5VbkJpbmRpbmdEZXZpY2UpOwogICAgdGhpcy4kYnVzLiRvbignQ2xvc2VXZWJWaWV3JywgdGhpcy5RdWl0VG9NYWluQXBwKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1JlZEJveFNpemVDaGFuZ2UnLCB0aGlzLlJlZEJveFNpemVDaGFuZ2UpOwogICAgdGhpcy4kYnVzLiRvbignc2V0Rm9jdXNlclN0YXRlJywgdGhpcy5zZXRGb2N1c2VyU3RhdGUpOyAvLyDorr7nva7osIPnhKbnirbmgIHlkozov5vluqYKCiAgICB0aGlzLiRidXMuJG9uKCdzZXRTaG93U2VsZWN0U3RhcicsIHRoaXMuc2V0U2hvd1NlbGVjdFN0YXIpOyAvLyDorr7nva7mmK/lkKbmmL7npLrpgInmi6nmmJ/ngrkKCiAgICB0aGlzLiRidXMuJG9uKCdTY2FsZUNoYW5nZScsIHRoaXMuU2NhbGVDaGFuZ2UpOwogICAgdGhpcy4kYnVzLiRvbignc2hvd0NhbnZhcycsIHRoaXMuc2hvd0NhbnZhcyk7IC8vIOaegei9tOagoeWHhue7mOWItuebuOWFs+ebkeWQrOWZqAoKICAgIHRoaXMuJGJ1cy4kb24oJ0RyYXdDYWxpYnJhdGlvblBvaW50UG9seWdvbicsIHRoaXMuZHJhd0NhbGlicmF0aW9uUG9pbnRQb2x5Z29uKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0NsZWFyQ2FsaWJyYXRpb25Qb2ludHMnLCB0aGlzLmNsZWFyQ2FsaWJyYXRpb25Qb2ludHMpOwogICAgdGhpcy4kYnVzLiRvbignRHJhd0FkanVzdG1lbnRQb2ludHNQb2x5Z29uJywgdGhpcy5kcmF3QWRqdXN0bWVudFBvaW50c1BvbHlnb24pOyAvLyDmoKHlh4bnm7jlhbPkuovku7bnm5HlkKzlmagKCiAgICB0aGlzLiRidXMuJG9uKCdTdGFydENhbGlicmF0aW9uJywgdGhpcy5zdGFydENhbGlicmF0aW9uUHJvY2Vzcyk7CiAgICB0aGlzLiRidXMuJG9uKCdVcGRhdGVDYWxpYnJhdGlvbkluZm8nLCB0aGlzLnVwZGF0ZUNhbGlicmF0aW9uSW5mbyk7CiAgICB0aGlzLiRidXMuJG9uKCdFbmRDYWxpYnJhdGlvbicsIHRoaXMuZW5kQ2FsaWJyYXRpb24pOwogICAgdGhpcy5tZW1vcnlDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5jaGVja01lbW9yeVVzYWdlLCAzMDAwMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja01lbW9yeVVzYWdlOiBmdW5jdGlvbiBjaGVja01lbW9yeVVzYWdlKCkgewogICAgICBpZiAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5tZW1vcnkpIHsKICAgICAgICB2YXIgbWVtb3J5SW5mbyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5tZW1vcnk7CiAgICAgICAgdmFyIHVzZWQgPSBNYXRoLnJvdW5kKG1lbW9yeUluZm8udXNlZEpTSGVhcFNpemUgLyAxMDQ4NTc2KTsKICAgICAgICB2YXIgbGltaXQgPSBNYXRoLnJvdW5kKG1lbW9yeUluZm8uanNIZWFwU2l6ZUxpbWl0IC8gMTA0ODU3Nik7IC8vIGNvbnNvbGUubG9nKGDlhoXlrZjkvb/nlKg6ICR7dXNlZH1NQiAvICR7bGltaXR9TUJgKTsKCiAgICAgICAgaWYgKG1lbW9yeUluZm8udXNlZEpTSGVhcFNpemUgPiBtZW1vcnlJbmZvLmpzSGVhcFNpemVMaW1pdCAqIDAuNykgewogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93V2FybmluZycsIHRoaXMuJGkxOG4ubG9jYWxlID09PSAnY24nID8gJ+WGheWtmOS9v+eUqOaOpei/kemZkOWItu+8jOivt+S/neWtmOW3peS9nOWQjuWIt+aWsOmhtemdoicgOiAnTWVtb3J5IHVzYWdlIGlzIGFwcHJvYWNoaW5nIGxpbWl0LiBQbGVhc2Ugc2F2ZSB5b3VyIHdvcmsgYW5kIHJlZnJlc2ggdGhlIHBhZ2UuJyk7IC8vIOWPr+mAie+8muWwneivleaJi+WKqOinpuWPkeWeg+WcvuWbnuaUtgoKICAgICAgICAgIGlmICh3aW5kb3cuZ2MpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB3aW5kb3cuZ2MoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIH0sCiAgICBnZXRMb2NhdGlvbkhvc3ROYW1lOiBmdW5jdGlvbiBnZXRMb2NhdGlvbkhvc3ROYW1lKCkgewogICAgICB2YXIgaG9zdG5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7CiAgICAgIHZhciBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgPyAnd3NzOicgOiAnd3M6JzsKICAgICAgdmFyIHBvcnQgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJzg2MDEnIDogJzg2MDAnOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdsb2NhdGlvbiBob3N0bmFtZTonICsgaG9zdG5hbWUsICdpbmZvJyk7CiAgICAgIHRoaXMuV2ViU29ja2V0VXJsID0gIiIuY29uY2F0KHByb3RvY29sLCAiLy8iKS5jb25jYXQoaG9zdG5hbWUsICI6IikuY29uY2F0KHBvcnQpOwogICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0VXJsOicsIHRoaXMuV2ViU29ja2V0VXJsKTsKICAgIH0sCiAgICBnZXRRVENsaWVudFZlcnNpb246IGZ1bmN0aW9uIGdldFFUQ2xpZW50VmVyc2lvbigpIHsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0UVRDbGllbnRWZXJzaW9uJyk7CiAgICB9LAogICAgY29ubmVjdDogZnVuY3Rpb24gY29ubmVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIOabv+aNouS4uuS9oOeahCBXZWJTb2NrZXQg5pyN5Yqh5Zmo5Zyw5Z2ACiAgICAgIC8vIHRoaXMud2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldCgnd3M6Ly8xOTIuMTY4LjIuMzE6ODYwMCcpOyAgLy8gcHJvY2Vzcy5lbnYuVlVFX0FQUF9XRUJTT0NLRVQKICAgICAgLy8gdGhpcy53ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfV0VCU09DS0VUKTsKICAgICAgdmFyIHdzT3B0aW9ucyA9IHsKICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlIC8vIOemgeeUqOivgeS5pumqjOivgQoKICAgICAgfTsKICAgICAgdGhpcy53ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHRoaXMuV2ViU29ja2V0VXJsLCBbXSwgd3NPcHRpb25zKTsKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy53ZWJzb2NrZXRTdGF0ZSA9ICdjb25uZWN0ZWQnOwogICAgICAgIF90aGlzLm5ldHdvcmtEaXNjb25uZWN0ZWQgPSBmYWxzZTsgLy8gV2ViU29ja2V06L+e5o6l5oiQ5Yqf5pe26YeN572u572R57uc6L+e5o6l54q25oCBCgogICAgICAgIGlmIChfdGhpcy5kaXNjb25uZWN0VGltZW91dFRyaWdnZXJlZCkgewogICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdXZWJTb2NrZXQgY29ubmVjdGVkJywgJ3N1Y2Nlc3MnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1Nob3dOZXRTdGF0dXMnLCAndHJ1ZScpOwoKICAgICAgICBfdGhpcy5TdGF0dXNSZWNvdmVyeSgpOwoKICAgICAgICBjb25zb2xlLmxvZygncHJvY2Vzcy5lbnYuTk9ERV9FTlY6JywgcHJvY2Vzcy5lbnYuTk9ERV9FTlYpOwogICAgICB9OwoKICAgICAgdGhpcy53ZWJzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygnUUhZQ0NEIHwgUmVjZWl2ZWQgbWVzc2FnZTonLCBtZXNzYWdlLmRhdGEpOwogICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlLmRhdGEpOwoKICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnUVRfUmV0dXJuJykgewogICAgICAgICAgdmFyIHBhcnRzID0gZGF0YS5tZXNzYWdlLnNwbGl0KCc6Jyk7CiAgICAgICAgICB2YXIgbWVzc2FnZVR5cGU7CgogICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgbWVzc2FnZVR5cGUgPSBwYXJ0c1swXTsgLy8gY29uc29sZS5sb2coJ1FIWUNDRCB8IOiOt+W+l+S/oeaBrygnK21lc3NhZ2VUeXBlKycpOicsIHBhcnRzKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+a2iOaBr+agvOW8j+mUmeivr++8jOaXoOazleWIhuWJsjonLCBkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGFjY2VwdE1lc3NhZ2UgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlLnN0YXJ0c1dpdGgoJ1N0YWdpbmdTY2hlZHVsZURhdGE6JykpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwogICAgICAgICAgICBhY2NlcHRNZXNzYWdlID0gdHJ1ZTsKCiAgICAgICAgICAgIHZhciBfcGFydHMgPSBkYXRhLm1lc3NhZ2Uuc3BsaXQoJ1snKTsKCiAgICAgICAgICAgIGlmIChfcGFydHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXJ0cy5sZW5ndGg6ICcsIF9wYXJ0cy5sZW5ndGgpOwoKICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdTdGFnaW5nU2NoZWR1bGVEYXRhJywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2Uuc3RhcnRzV2l0aCgnU2VuZERlYnVnTWVzc2FnZXwnKSkgewogICAgICAgICAgICBhY2NlcHRNZXNzYWdlID0gdHJ1ZTsKCiAgICAgICAgICAgIHZhciBfcGFydHMyID0gZGF0YS5tZXNzYWdlLnNwbGl0KCd8Jyk7CgogICAgICAgICAgICBpZiAoX3BhcnRzMi5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9wYXJ0czJbMV07CiAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlID0gX3BhcnRzMlsyXTsKCiAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnU2VuZERlYnVnTWVzc2FnZScsIHR5cGUsIF9tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICghYWNjZXB0TWVzc2FnZSkgewogICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2VUeXBlKSB7CiAgICAgICAgICAgICAgY2FzZSAnQWRkRHJpdmVyJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgX3R5cGUgPSBfdGhpcy5DdXJyZW50RHJpdmVyVHlwZTsgLy8g5Yib5bu65LiA5Liq6amx5Yqo5a+56LGhCgogICAgICAgICAgICAgICAgICB2YXIgZHJpdmVyID0gewogICAgICAgICAgICAgICAgICAgIHR5cGU6IF90eXBlLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiBsYWJlbCwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgICAgfTsgLy8gaWYgKHR5cGUgPT09ICdNYWluQ2FtZXJhJyAmJiBsYWJlbCA9PT0gIlFIWSBDQ0QyIikgewogICAgICAgICAgICAgICAgICAvLyAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlID09PSAnR3VpZGVyJyAmJiBsYWJlbCA9PT0gIlFIWSBDQ0QiKSB7CiAgICAgICAgICAgICAgICAgIC8vICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgLy8g5qOA5p+lbGFiZWzmmK/lkKbkuLoiUUhZIENDRCLmiJYiUUZvY3VzZXIi77yM5aaC5p6c5piv77yM5YiZ5o+S5YWl5Yiw5pWw57uE6aaW5L2NCgogICAgICAgICAgICAgICAgICBpZiAobGFiZWwgPT09ICJRSFkgQ0NEIiB8fCBsYWJlbCA9PT0gIlFGb2N1c2VyIiB8fCBsYWJlbCA9PT0gIlFIWSBDQ0QyIikgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmRyaXZlcnMudW5zaGlmdChkcml2ZXIpOyAvLyDlsIbmlrDpqbHliqjmt7vliqDliLDmlbDnu4TnmoTlvIDlp4vkvY3nva4KCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJpdmVycy5wdXNoKGRyaXZlcik7IC8vIOWwhuaWsOmpseWKqOa3u+WKoOWIsOaVsOe7hOeahOacq+WwvgoKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdBZGREZXZpY2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX2xhYmVsID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBBZGREZXZpY2U6ICcsIF9sYWJlbCk7IC8vIGNvbnN0IHZhbHVlID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICB2YXIgX3R5cGUyID0gX3RoaXMuY29uZmlybURyaXZlclR5cGU7IC8vIOWIm+W7uuS4gOS4qumpseWKqOWvueixoQoKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2UgPSBfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAgICAgICAgIHR5cGU6IF90eXBlMiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogX2xhYmVsCiAgICAgICAgICAgICAgICAgIH0sICJsYWJlbCIsIF9sYWJlbCk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgQWRkRGV2aWNlOiAnLCBfZGV2aWNlKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdhZGQtZGV2aWNlJywgZGV2aWNlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNMaXN0LnB1c2goX2RldmljZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5Ub0JlQ29ubmVjdERldmljZSA9IFtdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuZGV2aWNlc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlc0xpc3QpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlc0xpc3QudHlwZSA9PT0gX3RoaXMuQ3VycmVudERyaXZlclR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLlRvQmVDb25uZWN0RGV2aWNlLnB1c2goZGV2aWNlc0xpc3QpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nU2VsZWN0RHJpdmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZURldmljZXNfJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIExpc3ROdW0gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZURldmljZXNfKExpc3ROdW0sIG5hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDb25uZWN0U3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfdHlwZTMgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIGRldmljZU5hbWUgPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBwYXJ0c1szXTsKCiAgICAgICAgICAgICAgICAgIGlmIChkZXZpY2VOYW1lICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlRGV2aWNlc0Nvbm5lY3QoX3R5cGUzLCBkZXZpY2VOYW1lLCBkcml2ZXJOYW1lLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVEZXZpY2VzQ29ubmVjdChfdHlwZTMsIGRldmljZU5hbWUsIGRyaXZlck5hbWUsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDb25uZWN0RmFpbGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KHJlYXNvbiwgJ2Vycm9yJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTY2FuRmFpbGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWFzb24gPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveChfcmVhc29uLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmdTZWxlY3REcml2ZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQWRkRGV2aWNlVHlwZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBEZXZpY2VUeXBlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBZGREZXZpY2VUeXBlJywgRGV2aWNlVHlwZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0RldmljZVRvQmVBbGxvY2F0ZWQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNCkgewogICAgICAgICAgICAgICAgICB2YXIgX0RldmljZVR5cGUgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIERldmljZUluZGV4ID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIHZhciBEZXZpY2VOYW1lID0gcGFydHNbM107CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdEZXZpY2VUb0JlQWxsb2NhdGVkJywgRGV2aWNlSW5kZXgsIERldmljZU5hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTaG93RGV2aWNlQWxsb2NhdGlvbldpbmRvdyc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCd0b2dnbGVEZXZpY2VBbGxvY2F0aW9uUGFuZWwnKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5uYXYgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdFeHBvc3VyZUNvbXBsZXRlZCc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdFeHBvc3VyZUNvbXBsZXRlZCcpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTYXZlSnBnU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgcm9pX3ggPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIHJvaV95ID0gcGFydHNbM107IC8vIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd1JvaUltYWdlJywgZmlsZU5hbWUpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1JvaUltYWdlKGZpbGVOYW1lLCByb2lfeCwgcm9pX3kpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTYXZlQmluU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfZmlsZU5hbWUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLnJlYWRCaW5GaWxlKCdpbWcvJyArIF9maWxlTmFtZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5EZXRlY3RlZFN0YXJzRmluaXNoID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NhdmVHdWlkZXJJbWFnZVN1Y2Nlc3MnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX2ZpbGVOYW1lMiA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZEFuZERpc3BsYXlJbWFnZSgnaW1nLycgKyBfZmlsZU5hbWUyKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnR3VpZGVTaXplJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGNvbCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgcm93ID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCJHdWlkZVNpemUiLCBjb2wsIHJvdyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgJ0FkZFNjYXR0ZXJDaGFydERhdGEnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgRGF0YV94ID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBEYXRhX3kgPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIG5ld0RhdGFQb2ludCA9IFtEYXRhX3gsIERhdGFfeV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBZGRTY2F0dGVyQ2hhcnREYXRhJywgbmV3RGF0YVBvaW50KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQWRkTGluZUNoYXJ0RGF0YSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfRGF0YV94ID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBEYXRhX1JhID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIHZhciBEYXRhX0RlYyA9IHBhcnRzWzNdOwogICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YVBvaW50X1JhID0gW19EYXRhX3gsIERhdGFfUmFdOwogICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YVBvaW50X0RlYyA9IFtfRGF0YV94LCBEYXRhX0RlY107CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBZGRMaW5lQ2hhcnREYXRhJywgbmV3RGF0YVBvaW50X1JhLCBuZXdEYXRhUG9pbnRfRGVjKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU2V0TGluZUNoYXJ0UmFuZ2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgbWluID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBtYXggPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1NldExpbmVDaGFydFJhbmdlJywgbWluLCBtYXgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdHdWlkZXJTdGF0dXMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgc3RhdHVzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJTdGF0dXMnLCBzdGF0dXMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdGb2N1c0NoYW5nZVNwZWVkU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBTcGVlZCA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnRm9jdXNDaGFuZ2VTcGVlZFN1Y2Nlc3MnLCBTcGVlZCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0ZvY3VzUG9zaXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgQ3VycmVudFBvc2l0aW9uID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBUYXJnZXRQb3NpdGlvbiA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnRm9jdXNQb3NpdGlvbicsIEN1cnJlbnRQb3NpdGlvbiwgVGFyZ2V0UG9zaXRpb24pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdGb2N1c01vdmVEb25lJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9DdXJyZW50UG9zaXRpb24gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIEZXSE0gPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1VwZGF0ZUZXSE0nLCBfQ3VycmVudFBvc2l0aW9uLCBGV0hNKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ2FkZERhdGFfUG9pbnQnLCBfQ3VycmVudFBvc2l0aW9uLCBGV0hNKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnYWRkTWluUG9pbnREYXRhX1BvaW50JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF94ID0gcGFyc2VJbnQocGFydHNbMV0pOwoKICAgICAgICAgICAgICAgICAgdmFyIF95ID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdhZGRNaW5Qb2ludERhdGFfUG9pbnQnLCBfeCwgX3kpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdhZGRMaW5lRGF0YV9Qb2ludCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRhTGlzdCA9IHBhcnRzWzFdLnNwbGl0KCcsJyk7IC8vIOWwhuWtl+espuS4suWIhuWJsuaIkOaVsOe7hAoKICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gW107CgogICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFMaXN0Lmxlbmd0aCAtIDE7IGkgKz0gMikgewogICAgICAgICAgICAgICAgICAgIHZhciBfeDIgPSBwYXJzZUludChkYXRhTGlzdFtpXSk7CgogICAgICAgICAgICAgICAgICAgIHZhciBfeTIgPSBwYXJzZUZsb2F0KGRhdGFMaXN0W2kgKyAxXSk7CgogICAgICAgICAgICAgICAgICAgIHZhciBjb29yZGluYXRlID0gW194MiwgX3kyXTsKICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKGNvb3JkaW5hdGUpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdhZGRMaW5lRGF0YV9Qb2ludCcsIGNvb3JkaW5hdGVzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTWFpbkNhbWVyYVNpemUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgU2l6ZVggPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIFNpemVZID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhU2l6ZScsIFNpemVYLCBTaXplWSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5tYWluQ2FtZXJhU2l6ZVggPSBTaXplWDsKICAgICAgICAgICAgICAgICAgX3RoaXMubWFpbkNhbWVyYVNpemVZID0gU2l6ZVk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ01haW5DYW1lcmFCaW5uaW5nJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuY2FtZXJhQmluID0gcGFyc2VJbnQocGFydHNbMV0pOwogICAgICAgICAgICAgICAgICBfdGhpcy5NYWluQ2FtZXJhQ29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnQmlubmluZyc7CiAgICAgICAgICAgICAgICAgIH0pLnZhbHVlID0gX3RoaXMuY2FtZXJhQmluOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUJpbm5pbmcnLCBfdGhpcy5jYW1lcmFCaW4pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdmaXRRdWFkcmF0aWNDdXJ2ZSc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdDbGVhcmZpdFF1YWRyYXRpY0N1cnZlJyk7CgogICAgICAgICAgICAgICAgZm9yICh2YXIgX3gzID0gMDsgX3gzIDw9IDYwMTsgX3gzICs9IDEpIHsKICAgICAgICAgICAgICAgICAgdmFyIGEgPSBwYXJ0c1tfeDNdOwogICAgICAgICAgICAgICAgICB2YXIgYiA9IGEuc3BsaXQoJ3wnKTsKCiAgICAgICAgICAgICAgICAgIGlmIChiLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIHZhciBfeDQgPSBiWzBdOwogICAgICAgICAgICAgICAgICAgIHZhciBfeTMgPSBiWzFdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdmaXRRdWFkcmF0aWNDdXJ2ZScsIF94NCwgX3kzKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCc6CiAgICAgICAgICAgICAgICB2YXIgeCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgdmFyIHkgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCcsIHgsIHkpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUZWxlc2NvcGVQYXJrJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIFN3aXRjaCA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnTW91bnRQYXJrU3dpdGNoJywgU3dpdGNoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnVGVsZXNjb3BlVHJhY2snOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX1N3aXRjaCA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnTW91bnRUcmFja1N3aXRjaCcsIF9Td2l0Y2gpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNb3VudFNldFNwZWVkU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ25ld01vdW50U2xld1JhdGUnLCBudW0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUZWxlc2NvcGVQaWVyU2lkZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBTaWRlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCd1cGRhdGVNb3VudFBpZXJTaWRlJywgU2lkZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1RlbGVzY29wZVRvdGFsU2xld1JhdGUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX251bSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnTW91bnRUb3RhbFNsZXdSYXRlJywgX251bSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZVNjaGVkdWxlUHJvY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBSb3dOdW0gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIFByb2Nlc3MgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1VwZGF0ZVNjaGVkdWxlUHJvY2VzcycsIFJvd051bSwgUHJvY2Vzcyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0V4cFRpbWVMaXN0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnaW5pdEV4cFRpbWVMaXN0JywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDYW1lcmFJbkV4cG9zdXJpbmcnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX3N0YXR1cyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQ2FtZXJhSW5FeHBvc3VyaW5nJywgX3N0YXR1cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0F1dG9Gb2N1c092ZXInOgogICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQXV0b0ZvY3VzT3ZlcicpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDRldQb3NpdGlvbk1heCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1NldENGV1Bvc2l0aW9uTWF4JywgcGFydHNbMV0pOwoKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8PSBwYXJ0c1sxXTsgX2krKykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLkNGV0NvbmZpZ0l0ZW1zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgZHJpdmVyVHlwZTogJ0NGVycsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkNGVyBbIi5jb25jYXQoX2ksICJdIiksCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0JwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdnZXRDRldMaXN0Jyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NldENGV1Bvc2l0aW9uU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1NldENGV1Bvc2l0aW9uU3VjY2VzcycsIHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnZ2V0Q0ZXTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ2luaXRDRldMaXN0JywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdHdWlkZXJTd2l0Y2hTdGF0dXMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJTd2l0Y2hTdGF0dXMnLCBwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0d1aWRlckxvb3BFeHBTdGF0dXMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJMb29wRXhwU3RhdHVzJywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUZWxlc2NvcGVSQURFQyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLlVwZGF0ZUNpcmNsZVBvcyhwYXJ0c1sxXSwgcGFydHNbMl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgndXBkYXRlQ3VycmVudExvY2F0aW9uJywgcGFydHNbMV0sIHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnVGVsZXNjb3BlU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuVXBkYXRlVGVsZXNjb3BlU3RhdHVzKHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTWFpbkNhbWVyYVN0YXR1cyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLlVwZGF0ZU1haW5DYW1lcmFTdGF0dXMocGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNYWluQ2FtZXJhVGVtcGVyYXR1cmUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpcy5VcGRhdGVNYWluQ2FtZXJhVGVtcGVyYXR1cmUocGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTaG93QWxsSW1hZ2VGb2xkZXInOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdTaG93QWxsSW1hZ2VGb2xkZXInLCBwYXJ0c1sxXSwgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdJbWFnZUZpbGVzTmFtZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0ltYWdlRmlsZXNOYW1lJywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdVU0JDaGVjayc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBVU0JkYXRhID0gcGFydHNbMV0uc3BsaXQoJywnKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VTQiBuYW1lOiAnLCBVU0JkYXRhWzBdKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VTQiBzcGFjZTogJywgVVNCZGF0YVsxXSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVVNCIG5hbWU6JyArIFVTQmRhdGFbMF0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVVNCIHNwYWNlOicgKyBVU0JkYXRhWzFdLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnVVNCX05hbWVfU2FwY2UnLCBVU0JkYXRhWzBdLCBVU0JkYXRhWzFdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnSW1hZ2VTYXZlRXJyb2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgRXJyb2UgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIGlmIChFcnJvZSA9PT0gJ1VTQi1OdWxsJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnTm8gVVNCIERyaXZlIERldGVjdGVkLicsICdlcnJvcicpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEVycm9lID09PSAnVVNCLU11bHRpcGxlJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnTXVsdGlwbGUgVVNCIGRyaXZlcyBkZXRlY3RlZCwgcGxlYXNlIHJlbW92ZSBleGNlc3MgVVNCIGRyaXZlcy4nLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdEZXRlY3RlZFN0YXJzJzoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZXRlY3RlZCcsIHBhcnRzLmxlbmd0aCwgJ3N0YXJzLicpOwoKICAgICAgICAgICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdEZXRlY3RlZCAnICsgcGFydHMubGVuZ3RoICsgJyBzdGFycy4nLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgIF90aGlzLkRldGVjdGVkU3RhcnNMaXN0ID0gW107CgogICAgICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgcGFydHMubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICAgICAgICB2YXIgX2EgPSBwYXJ0c1tfaTJdOwoKICAgICAgICAgICAgICAgICAgdmFyIF9iID0gX2Euc3BsaXQoJ3wnKTsKCiAgICAgICAgICAgICAgICAgIGlmIChfYi5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3g1ID0gX2JbMF07CiAgICAgICAgICAgICAgICAgICAgdmFyIF95NCA9IF9iWzFdOwogICAgICAgICAgICAgICAgICAgIHZhciBoZnIgPSBfYlsyXTsgLy8gY29uc29sZS5sb2coJ1N0YXJzIGF0KCcsIHgsICcsJywgeSwgJykgd2l0aCBIRlI6JywgaGZyKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuRGV0ZWN0ZWRTdGFyc0xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB4OiBfeDUsCiAgICAgICAgICAgICAgICAgICAgICB5OiBfeTQsCiAgICAgICAgICAgICAgICAgICAgICBoZnI6IGhmcgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuRGV0ZWN0ZWRTdGFyc0ZpbmlzaCA9IHRydWU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU29sdmVJbWFnZVJlc3VsdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMuVXBkYXRlQ2lyY2xlUG9zKHBhcnRzWzFdLCBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTb2x2ZSBJbWFnZSBSZXN1bHQoUkFfRGVncmVlLCBERUNfRGVncmVlLCBBemltdXRoLCBBbHRpdHVkZSk6JywgcGFydHNbMV0sICcsJywgcGFydHNbMl0sICcsJywgcGFydHNbM10sICcsJywgcGFydHNbNF0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1NvbHZlIEltYWdlIFJlc3VsdChSQV9EZWdyZWUsIERFQ19EZWdyZWUsIEF6aW11dGgsIEFsdGl0dWRlKTonICsgcGFydHNbMV0gKyAnLCcgKyBwYXJ0c1syXSArICcsJyArIHBhcnRzWzNdICsgJywnICsgcGFydHNbNF0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5Tb2x2ZVJlc3VsdE1hcmsocGFydHNbMV0sIHBhcnRzWzJdLCBwYXJ0c1szXSwgcGFydHNbNF0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgiSW1hZ2VTb2x2ZUZpbmlzaGVkIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdzZXRQYXJzaW5nUHJvZ3Jlc3MnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NvbHZlRm92UmVzdWx0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDkpIHsKICAgICAgICAgICAgICAgICAgdmFyIFJhRGVjID0gW3sKICAgICAgICAgICAgICAgICAgICBSYTogcGFydHNbMV0sCiAgICAgICAgICAgICAgICAgICAgRGVjOiBwYXJ0c1syXQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgUmE6IHBhcnRzWzNdLAogICAgICAgICAgICAgICAgICAgIERlYzogcGFydHNbNF0KICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIFJhOiBwYXJ0c1s1XSwKICAgICAgICAgICAgICAgICAgICBEZWM6IHBhcnRzWzZdCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBSYTogcGFydHNbN10sCiAgICAgICAgICAgICAgICAgICAgRGVjOiBwYXJ0c1s4XQogICAgICAgICAgICAgICAgICB9XTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLlNvbHZlRm92TWFyayhSYURlYyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1JlYWxUaW1lU29sdmVJbWFnZVJlc3VsdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTb2x2ZSBJbWFnZSBSZXN1bHQoUkFfRGVncmVlLCBERUNfRGVncmVlLCBBemltdXRoLCBBbHRpdHVkZSk6JywgcGFydHNbMV0sICcsJywgcGFydHNbMl0sICcsJywgcGFydHNbM10sICcsJywgcGFydHNbNF0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1NvbHZlIEltYWdlIFJlc3VsdChSQV9EZWdyZWUsIERFQ19EZWdyZWUsIEF6aW11dGgsIEFsdGl0dWRlKTonICsgcGFydHNbMV0gKyAnLCcgKyBwYXJ0c1syXSArICcsJyArIHBhcnRzWzNdICsgJywnICsgcGFydHNbNF0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3RoaXMuU29sdmVSZXN1bHRNYXJrX1JlYWxUaW1lKHBhcnRzWzFdLCBwYXJ0c1syXSwgcGFydHNbM10sIHBhcnRzWzRdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU29sdmVJbWFnZWZhaWxlZCc6CiAgICAgICAgICAgICAgICBfdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goJ1NvbHZlIGltYWdlIGZhaWxkLi4uJywgJ2Vycm9yJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgiSW1hZ2VTb2x2ZUZpbmlzaGVkIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ3NldFBhcnNpbmdQcm9ncmVzcycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdNb3VudE9wZXJhdGlvbkNvbXBsZXRlJywgJ3NvbHZlJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ01haW5DYW1lcmFPZmZzZXRSYW5nZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhT2Zmc2V0UmFuZ2U6JywgcGFydHNbMV0sICcsJywgcGFydHNbMl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ01haW5DYW1lcmFPZmZzZXRSYW5nZTonICsgcGFydHNbMV0gKyAnLCcgKyBwYXJ0c1syXSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLk1haW5DYW1lcmFPZmZzZXRNaW4gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgX3RoaXMuTWFpbkNhbWVyYU9mZnNldE1heCA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgdmFyIE9mZnNldEl0ZW0gPSBfdGhpcy5NYWluQ2FtZXJhQ29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnT2Zmc2V0JzsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoT2Zmc2V0SXRlbSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhT2Zmc2V0UmFuZ2U6JywgcGFyc2VJbnQoX3RoaXMuTWFpbkNhbWVyYU9mZnNldE1pbiwgMTApLCAnLCcsIHBhcnNlSW50KF90aGlzLk1haW5DYW1lcmFPZmZzZXRNYXgsIDEwKSk7CiAgICAgICAgICAgICAgICAgICAgT2Zmc2V0SXRlbS5pbnB1dE1pbiA9IHBhcnNlSW50KF90aGlzLk1haW5DYW1lcmFPZmZzZXRNaW4sIDEwKTsKICAgICAgICAgICAgICAgICAgICBPZmZzZXRJdGVtLmlucHV0TWF4ID0gcGFyc2VJbnQoX3RoaXMuTWFpbkNhbWVyYU9mZnNldE1heCwgMTApOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ01haW5DYW1lcmFHYWluUmFuZ2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWFpbkNhbWVyYUdhaW5SYW5nZTonLCBwYXJ0c1sxXSwgJywnLCBwYXJ0c1syXSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnTWFpbkNhbWVyYUdhaW5SYW5nZTonICsgcGFydHNbMV0gKyAnLCcgKyBwYXJ0c1syXSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLk1haW5DYW1lcmFHYWluTWluID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIF90aGlzLk1haW5DYW1lcmFHYWluTWF4ID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICB2YXIgZ2Fpbkl0ZW0gPSBfdGhpcy5NYWluQ2FtZXJhQ29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnR2Fpbic7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKGdhaW5JdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01haW5DYW1lcmFHYWluUmFuZ2U6JywgcGFyc2VJbnQoX3RoaXMuTWFpbkNhbWVyYUdhaW5NaW4sIDEwKSwgJywnLCBwYXJzZUludChfdGhpcy5NYWluQ2FtZXJhR2Fpbk1heCwgMTApKTsKICAgICAgICAgICAgICAgICAgICBnYWluSXRlbS5pbnB1dE1pbiA9IHBhcnNlSW50KF90aGlzLk1haW5DYW1lcmFHYWluTWluLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgZ2Fpbkl0ZW0uaW5wdXRNYXggPSBwYXJzZUludChfdGhpcy5NYWluQ2FtZXJhR2Fpbk1heCwgMTApOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ091dHB1dFBvd2VyU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfdmFsdWUgPSBwYXJzZUludChwYXJ0c1syXSwgMTApOwoKICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuT3V0UHV0UG93ZXJfMV9PTiA9IF92YWx1ZSA9PT0gMTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIF90aGlzLk91dFB1dFBvd2VyXzJfT04gPSBfdmFsdWUgPT09IDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUEhEMlN0YXJCb3hWaWV3JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1BIRDJTdGFyQm94VmlldycsIHZpZXcpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdQSEQyU3RhckNyb3NzVmlldyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfdmlldyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnUEhEMlN0YXJDcm9zc1ZpZXcnLCBfdmlldyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1BIRDJTdGFyQm94UG9zaXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNSkgewogICAgICAgICAgICAgICAgICB2YXIgUEhEMkltYWdlU2l6ZV9YID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTsKICAgICAgICAgICAgICAgICAgdmFyIFBIRDJJbWFnZVNpemVfWSA9IHBhcnNlSW50KHBhcnRzWzJdLCAxMCk7CiAgICAgICAgICAgICAgICAgIHZhciBCb3hfWCA9IHBhcnNlSW50KHBhcnRzWzNdLCAxMCk7CiAgICAgICAgICAgICAgICAgIHZhciBCb3hfWSA9IHBhcnNlSW50KHBhcnRzWzRdLCAxMCk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5EcmF3UEhEMkJveChQSEQySW1hZ2VTaXplX1gsIFBIRDJJbWFnZVNpemVfWSwgQm94X1gsIEJveF9ZKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUEhEMk11bHRpU3RhcnNQb3NpdGlvbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfUEhEMkltYWdlU2l6ZV9YID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfUEhEMkltYWdlU2l6ZV9ZID0gcGFyc2VJbnQocGFydHNbMl0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfQm94X1ggPSBwYXJzZUludChwYXJ0c1szXSwgMTApOwoKICAgICAgICAgICAgICAgICAgdmFyIF9Cb3hfWSA9IHBhcnNlSW50KHBhcnRzWzRdLCAxMCk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5EcmF3UEhEMk11bHRpU3RhcnMoX1BIRDJJbWFnZVNpemVfWCwgX1BIRDJJbWFnZVNpemVfWSwgX0JveF9YLCBfQm94X1kpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDbGVhclBIRDJNdWx0aVN0YXJzJzoKICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0NsZWFyUEhEMk11bHRpU3RhcnMnKTsKCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUEhEMlN0YXJDcm9zc1Bvc2l0aW9uJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDUpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9QSEQySW1hZ2VTaXplX1gyID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfUEhEMkltYWdlU2l6ZV9ZMiA9IHBhcnNlSW50KHBhcnRzWzJdLCAxMCk7CgogICAgICAgICAgICAgICAgICB2YXIgQ3Jvc3NfWCA9IHBhcnNlSW50KHBhcnRzWzNdLCAxMCk7CiAgICAgICAgICAgICAgICAgIHZhciBDcm9zc19ZID0gcGFyc2VJbnQocGFydHNbNF0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLkRyYXdQSEQyQ3Jvc3MoX1BIRDJJbWFnZVNpemVfWDIsIF9QSEQySW1hZ2VTaXplX1kyLCBDcm9zc19YLCBDcm9zc19ZKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUVRDbGllbnRWZXJzaW9uJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuUVRDbGllbnRWZXJzaW9uID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0NhcHR1cmVJbWFnZVNhdmVTdGF0dXMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX3N0YXR1czIgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIGlmIChfc3RhdHVzMiA9PT0gJ1JlcGVhdCcpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goX3RoaXMuJHQoJ1RoZXJlIGlzIG5vIG5lZWQgdG8gc2F2ZSBpdCBhZ2FpbicpLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfc3RhdHVzMiA9PT0gJ1N1Y2Nlc3MnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KF90aGlzLiR0KCdJbWFnZSBzYXZlZCBzdWNjZXNzZnVsbHknKSwgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfc3RhdHVzMiA9PT0gJ051bGwnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KF90aGlzLiR0KCdObyBpbWFnZXMgdG8gc2F2ZScpLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdJTkRJU2VydmVyRGVidWcnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX21lc3NhZ2UyID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdJTkRJU2VydmVyRGVidWcnLCBfbWVzc2FnZTIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdIb3RzcG90TmFtZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBOYW1lID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdIb3RzcG90TmFtZScsIE5hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdFZGl0SG90c3BvdE5hbWVTdWNjZXNzJzoKICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0VkaXRIb3RzcG90TmFtZVN1Y2Nlc3MnKTsKCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnRFNMUnNTZXR1cCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfTmFtZSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnU2hvd0RTTFJzU2V0dXAnLCBfTmFtZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0NvbmZpZ3VyZVJlY292ZXJ5JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIENvbmZpZ05hbWUgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIENvbmZpZ1ZhbHVlID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25maWd1cmU6JywgQ29uZmlnTmFtZSwgJywnLCBDb25maWdWYWx1ZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ29uZmlndXJlIFJlY292ZXJ5OicgKyBwYXJ0c1sxXSArICcsJyArIHBhcnRzWzJdLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdChDb25maWdOYW1lLCBDb25maWdWYWx1ZSk7CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdGb2NhbExlbmd0aCcpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5UZWxlc2NvcGVzQ29uZmlnSXRlbXNbMF0udmFsdWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF90aGlzLmRldmljZXMpLAogICAgICAgICAgICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGV2aWNlMyA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kZXZpY2UzLmRyaXZlclR5cGUgPT09ICdUZWxlc2NvcGVzJykgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1syXSA9PT0gJycgfHwgcGFydHNbMl0gPT09IE5hTikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RldmljZTMuZGV2aWNlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGV2aWNlMy5pc0Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGV2aWNlMy5kZXZpY2UgPSBwYXJ0c1syXSArICcgbW0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RldmljZTMuaXNDb25uZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0d1aWRlckZvY2FsTGVuZ3RoJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLkd1aWRlckNvbmZpZ0l0ZW1zWzBdLnZhbHVlID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlckZvY2FsTGVuZ3RoOicgKyBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0Nvb3JkaW5hdGVzJykgewogICAgICAgICAgICAgICAgICAgIHZhciBfcGFydHMkMiRzcGxpdCRtYXAgPSBwYXJ0c1syXS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udHJpbSgpOwogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICBfcGFydHMkMiRzcGxpdCRtYXAyID0gX3NsaWNlZFRvQXJyYXkoX3BhcnRzJDIkc3BsaXQkbWFwLCAzKSwKICAgICAgICAgICAgICAgICAgICAgICAgbGF0U3RyID0gX3BhcnRzJDIkc3BsaXQkbWFwMlswXSwKICAgICAgICAgICAgICAgICAgICAgICAgbG5nU3RyID0gX3BhcnRzJDIkc3BsaXQkbWFwMlsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgaXNBdXRvU3RyID0gX3BhcnRzJDIkc3BsaXQkbWFwMlsyXTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdCA9IHBhcnNlRmxvYXQobGF0U3RyKTsKICAgICAgICAgICAgICAgICAgICB2YXIgbG5nID0gcGFyc2VGbG9hdChsbmdTdHIpOwogICAgICAgICAgICAgICAgICAgIHZhciBpc0F1dG8gPSBpc0F1dG9TdHIgPT09ICd0cnVlJyB8fCBpc0F1dG9TdHIgPT09ICcxJzsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuU2V0Q3VycmVudExvY2F0aW9uKGxhdCwgbG5nLCBpc0F1dG8pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdNdWx0aVN0YXJHdWlkZXInKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuR3VpZGVyQ29uZmlnSXRlbXNbMV0udmFsdWUgPSBwYXJ0c1syXSA9PT0gJ3RydWUnOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdNdWx0aVN0YXJHdWlkZXI6JyArIHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzFdID09PSAnR3VpZGVyR2FpbicpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5HdWlkZXJDb25maWdJdGVtc1syXS52YWx1ZSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJHYWluOicgKyBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0NhbGlicmF0aW9uRHVyYXRpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuR3VpZGVyQ29uZmlnSXRlbXNbM10udmFsdWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnQ2FsaWJyYXRpb25EdXJhdGlvbjonICsgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdSYUFnZ3Jlc3Npb24nKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuR3VpZGVyQ29uZmlnSXRlbXNbNF0udmFsdWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnUmFBZ2dyZXNzaW9uOicgKyBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0RlY0FnZ3Jlc3Npb24nKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuR3VpZGVyQ29uZmlnSXRlbXNbNV0udmFsdWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnRGVjQWdncmVzc2lvbjonICsgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Nvbm5lY3REcml2ZXJTdWNjZXNzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2U0ID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0RHJpdmVyU3VjY2VzcyhfZGV2aWNlNCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Nvbm5lY3REcml2ZXJGYWlsZWQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX21lc3NhZ2UzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0RHJpdmVyRmFpbGVkKF9tZXNzYWdlMyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Rpc2Nvbm5lY3REcml2ZXJTdWNjZXNzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2U1ID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5kaXNjb25uZWN0RHJpdmVyc3VjY2VzcyhfZGV2aWNlNSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Rpc2Nvbm5lY3REcml2ZXJGYWlsJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kcml2ZXIgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmRpc2Nvbm5lY3REcml2ZXJGYWlsKGRldmljZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgJ1NlbGVjdGVkRHJpdmVyTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRldmljZU9iamVjdHMgPSBwYXJ0cy5zbGljZSgxKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFydCwgaW5kZXgsIGFycmF5KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICUgMiA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2goX2RlZmluZVByb3BlcnR5KHt9LCBhcnJheVtpbmRleF0sIGFycmF5W2luZGV4ICsgMV0pKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgICAgICAgICAgIH0sIFtdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRTZWxlY3RlZERyaXZlckxpc3QoZGV2aWNlT2JqZWN0cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0JpbmREZXZpY2VMaXN0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICB2YXIgX2RldmljZU9iamVjdHMgPSBwYXJ0cy5zbGljZSgxKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFydCwgaW5kZXgsIGFycmF5KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICUgMiA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2goX2RlZmluZVByb3BlcnR5KHt9LCBhcnJheVtpbmRleF0sIGFycmF5W2luZGV4ICsgMV0pKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgICAgICAgICAgIH0sIFtdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRCaW5kRGV2aWNlTGlzdChfZGV2aWNlT2JqZWN0cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0JpbmREZXZpY2VUeXBlTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDUpIHsKICAgICAgICAgICAgICAgICAgLy8g56Gu5L+d6Iez5bCR5pyJ5LqU5Liq5Y+C5pWw5Yqg5LiK5YmN57yACiAgICAgICAgICAgICAgICAgIHZhciBkZXZpY2VUeXBlT2JqZWN0cyA9IFtdOwoKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMTsgX2kzIDwgcGFydHMubGVuZ3RoOyBfaTMgKz0gNCkgewogICAgICAgICAgICAgICAgICAgIHZhciBkZXZpY2VUeXBlT2JqZWN0ID0gewogICAgICAgICAgICAgICAgICAgICAgVHlwZTogcGFydHNbX2kzXSwKICAgICAgICAgICAgICAgICAgICAgIERldmljZU5hbWU6IHBhcnRzW19pMyArIDFdLAogICAgICAgICAgICAgICAgICAgICAgRHJpdmVyTmFtZTogcGFydHNbX2kzICsgMl0sCiAgICAgICAgICAgICAgICAgICAgICBpc2JpbmQ6IHBhcnRzW19pMyArIDNdID09ICJ0cnVlIiA/IHRydWUgOiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZGV2aWNlVHlwZU9iamVjdHMucHVzaChkZXZpY2VUeXBlT2JqZWN0KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZEJpbmREZXZpY2VUeXBlTGlzdChkZXZpY2VUeXBlT2JqZWN0cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZURldmljZUFsbG9jYXRpb25MaXN0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2VOYW1lID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5kZWxldGVEZXZpY2VBbGxvY2F0aW9uTGlzdChfZGV2aWNlTmFtZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkZXZpY2VUeXBlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSAhPSAnJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCcsIGRldmljZVR5cGUpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSA9PSAnQ0ZXJykgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IF90aGlzLmRldmljZXMubGVuZ3RoOyBfaTQrKykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmRldmljZXNbX2k0XS5kcml2ZXJUeXBlID09ICdDRlcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNbX2k0XS5pc0Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXZpY2VzW19pNF0uZGV2aWNlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNbX2k0XS5kcml2ZXJOYW1lID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNbX2k0XS5CYXVkUmF0ZSA9IDk2MDA7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdDRldDb25uZWN0ZWQnLCAwKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUGFyc2VJbmZvRW1pdHRlZCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnUGFyc2VJbmZvRW1pdHRlZCcsIHByb2dyZXNzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnR3VpZGVyVXBkYXRlU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9zdGF0dXMzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJVcGRhdGVTdGF0dXMnLCBwYXJzZUludChfc3RhdHVzMywgMTApKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTG9vcFNvbHZlSW1hZ2VGaW5pc2hlZCc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdMb29wU29sdmVJbWFnZUZpbmlzaGVkJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3REZXZpY2VoYXNvcnRoZXJkZXZpY2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgZHJpdmVybmFtZSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1NlbGVjdGRpc2Nvbm5lY3REcml2ZXIoZHJpdmVybmFtZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2dldEZvY3VzZXJNb3ZlU3RhdGUnOgogICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnZ2V0Rm9jdXNlck1vdmVTdGF0ZScpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdGb2N1c01vdmVUb0xpbWl0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIGVycm9ybG9nID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goZXJyb3Jsb2csICdlcnJvcicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdzdGFydEZvY3VzTG9vcEZhaWxlZCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTQgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ3N0YXJ0Rm9jdXNMb29wRmFpbGVkJywgX21lc3NhZ2U0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnc2V0Rm9jdXNlckxvb3BpbmdTdGF0ZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ3NldEZvY3VzZXJMb29waW5nU3RhdGUnLCBfbWVzc2FnZTUpOwoKICAgICAgICAgICAgICAgICAgaWYgKF9tZXNzYWdlNSA9PSAndHJ1ZScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnZm9jdXNlclJPSVN0YXJzTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfeDYgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIF95NSA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgSEZSID0gcGFydHNbM107CgogICAgICAgICAgICAgICAgICBfdGhpcy5mb2N1c2VyUk9JU3RhcnNMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICAgIHg6IF94NiwKICAgICAgICAgICAgICAgICAgICB5OiBfeTUsCiAgICAgICAgICAgICAgICAgICAgSEZSOiBIRlIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgLy8gY2FzZSAnY2xlYXJGb2N1c2VyUk9JU3RhcnNMaXN0JzoKICAgICAgICAgICAgICAvLyAgIHRoaXMuZm9jdXNlclJPSVN0YXJzTGlzdCA9IFtdOwogICAgICAgICAgICAgIC8vICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ3NldFNlbGVjdFN0YXJQb3NpdGlvbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLkRyYXdTZWxlY3RTdGFyWCA9IHBhcnNlRmxvYXQocGFydHNbMV0pOwogICAgICAgICAgICAgICAgICBfdGhpcy5EcmF3U2VsZWN0U3RhclkgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuRHJhd1NlbGVjdFN0YXJIRlIgPSBwYXJzZUZsb2F0KHBhcnRzWzNdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU2V0UmVkQm94U3RhdGUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNikgewogICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIF90aGlzLlJPSV94ID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLlJPSV95ID0gcGFyc2VGbG9hdChwYXJ0c1szXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLlJPSV94X3F0ID0gcGFyc2VGbG9hdChwYXJ0c1s0XSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLlJPSV95X3F0ID0gcGFyc2VGbG9hdChwYXJ0c1s1XSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5zZXRSZWRCb3hTdGF0ZShsZW5ndGgsIF90aGlzLlJPSV94LCBfdGhpcy5ST0lfeSwgX3RoaXMuUk9JX3hfcXQsIF90aGlzLlJPSV95X3F0KTsKCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCforr7nva7nuqLoibJST0nmoYY6ICcsIGxlbmd0aCwgX3RoaXMuUk9JX3gsIF90aGlzLlJPSV95KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU2V0VmlzaWJsZUFyZWEnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNCkgewogICAgICAgICAgICAgICAgICBfdGhpcy52aXNpYmxlWCA9IHBhcnNlRmxvYXQocGFydHNbMV0pOwogICAgICAgICAgICAgICAgICBfdGhpcy52aXNpYmxlWSA9IHBhcnNlRmxvYXQocGFydHNbMl0pOwogICAgICAgICAgICAgICAgICBfdGhpcy5zY2FsZSA9IHBhcnNlRmxvYXQocGFydHNbM10pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnc2V0U2NhbGUnLCBfdGhpcy5zY2FsZSk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6K6+572u5Y+v6KeB5Yy65Z+fOiAnLCBfdGhpcy52aXNpYmxlWCwgX3RoaXMudmlzaWJsZVksIF90aGlzLnNjYWxlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCd1cGRhdGUgVmlzaWJsZUFyZWEgeD0nICsgX3RoaXMudmlzaWJsZVggKyAnLCB5PScgKyBfdGhpcy52aXNpYmxlWSArICcsIHNjYWxlPScgKyBfdGhpcy5zY2FsZSwgJ2luZm8nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU2V0U2VsZWN0U3RhcnMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RTdGFyWCA9IHBhcnNlRmxvYXQocGFydHNbMV0pOwogICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RTdGFyWSA9IHBhcnNlRmxvYXQocGFydHNbMl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ3VwZGF0ZSBTZWxlY3RTdGFycyB4PScgKyBfdGhpcy5zZWxlY3RTdGFyWCArICcsIHk9JyArIF90aGlzLnNlbGVjdFN0YXJZLCAnaW5mbycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICd1cGRhdGVDUFVJbmZvJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGNwdVRlbXAgPSBwYXJzZUZsb2F0KHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgICAgdmFyIGNwdVVzYWdlID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLmNwdVRlbXAgPSBpc05hTihjcHVUZW1wKSA/IG51bGwgOiBjcHVUZW1wICUgMSA9PT0gMCA/IGNwdVRlbXAgOiBjcHVUZW1wLnRvRml4ZWQoMSk7IC8vIOWmguaenCBjcHVUZW1wIOaYryBOYU7vvIzorr7nva7kuLogbnVsbO+8jOWQpuWImeWmguaenCBjcHVUZW1wIOaYr+aVtOaVsO+8jOWwseS4jeS/neeVmeWwj+aVsO+8jOWQpuWImeS/neeVmeS4gOS9jeWwj+aVsAoKICAgICAgICAgICAgICAgICAgX3RoaXMuY3B1VXNhZ2UgPSBpc05hTihjcHVVc2FnZSkgPyBudWxsIDogY3B1VXNhZ2UgJSAxID09PSAwID8gY3B1VXNhZ2UgOiBjcHVVc2FnZS50b0ZpeGVkKDEpOyAvLyDlpoLmnpwgY3B1VXNhZ2Ug5pivIE5hTu+8jOiuvue9ruS4uiBudWxs77yM5ZCm5YiZ5aaC5p6cIGNwdVVzYWdlIOaYr+aVtOaVsO+8jOWwseS4jeS/neeVmeWwj+aVsO+8jOWQpuWImeS/neeVmeS4gOS9jeWwj+aVsAoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgndXBkYXRlQ1BVSW5mbycsIF90aGlzLmNwdVRlbXAsIF90aGlzLmNwdVVzYWdlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnVGlhbldlbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBub3RpY2VfdHlwZSA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgcmEgPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIGRlYyA9IHBhcnRzWzNdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnVGlhbldlbicsIG5vdGljZV90eXBlLCByYSwgZGVjKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnc2V0TWFpbkNhbWVyYVBhcmFtZXRlcnMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0ge307CgogICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTUgPSAxOyBfaTUgPCBwYXJ0cy5sZW5ndGg7IF9pNSArPSAyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlciA9IHBhcnRzW19pNV07CiAgICAgICAgICAgICAgICAgICAgdmFyIF92YWx1ZTIgPSBwYXJ0c1tfaTUgKyAxXTsKICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzW3BhcmFtZXRlcl0gPSBfdmFsdWUyOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpcy5zZXRNYWluQ2FtZXJhUGFyYW1ldGVycyhwYXJhbWV0ZXJzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnbG9jYWxNZXNzYWdlJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9sYXQgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIGxvbiA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgbGFuZ3VhZ2UgPSBwYXJ0c1szXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCcyLS0tLS0tLS0tLS0t6I635b6X5Y+C5pWw6K6+572ubG9jYWxNZXNzYWdlOiAnICsgX2xhdCArICcsJyArIGxvbiArICcsJyArIGxhbmd1YWdlLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgaWYgKGxhbmd1YWdlID09ICd6aCcpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdDbGllbnRMYW5ndWFnZScsICdjbicpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0NsaWVudExhbmd1YWdlJywgJ2VuJyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ3NldExvY2F0aW9uTGF0QW5kTG9uJywgX2xhdCwgbG9uKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnaXNBdXRvTG9jYXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgaXNBdXRvTG9jYXRpb24gPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ2lzQXV0b0xvY2F0aW9uJywgaXNBdXRvTG9jYXRpb24pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdzZW5kR2V0TG9jYXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgX2xhdDIgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIF9sb24gPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdzZW5kR2V0TG9jYXRpb246ICcgKyBfbGF0MiArICcsJyArIF9sb24sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdzZW5kR2V0TG9jYXRpb24nLCBfbGF0MiwgX2xvbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ01haW5DYW1lcmFDRkEnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX3ZhbHVlMyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgaWYgKF92YWx1ZTMgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgX3ZhbHVlMyA9ICdudWxsJzsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdmFsdWUzID09PSAnR1JCRycpIHsKICAgICAgICAgICAgICAgICAgICBfdmFsdWUzID0gJ0dSJzsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdmFsdWUzID09PSAnR0JSRycpIHsKICAgICAgICAgICAgICAgICAgICBfdmFsdWUzID0gJ0dCJzsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdmFsdWUzID09PSAnQkdHUicpIHsKICAgICAgICAgICAgICAgICAgICBfdmFsdWUzID0gJ0JHJzsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdmFsdWUzID09PSAnUkcnKSB7CiAgICAgICAgICAgICAgICAgICAgX3ZhbHVlMyA9ICdSR0dCJzsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMuSW1hZ2VDRkEgPSBfdmFsdWUzOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi6I635Y+W5Yiw55qE5Li755u45py65Y+C5pWwICBNYWluQ2FtZXJhQ0ZBOiAiLCBfdGhpcy5JbWFnZUNGQSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLk1haW5DYW1lcmFDb25maWdJdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWwgPT09ICdJbWFnZUNGQSc7CiAgICAgICAgICAgICAgICAgIH0pLnZhbHVlID0gX3RoaXMuSW1hZ2VDRkE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0NhbWVyYU5vdElkbGUnOgogICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdDYW1lcmEgaXMgbm90IGlkbGUnLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdNb3VudE9wZXJhdGlvbkNvbXBsZXRlJywgJ3NvbHZlJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ01haW5DYW1lcmFOb3RDb25uZWN0JzoKICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnTWFpbiBDYW1lcmEgaXMgbm90IGNvbm5lY3QnLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdNb3VudE9wZXJhdGlvbkNvbXBsZXRlJywgJ3NvbHZlJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NlcnZlckluaXRTdWNjZXNzJzoKICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnU2VydmVyIGluaXQgc3VjY2VzcycsICdzdWNjZXNzJyk7CgogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1BvbGFyQWxpZ25tZW50U3RhdGUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNCkgewogICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlNiA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudGFnZSA9IHBhcnRzWzNdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnUG9sYXJBbGlnbm1lbnRTdGF0ZScsIHN0YXRlLCBfbWVzc2FnZTYsIHBlcmNlbnRhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdQb2xhckFsaWdubWVudEFkanVzdG1lbnRHdWlkZURhdGEnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMTMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yYSA9IHBhcnNlRmxvYXQocGFydHNbMV0pOwoKICAgICAgICAgICAgICAgICAgdmFyIF9kZWMgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsKCiAgICAgICAgICAgICAgICAgIHZhciBtYXhyYSA9IHBhcnNlRmxvYXQocGFydHNbM10pOwogICAgICAgICAgICAgICAgICB2YXIgbWlucmEgPSBwYXJzZUZsb2F0KHBhcnRzWzRdKTsKICAgICAgICAgICAgICAgICAgdmFyIG1heGRlYyA9IHBhcnNlRmxvYXQocGFydHNbNV0pOwogICAgICAgICAgICAgICAgICB2YXIgbWluZGVjID0gcGFyc2VGbG9hdChwYXJ0c1s2XSk7CiAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRyYSA9IHBhcnNlRmxvYXQocGFydHNbN10pOwogICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ZGVjID0gcGFyc2VGbG9hdChwYXJ0c1s4XSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfoh6rliqjlr7nnhKbnu5jliLbmlbDmja46ICcsIF9yYSwgX2RlYywgbWF4cmEsIG1pbnJhLCBtYXhkZWMsIG1pbmRlYywgdGFyZ2V0cmEsIHRhcmdldGRlYyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdGaWVsZERhdGFVcGRhdGUnLCBbX3JhLCBfZGVjLCBtYXhyYSwgbWlucmEsIG1heGRlYywgbWluZGVjLCB0YXJnZXRyYSwgdGFyZ2V0ZGVjXSk7CgogICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0cmEgPSBwYXJzZUZsb2F0KHBhcnRzWzldKTsKICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldGRlYyA9IHBhcnNlRmxvYXQocGFydHNbMTBdKTsKICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdG1lbnRyYSA9IHBhcnRzWzExXTsKICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdG1lbnRkZWMgPSBwYXJ0c1sxMl07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfoh6rliqjlr7nnhKbmmL7npLrmm7TmlrDmlbDmja46ICcsIG9mZnNldHJhLCBvZmZzZXRkZWMsIGFkanVzdG1lbnRyYSwgYWRqdXN0bWVudGRlYyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdmb2N1c1NldFRyYXZlbFJhbmdlU3VjY2VzcycsIG9mZnNldHJhLCBvZmZzZXRkZWMsIGFkanVzdG1lbnRyYSwgYWRqdXN0bWVudGRlYyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCd1cGRhdGVDYXJkSW5mbycsIF9yYSwgX2RlYywgdGFyZ2V0cmEsIHRhcmdldGRlYyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdmb2N1c01vdmVGYWlsZWQnLCAnZm9jdXNNb3ZlRmFpbGVkJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2ZvY3VzTW92ZUZhaWxlZCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTcgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveChfbWVzc2FnZTcsICdlcnJvcicpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnZm9jdXNNb3ZlRmFpbGVkJywgX21lc3NhZ2U3KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAnZm9jdXNNb3ZlRmFpbGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlOCA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KF9tZXNzYWdlOCwgJ2Vycm9yJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdmb2N1c01vdmVGYWlsZWQnLCBfbWVzc2FnZTgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfmnKrlpITnkIblkb3ku6Q6ICcsIGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnUVRfQ29uZmlybScpIHsKICAgICAgICAgIC8vIOWkhOeQhuehruiupOa2iOaBrwogICAgICAgICAgdmFyIG1lc3NhZ2VJZCA9IGRhdGEubXNnaWQ7CgogICAgICAgICAgX3RoaXMuaGFuZGxlTWVzc2FnZVJlc3BvbnNlKG1lc3NhZ2VJZCk7CiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdQcm9jZXNzX0NvbW1hbmQnKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnUHJvY2Vzc19Db21tYW5kOiAnLCBkYXRhLm1lc3NhZ2UpOyAvLyDlpITnkIbov5Tlm57mtojmga8KCiAgICAgICAgICB2YXIgX3BhcnRzMyA9IGRhdGEubWVzc2FnZS5zcGxpdCgnOicpOwoKICAgICAgICAgIGlmIChfcGFydHMzWzBdID09PSAncXRTZXJ2ZXJJc092ZXInKSB7CiAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnUVQgU2VydmVyIGlzIG92ZXInLCAnZXJyb3InKTsKCiAgICAgICAgICAgIF90aGlzLlNob3dDb25maXJtRGlhbG9nKCdyZXN0YXJ0JywgJ1FUIHNlcnZlciBlbmNvdW50ZXJlZCBhIHNlZ21lbnRhdGlvbiBmYXVsdCBvciBpcyBmcm96ZW4sIHBsZWFzZSByZXN0YXJ0IG9yIGV4aXQhJywgJ3Jlc3RhcnRRdFNlcnZlcicpOwogICAgICAgICAgfSBlbHNlIGlmIChfcGFydHMzWzBdID09PSAnY2hlY2tIYXNOZXdVcGRhdGVQYWNrJykgewogICAgICAgICAgICBpZiAoX3BhcnRzMy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICB2YXIgdmVyc2lvbiA9IF9wYXJ0czNbMV07CgogICAgICAgICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfojrflj5bliLDmm7TmlrDljIXniYjmnKw6ICcgKyB2ZXJzaW9uLCAnaW5mbycpOwoKICAgICAgICAgICAgICBfdGhpcy5TaG93Q29uZmlybURpYWxvZygnRm9yY2VVcGRhdGUnLCBfdGhpcy4kdCgnY2hlY2tIYXNOZXdVcGRhdGVQYWNrJykgKyAnOiAnICsgdmVyc2lvbiArICfvvIwnICsgX3RoaXMuJHQoJ3VwZGF0ZUNvbmZpcm0nKSwgJ3VwZGF0ZUN1cnJlbnRDbGllbnQ6JyArIHZlcnNpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKF9wYXJ0czNbMF0gPT09ICdOb191cGRhdGVfcGFja19mb3VuZCcpIHsKICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KF90aGlzLiR0KCdOb191cGRhdGVfcGFja19mb3VuZCcpLCAnZXJyb3InKTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3BhcnRzM1swXSA9PT0gJ3VwZGF0ZV9wcm9ncmVzcycpIHsKICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgndXBkYXRlX3Byb2dyZXNzJywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3BhcnRzM1swXSA9PT0gJ3VwZGF0ZV9lcnJvcicpIHsKICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgndXBkYXRlX2Vycm9yJywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3BhcnRzM1swXSA9PT0gJ3VwZGF0ZV9zdWNjZXNzJykgewogICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCd1cGRhdGVfc3VjY2VzcycsIGRhdGEubWVzc2FnZSk7CiAgICAgICAgICB9IGVsc2UgaWYgKF9wYXJ0czNbMF0gPT09ICd0ZXN0UXRTZXJ2ZXJQcm9jZXNzJykge30gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUud2Fybign5pyq5aSE55CG5ZG95LukOiAnLCBkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgX3RoaXMucmVjZWl2ZWRNZXNzYWdlcy5wdXNoKGRhdGEubWVzc2FnZSk7IC8vIOWwhuaOpeaUtuWIsOeahOa2iOaBr+a3u+WKoOWIsOaVsOe7hOS4rQoKICAgICAgfTsKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB2YXIgZXJyb3JEZXRhaWxzID0gewogICAgICAgICAgdHlwZTogZXJyb3IudHlwZSwKICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgICAgICAgdXJsOiBfdGhpcy5XZWJTb2NrZXRVcmwsCiAgICAgICAgICByZWFkeVN0YXRlOiBfdGhpcy53ZWJzb2NrZXQucmVhZHlTdGF0ZSwKICAgICAgICAgIHByb3RvY29sOiBfdGhpcy53ZWJzb2NrZXQucHJvdG9jb2wsCiAgICAgICAgICBleHRlbnNpb25zOiBfdGhpcy53ZWJzb2NrZXQuZXh0ZW5zaW9ucwogICAgICAgIH07CiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IEVycm9yIERldGFpbHM6JywgZXJyb3JEZXRhaWxzKTsKCiAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1dlYlNvY2tldCBFcnJvcjogJyArIEpTT04uc3RyaW5naWZ5KGVycm9yRGV0YWlscyksICdlcnJvcicpOwoKICAgICAgICBfdGhpcy53ZWJzb2NrZXRTdGF0ZSA9ICdlcnJvcic7CiAgICAgICAgX3RoaXMubmV0d29ya0Rpc2Nvbm5lY3RlZCA9IHRydWU7CiAgICAgIH07CgogICAgICB0aGlzLndlYnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBXZWJTb2NrZXQgZGlzY29ubmVjdGVkJyk7CiAgICAgICAgX3RoaXMud2Vic29ja2V0U3RhdGUgPSAnZGlzY29ubmVjdGVkJzsKICAgICAgICBfdGhpcy5uZXR3b3JrRGlzY29ubmVjdGVkID0gdHJ1ZTsgLy8gV2ViU29ja2V06L+e5o6l5YWz6Zet5pe26K6+572u572R57uc6L+e5o6l54q25oCBCgogICAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBXZWJTb2NrZXQgZGlzY29ubmVjdGVkJyk7CgogICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1Nob3dOZXRTdGF0dXMnLCAnZmFsc2UnKTsgLy8g6K6+572u5LiA5Liq5a6a5pe25Zmo77yMMeenkuWQjuajgOafpee9kee7nOeKtuaAgQoKCiAgICAgICAgX3RoaXMuZGlzY29ubmVjdFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpcy5uZXR3b3JrRGlzY29ubmVjdGVkKSB7CiAgICAgICAgICAgIC8vIOWmguaenDHnp5LlkI7ku43nhLbmlq3lvIAKICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdXZWJTb2NrZXQgZGlzY29ubmVjdGVkJywgJ2Vycm9yJyk7CgogICAgICAgICAgICBfdGhpcy5kaXNjb25uZWN0VGltZW91dFRyaWdnZXJlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSwgMTAwMCk7IC8vIDHnp5LlkI7miafooYwKICAgICAgICAvLyDlkK/liqjoh6rliqjph43ov54KCiAgICAgICAgX3RoaXMucmVjb25uZWN0V2ViU29ja2V0KCk7CiAgICAgIH07CiAgICB9LAogICAgLy8g6Ieq5Yqo6YeN6L+eCiAgICByZWNvbm5lY3RXZWJTb2NrZXQ6IGZ1bmN0aW9uIHJlY29ubmVjdFdlYlNvY2tldCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgV2ViU29ja2V0IHJlY29ubmVjdGVkJyk7CgogICAgICAgIF90aGlzMi5TZW5kQ29uc29sZUxvZ01zZygnV2ViU29ja2V0IHJlY29ubmVjdGVkLicsICdpbmZvJyk7CgogICAgICAgIF90aGlzMi5jb25uZWN0KCk7CiAgICAgIH0sIDIwMDApOyAvLyAy56eS5ZCO5bCd6K+V6YeN5paw6L+e5o6lCiAgICB9LAogICAgLy8g6Ieq5Yqo6YeN6L+eCiAgICAvL+ebkeWQrOe9kee7nOi/nuaOpeeKtuaAgQogICAgc2V0dXBOZXR3b3JrU3RhdHVzTGlzdGVuZXI6IGZ1bmN0aW9uIHNldHVwTmV0d29ya1N0YXR1c0xpc3RlbmVyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g5qOA5p+l5pat5byA6L+e5o6l55qE5a6a5pe25Zmo5piv5ZCm5bey57uP6Kem5Y+RCiAgICAgICAgaWYgKF90aGlzMy5kaXNjb25uZWN0VGltZW91dFRyaWdnZXJlZCkgewogICAgICAgICAgX3RoaXMzLmNhbGxTaG93TWVzc2FnZUJveCgnV2ViU29ja2V0IGNvbm5lY3RlZCcsICdzdWNjZXNzJyk7CiAgICAgICAgfQoKICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMzLmRpc2Nvbm5lY3RUaW1lb3V0KTsgLy8g5riF6Zmk5pat5byA6L+e5o6l55qE5a6a5pe25ZmoCgogICAgICAgIF90aGlzMy5uZXR3b3JrRGlzY29ubmVjdGVkID0gZmFsc2U7IC8vIOe9kee7nOaBouWkjeaXtumHjee9rue9kee7nOi/nuaOpeeKtuaAgQoKICAgICAgICBfdGhpczMuJGJ1cy4kZW1pdCgnU2hvd05ldFN0YXR1cycsICd0cnVlJyk7CgogICAgICAgIF90aGlzMy5TdGF0dXNSZWNvdmVyeSgpOwoKICAgICAgICBfdGhpczMucmVjb25uZWN0V2ViU29ja2V0KCk7IC8vIOe9kee7nOaBouWkjeWQjuiHquWKqOmHjei/nldlYlNvY2tldAoKICAgICAgfSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5uZXR3b3JrRGlzY29ubmVjdGVkID0gdHJ1ZTsgLy8g572R57uc5pat5byA5pe26K6+572u572R57uc6L+e5o6l54q25oCBCgogICAgICAgIF90aGlzMy4kYnVzLiRlbWl0KCdTaG93TmV0U3RhdHVzJywgJ2ZhbHNlJyk7CgogICAgICAgIF90aGlzMy5kaXNjb25uZWN0VGltZW91dFRyaWdnZXJlZCA9IGZhbHNlOyAvLyDliJ3lp4vljJbmlq3lvIDov57mjqXlrprml7blmajop6blj5HmoIflv5cKICAgICAgICAvLyDorr7nva7kuIDkuKrlrprml7blmajvvIwx56eS5ZCO5qOA5p+l572R57uc54q25oCBCgogICAgICAgIF90aGlzMy5kaXNjb25uZWN0VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKF90aGlzMy5uZXR3b3JrRGlzY29ubmVjdGVkKSB7CiAgICAgICAgICAgIC8vIOWmguaenDHnp5LlkI7ku43nhLbmlq3lvIAKICAgICAgICAgICAgX3RoaXMzLmRpc2Nvbm5lY3RUaW1lb3V0VHJpZ2dlcmVkID0gdHJ1ZTsgLy8g5qCH6K6w5a6a5pe25Zmo5bey6Kem5Y+RCgogICAgICAgICAgICBfdGhpczMuY2FsbFNob3dNZXNzYWdlQm94KCdXZWJTb2NrZXQgZGlzY29ubmVjdGVkJywgJ2Vycm9yJyk7CiAgICAgICAgICB9CiAgICAgICAgfSwgMTAwMCk7IC8vIDHnp5LlkI7miafooYwKICAgICAgfSk7CiAgICB9LAogICAgLy/nm5HlkKznvZHnu5zov57mjqXnirbmgIEKICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZSh0eXBlLCBtZXNzYWdlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJRSFlDQ0QgfCBzZW5kTWVzc2FnZTogIiwgbWVzc2FnZSk7CiAgICAgIHZhciBtZXNzYWdlSWQgPSB0aGlzLmdlbmVyYXRlTWVzc2FnZUlkKCk7IC8vIOeUn+aIkOWUr+S4gOeahOa2iOaBr0lECgogICAgICB2YXIgbWVzc2FnZU9iaiA9IHsKICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgIG1zZ2lkOiBtZXNzYWdlSWQsCiAgICAgICAgbWVzc2FnZTogbWVzc2FnZQogICAgICB9OyAvLyDliJvlu7rljIXlkKvnsbvlnovlkozmtojmga/nmoTlr7nosaEKCiAgICAgIHZhciBtZXNzYWdlSnNvbiA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2VPYmopOyAvLyDlsIbmtojmga/lr7nosaHovazmjaLkuLogSlNPTiDlrZfnrKbkuLIKCiAgICAgIHZhciBtZXNzYWdlU3RhdGUgPSB7CiAgICAgICAgbXNnaWQ6IG1lc3NhZ2VJZCwKICAgICAgICB0ZXh0OiBtZXNzYWdlSnNvbiwKICAgICAgICBzdWNjZXNzOiBmYWxzZQogICAgICB9OyAvLyDliJvlu7rljIXlkKvmtojmga/lkoznirbmgIHkv6Hmga/nmoTlr7nosaEKCiAgICAgIGlmICh0aGlzLndlYnNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikgewogICAgICAgIHRoaXMud2Vic29ja2V0LnNlbmQobWVzc2FnZUpzb24pOyAvLyBtZXNzYWdlU3RhdGUuc3VjY2VzcyA9IHRydWU7IC8vIOiuvue9rua2iOaBr+S4uuaIkOWKnwogICAgICB9CgogICAgICB0aGlzLnNlbnRNZXNzYWdlcy5wdXNoKG1lc3NhZ2VTdGF0ZSk7IC8vIOa3u+WKoOa2iOaBr+WvueixoeWIsOW3suWPkemAgeeahOa2iOaBr+aVsOe7hAogICAgfSwKICAgIGdlbmVyYXRlTWVzc2FnZUlkOiBmdW5jdGlvbiBnZW5lcmF0ZU1lc3NhZ2VJZCgpIHsKICAgICAgLy8g5L2/55So5pe26Ze05oiz5ZKM6K6h5pWw5Zmo55Sf5oiQ5ZSv5LiA55qE5raI5oGvSUQKICAgICAgcmV0dXJuIERhdGUubm93KCkgKyAiLSIgKyB0aGlzLm1lc3NhZ2VDb3VudGVyKys7CiAgICB9LAogICAgaGFuZGxlTWVzc2FnZVJlc3BvbnNlOiBmdW5jdGlvbiBoYW5kbGVNZXNzYWdlUmVzcG9uc2UobWVzc2FnZUlkKSB7CiAgICAgIC8vIOagueaNrui/lOWbnueahOa2iOaBr0lE5pu05paw5raI5oGv5Y+R6YCB54q25oCBCiAgICAgIHZhciBsYXN0TWVzc2FnZSA9IHRoaXMuc2VudE1lc3NhZ2VzW3RoaXMuc2VudE1lc3NhZ2VzLmxlbmd0aCAtIDFdOwoKICAgICAgaWYgKGxhc3RNZXNzYWdlICYmIGxhc3RNZXNzYWdlLm1zZ2lkID09PSBtZXNzYWdlSWQpIHsKICAgICAgICBsYXN0TWVzc2FnZS5zdWNjZXNzID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vIOa2iOaBr+ahhgogICAgY2FsbFNob3dNZXNzYWdlQm94OiBmdW5jdGlvbiBjYWxsU2hvd01lc3NhZ2VCb3gobXNnLCB0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBjYWxsU2hvd01lc3NhZ2VCb3g6JywgbXNnLCB0eXBlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyhtc2csIHR5cGUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3Nob3dNc2dCb3gnLCBtc2csIHR5cGUpOwogICAgfSwKICAgIC8vIOa2iOaBr+ahhgogICAgbG9jYXRpb25DbGlja2VkOiBmdW5jdGlvbiBsb2NhdGlvbkNsaWNrZWQoKSB7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnVnVlX0NvbW1hbmQnLCAnbG9jYWxNZXNzYWdlJyk7IC8vIOiOt+WPluS9jee9ruS/oeaBrwoKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0b2dnbGVCb29sJywgJ3Nob3dMb2NhdGlvbkRpYWxvZycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1Jlc2V0VGltZScpOwogICAgfSwKICAgIFNldEN1cnJlbnRMb2NhdGlvbjogZnVuY3Rpb24gU2V0Q3VycmVudExvY2F0aW9uKGxhdCwgbG5nLCBpc0F1dG8pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygnU2V0Q3VycmVudExvY2F0aW9uOicsIGxhdCwgJywnLCBsbmcpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ1NldCBDdXJyZW50IExvY2F0aW9uOicgKyBsYXQgKyAnLCcgKyBsbmcsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUG9sYXJQb2ludEFsdGl0dWRlJywgbGF0KTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdyZXNldExvY2F0aW9uJywgbGF0LCBsbmcsIGlzQXV0byk7CiAgICAgIHZhciBsb2MgPSB7CiAgICAgICAgc2hvcnRfbmFtZTogJ1Vua25vd24nLAogICAgICAgIGNvdW50cnk6ICdVbmtub3duJywKICAgICAgICBsbmc6IGxuZywKICAgICAgICBsYXQ6IGxhdCwKICAgICAgICBhbHQ6IDAsCiAgICAgICAgYWNjdXJhY3k6IDAsCiAgICAgICAgc3RyZWV0X2FkZHJlc3M6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VycmVudExvY2F0aW9uJywgbG9jKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93UG9zaXRpb25JbmZvJywgbGF0LCBsbmcpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJGJ1cy4kZW1pdCgnUmVzZXRUaW1lJyk7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIC8vIOeKtuaAgeaBouWkjQogICAgU3RhdHVzUmVjb3Zlcnk6IGZ1bmN0aW9uIFN0YXR1c1JlY292ZXJ5KCkgewogICAgICAvLyB0aGlzLnNlbmRNZXNzYWdlKCdTZW5kQ29uc29sZUxvZ01zZycsICfnvZHnu5zov57mjqXmgaLlpI3vvIzmgaLlpI3lvZPliY3nirbmgIEhJywgJ3dhcm5pbmcnKTsKICAgICAgdGhpcy5nZXRRVENsaWVudFZlcnNpb24oKTsgLy8g6I635Y+WUVRDbGllbnTniYjmnKwKCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFJPSUluZm8nKTsgLy8g6I635Y+WUk9J5L+h5oGvCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdsb2NhbE1lc3NhZ2UnKTsgLy8g6I635Y+W5L2N572u5L+h5oGvCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdnZXRMYXN0U2VsZWN0RGV2aWNlJyk7IC8vIOiOt+WPluS4iuS4gOasoemAieaLqeeahOiuvuWkhwoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0TWFpbkNhbWVyYVBhcmFtZXRlcnMnKTsgLy8g6I635Y+W5Li755u45py65Y+C5pWwCgogICAgICB0aGlzLlJlY2FsaWJyYXRlUG9sYXJBeGlzKCk7IC8vIOmHjeaWsOagoeWHhuaegei9tAoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0U3RhZ2luZ1NvbHZlUmVzdWx0Jyk7IC8vIOiOt+WPluWumuagh+e7k+aenAoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0Rm9jdXNlckxvb3BpbmdTdGF0ZScpOyAvLyDojrflj5bnhKbot53lmajlvqrnjq/nirbmgIEKCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFN0YWdpbmdTY2hlZHVsZURhdGEnKTsgLy8g6I635Y+W5a6a5qCH6K6h5YiS5pWw5o2uCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdnZXRTdGFnaW5nU29sdmVSZXN1bHQnKTsgLy8g6I635Y+W5a6a5qCH57uT5p6cCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdnZXRHUElPc1N0YXR1cycpOyAvLyDojrflj5ZHUElP54q25oCBCiAgICAgIC8vIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFN0YWdpbmdJbWFnZScpOyAvLyDojrflj5bmnIDlkI7mi43mkYTnmoTlm77lg48KCiAgICAgIHRoaXMuZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQgPSBmYWxzZTsKICAgIH0sCiAgICBvcGVuUG93ZXJNYW5hZ2VyUGFnZTogZnVuY3Rpb24gb3BlblBvd2VyTWFuYWdlclBhZ2UoKSB7CiAgICAgIHRoaXMuaXNPcGVuRGV2aWNlUGFnZSA9IGZhbHNlOwogICAgICB0aGlzLmlzT3BlblBvd2VyUGFnZSA9IHRydWU7CiAgICAgIHRoaXMuZHJhd2VyXzIgPSB0cnVlOwogICAgfSwKICAgIFF1aXRUb01haW5BcHA6IGZ1bmN0aW9uIFF1aXRUb01haW5BcHAoKSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ0Jyb2FkY2FzdF9Nc2cnLCAnQ2xvc2VXZWJWaWV3Jyk7CiAgICB9LAogICAgc2VsZWN0RGV2aWNlOiBmdW5jdGlvbiBzZWxlY3REZXZpY2UoZGV2aWNlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmhhdmVEZXZpY2VDb25uZWN0IHx8IHRoaXMuaGF2ZURldmljZUNvbm5lY3QgfHwgZGV2aWNlLmRyaXZlclR5cGUgPT09ICdUZWxlc2NvcGVzJykgewogICAgICAgIHRoaXMuaXNPcGVuRGV2aWNlUGFnZSA9IHRydWU7CiAgICAgICAgdGhpcy5pc09wZW5Qb3dlclBhZ2UgPSBmYWxzZTsKCiAgICAgICAgaWYgKGRldmljZS5pc2dldCA9PT0gZmFsc2UpIHsKICAgICAgICAgIC8vIGRldmljZS5pc2dldCA9IHRydWU7CiAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdTZWxlY3RJbmRpRHJpdmVyOicgKyBkZXZpY2UudHlwZSArICI6IiArIGRldmljZS5MaXN0TnVtKTsKICAgICAgICAgIHRoaXMuZHJpdmVycyA9IFtdOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5DdXJyZW50RHJpdmVyVHlwZSA9IGRldmljZS5kcml2ZXJUeXBlOwogICAgICAgIHRoaXMuRGV2aWNlSXNDb25uZWN0ZWQgPSBkZXZpY2UuaXNDb25uZWN0ZWQ7CiAgICAgICAgdGhpcy5CYXVkUmF0ZVNlbGVjdGVkID0gZGV2aWNlLkJhdWRSYXRlOwoKICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09ICdUZWxlc2NvcGVzJykgewogICAgICAgICAgdGhpcy5EZXZpY2VJc0Nvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRyYXdlcl8yID0gdHJ1ZTsKICAgICAgICB0aGlzLlRvQmVDb25uZWN0RGV2aWNlID0gW107CiAgICAgICAgdGhpcy5kZXZpY2VzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2VzTGlzdCkgewogICAgICAgICAgaWYgKGRldmljZXNMaXN0LnR5cGUgPT09IF90aGlzNS5DdXJyZW50RHJpdmVyVHlwZSkgewogICAgICAgICAgICBfdGhpczUuVG9CZUNvbm5lY3REZXZpY2UucHVzaChkZXZpY2VzTGlzdCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goJ1RoZSBkZXZpY2UgaXMgbm90IGNvbm5lY3RlZC4nLCAnZXJyb3InKTsKICAgICAgfQogICAgfSwKICAgIEN1cnJlbnRDb25maWdJdGVtczogZnVuY3Rpb24gQ3VycmVudENvbmZpZ0l0ZW1zKCkgewogICAgICBjb25zb2xlLmxvZygnQ3VycmVudENvbmZpZ0l0ZW1zOiAnLCB0aGlzLkN1cnJlbnREcml2ZXJUeXBlICsgJ0NvbmZpZ0l0ZW1zJyk7CgogICAgICBzd2l0Y2ggKHRoaXMuQ3VycmVudERyaXZlclR5cGUpIHsKICAgICAgICBjYXNlICdHdWlkZXInOgogICAgICAgICAgcmV0dXJuIHRoaXMuR3VpZGVyQ29uZmlnSXRlbXM7CgogICAgICAgIGNhc2UgJ01haW5DYW1lcmEnOgogICAgICAgICAgcmV0dXJuIHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zOwoKICAgICAgICBjYXNlICdNb3VudCc6CiAgICAgICAgICByZXR1cm4gdGhpcy5Nb3VudENvbmZpZ0l0ZW1zOwoKICAgICAgICBjYXNlICdUZWxlc2NvcGVzJzoKICAgICAgICAgIHJldHVybiB0aGlzLlRlbGVzY29wZXNDb25maWdJdGVtczsKCiAgICAgICAgY2FzZSAnRm9jdXNlcic6CiAgICAgICAgICByZXR1cm4gdGhpcy5Gb2N1c2VyQ29uZmlnSXRlbXM7CgogICAgICAgIGNhc2UgJ1BvbGVDYW1lcmEnOgogICAgICAgICAgcmV0dXJuIHRoaXMuUG9sZUNhbWVyYUNvbmZpZ0l0ZW1zOwoKICAgICAgICBjYXNlICdDRlcnOgogICAgICAgICAgcmV0dXJuIHRoaXMuQ0ZXQ29uZmlnSXRlbXM7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBjb25maXJtRHJpdmVyOiBmdW5jdGlvbiBjb25maXJtRHJpdmVyKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIC8vIOehruWumumpseWKqOeahOmAu+i+kQogICAgICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgY29uZmlybURyaXZlcjogIiwgdGhpcy5zZWxlY3RlZERyaXZlcik7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NvbmZpcm0gSW5kaSBEcml2ZXI6JyArIHRoaXMuc2VsZWN0ZWREcml2ZXIsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnQ29uZmlybUluZGlEcml2ZXI6JyArIHRoaXMuc2VsZWN0ZWREcml2ZXIgKyAnOicgKyB0aGlzLkJhdWRSYXRlU2VsZWN0ZWQpOwogICAgICB0aGlzLmNvbmZpcm1Ecml2ZXJUeXBlID0gdGhpcy5DdXJyZW50RHJpdmVyVHlwZTsKICAgICAgdGhpcy5sb2FkaW5nU2VsZWN0RHJpdmVyID0gdHJ1ZTsKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gX3RoaXM2LkN1cnJlbnREcml2ZXJUeXBlKSB7CiAgICAgICAgICBkZXZpY2UuZGV2aWNlID0gX3RoaXM2LnNlbGVjdGVkRHJpdmVyOwogICAgICAgICAgZGV2aWNlLmRyaXZlck5hbWUgPSBfdGhpczYuc2VsZWN0ZWREcml2ZXI7CiAgICAgICAgICBkZXZpY2UuQmF1ZFJhdGUgPSBfdGhpczYuQmF1ZFJhdGVTZWxlY3RlZDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyRHJpdmVyOiBmdW5jdGlvbiBjbGVhckRyaXZlcigpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0NsZWFySW5kaURyaXZlcicpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDbGVhciBJbmRpIERyaXZlcicsICdpbmZvJyk7CiAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09IF90aGlzNy5DdXJyZW50RHJpdmVyVHlwZSkgewogICAgICAgICAgZGV2aWNlLmRldmljZSA9ICcnOwogICAgICAgICAgZGV2aWNlLmRyaXZlck5hbWUgPSAnJzsKICAgICAgICAgIGRldmljZS5CYXVkUmF0ZSA9IDk2MDA7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zZWxlY3RlZERyaXZlciA9ICcnOwogICAgfSwKICAgIGNvbmZpcm1EZXZpY2U6IGZ1bmN0aW9uIGNvbmZpcm1EZXZpY2UoKSB7CiAgICAgIC8vIOehruWumuiuvuWkh+eahOmAu+i+kQogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0NvbmZpcm1JbmRpRGV2aWNlOicgKyB0aGlzLnNlbGVjdGVkRGV2aWNlICsgJzonICsgdGhpcy5zZWxlY3RlZERyaXZlcik7IC8vIHRoaXMuJGJ1cy4kZW1pdCgnQXBwVXBkYXRlRGV2aWNlcycsIHRoaXMuQ3VycmVudERyaXZlclR5cGUsIHRoaXMuc2VsZWN0ZWREZXZpY2UpOwoKICAgICAgdGhpcy51cGRhdGVEZXZpY2VzKHRoaXMuQ3VycmVudERyaXZlclR5cGUsIHRoaXMuc2VsZWN0ZWREZXZpY2UpOwogICAgfSwKICAgIHVwZGF0ZURldmljZXM6IGZ1bmN0aW9uIHVwZGF0ZURldmljZXMoZHJpdmVyVHlwZSwgbmV3RGV2aWNlKSB7CiAgICAgIC8vIOaJi+WKqOmAieaLqQogICAgICB0aGlzLmRldmljZXMuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlKSB7CiAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBkcml2ZXJUeXBlKSB7CiAgICAgICAgICBkZXZpY2UuZGV2aWNlID0gbmV3RGV2aWNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlRGV2aWNlc186IGZ1bmN0aW9uIHVwZGF0ZURldmljZXNfKExpc3ROdW0sIG5ld0RldmljZSkgewogICAgICAvLyDku47mlofku7blr7zlhaUKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuTGlzdE51bSA9PT0gTGlzdE51bSkgewogICAgICAgICAgZGV2aWNlLmRldmljZSA9IG5ld0RldmljZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmxvYWRpbmdDb25uZWN0QWxsRGV2aWNlID0gZmFsc2U7CiAgICB9LAogICAgdXBkYXRlRGV2aWNlc0Nvbm5lY3Q6IGZ1bmN0aW9uIHVwZGF0ZURldmljZXNDb25uZWN0KHR5cGUsIERldmljZU5hbWUsIERyaXZlck5hbWUpIHsKICAgICAgdmFyIGlzQmluZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTsKICAgICAgLy8g6L+e5o6l5oiQ5YqfCiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ3VwZGF0ZURldmljZXNDb25uZWN0JyArIHR5cGUgKyAnICcgKyBEZXZpY2VOYW1lICsgJyAnICsgRHJpdmVyTmFtZSArICcgJyArIGlzQmluZCwgJ2luZm8nKTsKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gdHlwZSkgewogICAgICAgICAgaWYgKGlzQmluZCA9PSB0cnVlKSB7CiAgICAgICAgICAgIGRldmljZS5kZXZpY2UgPSBEZXZpY2VOYW1lOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGV2aWNlLmRldmljZSA9ICJOb3QgQmluZCBEZXZpY2UiOwogICAgICAgICAgfQoKICAgICAgICAgIGRldmljZS5kcml2ZXJOYW1lID0gRHJpdmVyTmFtZTsKICAgICAgICAgIGRldmljZS5pc0Nvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goRGV2aWNlTmFtZSArICcgc3VjY2VzcyBjb25uZWN0ZWQnLCAnc3VjY2VzcycpOwogICAgICB0aGlzLmhhdmVEZXZpY2VDb25uZWN0ID0gdHJ1ZTsKICAgICAgdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IGZhbHNlOwoKICAgICAgaWYgKHR5cGUgPT09ICdNYWluQ2FtZXJhJykgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUNvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhIGlzIENvbm5lY3RlZC4nKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTW91bnQnKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNb3VudCBpcyBDb25uZWN0ZWQuJyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0NGVycpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNb3VudCBpcyBDb25uZWN0ZWQuJyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0ZvY3VzZXInKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdGb2N1c2VyQ29ubmVjdGVkJywgMSk7CiAgICAgICAgY29uc29sZS5sb2coJ0ZvY3VzZXIgaXMgQ29ubmVjdGVkLicpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdHdWlkZXInKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJDb25uZWN0ZWQnLCAxKTsKICAgICAgICBjb25zb2xlLmxvZygnR3VpZGVyIGlzIENvbm5lY3RlZC4nKTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZURldmljZXNDb25uZWN0OiAnLCB0eXBlLCBEZXZpY2VOYW1lLCBEcml2ZXJOYW1lLCBpc0JpbmQpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0RldmljZUNvbm5lY3RTdWNjZXNzJywgdHlwZSwgRGV2aWNlTmFtZSwgRHJpdmVyTmFtZSwgaXNCaW5kKTsKICAgIH0sCiAgICBzdGFydENvbm5lY3RCdG5QcmVzczogZnVuY3Rpb24gc3RhcnRDb25uZWN0QnRuUHJlc3MoZXZlbnQpIHsKICAgICAgLy8g5aaC5p6c5piv6Kem5pG45LqL5Lu277yM5qCH6K6w5bm25aSE55CGCiAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHsKICAgICAgICB0aGlzLmlzVG91Y2hpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuaXNDb25uZWN0QnRuTG9uZ1ByZXNzID0gZmFsc2U7IC8vIOmHjee9rumVv+aMieagh+iusAogICAgICAgIC8vIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyAgIHRoaXMuaXNDb25uZWN0QnRuTG9uZ1ByZXNzID0gdHJ1ZTsgLy8g5qCH6K6w5Li66ZW/5oyJCiAgICAgICAgLy8gICB0aGlzLmhhbmRsZUNvbm5lY3RCdG5Mb25nUHJlc3MoKTsKICAgICAgICAvLyB9LCB0aGlzLkNvbm5lY3RCdG5sb25nUHJlc3NUaHJlc2hvbGQpOwoKICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3RCdG5DbGljaygpOwogICAgICB9IC8vIOWmguaenOaYr+m8oOagh+S6i+S7tu+8jOS4lOayoeacieato+WcqOi/m+ihjOeahOinpuaRuOS6i+S7tu+8jOWImeWkhOeQhgogICAgICBlbHNlIGlmIChldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiAhdGhpcy5pc1RvdWNoaW5nKSB7CiAgICAgICAgICB0aGlzLmlzQ29ubmVjdEJ0bkxvbmdQcmVzcyA9IGZhbHNlOyAvLyDph43nva7plb/mjInmoIforrAKICAgICAgICAgIC8vIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIC8vICAgdGhpcy5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MgPSB0cnVlOyAvLyDmoIforrDkuLrplb/mjIkKICAgICAgICAgIC8vICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuTG9uZ1ByZXNzKCk7CiAgICAgICAgICAvLyB9LCB0aGlzLkNvbm5lY3RCdG5sb25nUHJlc3NUaHJlc2hvbGQpOwoKICAgICAgICAgIHRoaXMuaGFuZGxlQ29ubmVjdEJ0bkNsaWNrKCk7CiAgICAgICAgfQogICAgfSwKICAgIGVuZENvbm5lY3RCdG5QcmVzczogZnVuY3Rpb24gZW5kQ29ubmVjdEJ0blByZXNzKGV2ZW50KSB7CiAgICAgIC8vIOWmguaenOaYr+inpuaRuOS6i+S7tu+8jOWkhOeQhuW5tumHjee9ruagh+iusAogICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJykgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkNvbm5lY3RCdG5QcmVzc1RpbWVyKTsgLy8g5riF6Zmk5a6a5pe25ZmoCiAgICAgICAgLy8gaWYgKCF0aGlzLmlzQ29ubmVjdEJ0bkxvbmdQcmVzcykgewogICAgICAgIC8vICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuQ2xpY2soKTsgLy8g5aaC5p6c5LiN5piv6ZW/5oyJ77yM5YiZ6Kem5Y+R54K55Ye75LqL5Lu2CiAgICAgICAgLy8gfQoKICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3RCdG5DbGljaygpOwogICAgICAgIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBudWxsOyAvLyDph43nva7lrprml7blmagKCiAgICAgICAgdGhpcy5pc1RvdWNoaW5nID0gZmFsc2U7IC8vIOmHjee9ruinpuaRuOagh+iusAogICAgICB9IC8vIOWmguaenOaYr+m8oOagh+S6i+S7tu+8jOS4lOayoeacieato+WcqOi/m+ihjOeahOinpuaRuOS6i+S7tu+8jOWImeWkhOeQhgogICAgICBlbHNlIGlmIChldmVudC50eXBlID09PSAnbW91c2V1cCcgJiYgIXRoaXMuaXNUb3VjaGluZykgewogICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIpOyAvLyDmuIXpmaTlrprml7blmagKICAgICAgICAgIC8vIGlmICghdGhpcy5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MpIHsKICAgICAgICAgIC8vICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuQ2xpY2soKTsgLy8g5aaC5p6c5LiN5piv6ZW/5oyJ77yM5YiZ6Kem5Y+R54K55Ye75LqL5Lu2CiAgICAgICAgICAvLyB9CgogICAgICAgICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuQ2xpY2soKTsKICAgICAgICAgIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBudWxsOyAvLyDph43nva7lrprml7blmagKICAgICAgICB9CiAgICB9LAogICAgaGFuZGxlQ29ubmVjdEJ0bkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDb25uZWN0QnRuQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaGF2ZURldmljZUNvbm5lY3QpIHsKICAgICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnUGxlYXNlIGRpc2Nvbm5lY3QgYWxsIGRldmljZXMgZmlyc3QuJywgJ2Vycm9yJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuQ29ubmVjdEJ0bkNhbkNsaWNrKSByZXR1cm47IC8vIOWmguaenOS4jeWPr+eCueWHu++8jOebtOaOpei/lOWbngoKICAgICAgdGhpcy5Db25uZWN0QnRuQ2FuQ2xpY2sgPSBmYWxzZTsgLy8g6K6+572u5Li65LiN5Y+v54K55Ye7CgogICAgICBjb25zb2xlLmxvZygiQ29ubmVjdCBCdXR0b24gY2xpY2tlZCIpOwogICAgICB0aGlzLmNvbm5lY3RBbGxEZXZpY2UoKTsgLy8g5oGi5aSN54K55Ye75p2D6ZmQCgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczguQ29ubmVjdEJ0bkNhbkNsaWNrID0gdHJ1ZTsKICAgICAgfSwgMTAwMCk7IC8vIDHnp5LlkI7mgaLlpI0KICAgIH0sCiAgICBoYW5kbGVDb25uZWN0QnRuTG9uZ1ByZXNzOiBmdW5jdGlvbiBoYW5kbGVDb25uZWN0QnRuTG9uZ1ByZXNzKCkgewogICAgICBpZiAodGhpcy5oYXZlRGV2aWNlQ29ubmVjdCkgewogICAgICAgIHRoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdQbGVhc2UgZGlzY29ubmVjdCBhbGwgZGV2aWNlcyBmaXJzdC4nLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g6ZW/5oyJ5LqL5Lu255qE5aSE55CGCgoKICAgICAgY29uc29sZS5sb2coIkNvbm5lY3QgQnV0dG9uIGxvbmcgcHJlc3NlZCIpOwogICAgICB0aGlzLmF1dG9Db25uZWN0QWxsRGV2aWNlKCk7CiAgICB9LAogICAgY29ubmVjdEFsbERldmljZTogZnVuY3Rpb24gY29ubmVjdEFsbERldmljZSgpIHsKICAgICAgY29uc29sZS5sb2coIlFIWUNDRCB8IGNvbm5lY3RBbGxEZXZpY2UuIik7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0Nvbm5lY3QgQWxsIERldmljZScsICdpbmZvJyk7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgICAgdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IHRydWU7CiAgICB9LAogICAgYXV0b0Nvbm5lY3RBbGxEZXZpY2U6IGZ1bmN0aW9uIGF1dG9Db25uZWN0QWxsRGV2aWNlKCkgewogICAgICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgYXV0b0Nvbm5lY3RBbGxEZXZpY2UuIik7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0F1dG8gQ29ubmVjdCBBbGwgRGV2aWNlJywgJ2luZm8nKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnYXV0b0Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgICAgdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IHRydWU7CiAgICB9LAogICAgLy8gY29ubmVjdEFsbERldmljZSgpIHsKICAgIC8vICAgY29uc29sZS5sb2coIlFIWUNDRCB8IGNvbm5lY3RBbGxEZXZpY2UuIik7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0Nvbm5lY3QgQWxsIERldmljZScsICdpbmZvJyk7CiAgICAvLyAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgIC8vICAgdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IHRydWU7CiAgICAvLyB9LAogICAgLy8gYXV0b0Nvbm5lY3RBbGxEZXZpY2UoKSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKCJRSFlDQ0QgfCBhdXRvQ29ubmVjdEFsbERldmljZS4iKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQXV0byBDb25uZWN0IEFsbCBEZXZpY2UnLCAnaW5mbycpOwogICAgLy8gICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdhdXRvQ29ubmVjdEFsbERldmljZScpOwogICAgLy8gICB0aGlzLmxvYWRpbmdDb25uZWN0QWxsRGV2aWNlID0gdHJ1ZTsKICAgIC8vIH0sCiAgICAvLyBzdGFydENvbm5lY3RCdG5QcmVzcygpIHsKICAgIC8vICAgdGhpcy5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MgPSBmYWxzZTsgLy8g6YeN572u6ZW/5oyJ5qCH6K6wCiAgICAvLyAgIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICB0aGlzLmlzQ29ubmVjdEJ0bkxvbmdQcmVzcyA9IHRydWU7IC8vIOagh+iusOS4uumVv+aMiQogICAgLy8gICAgIHRoaXMuaGFuZGxlQ29ubmVjdEJ0bkxvbmdQcmVzcygpOwogICAgLy8gICB9LCB0aGlzLkNvbm5lY3RCdG5sb25nUHJlc3NUaHJlc2hvbGQpOwogICAgLy8gfSwKICAgIC8vIGVuZENvbm5lY3RCdG5QcmVzcygpIHsKICAgIC8vICAgY2xlYXJUaW1lb3V0KHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIpOyAvLyDmuIXpmaTlrprml7blmagKICAgIC8vICAgaWYgKCF0aGlzLmlzQ29ubmVjdEJ0bkxvbmdQcmVzcykgewogICAgLy8gICAgIHRoaXMuaGFuZGxlQ29ubmVjdEJ0bkNsaWNrKCk7IC8vIOWmguaenOS4jeaYr+mVv+aMie+8jOWImeinpuWPkeeCueWHu+S6i+S7tgogICAgLy8gICB9CiAgICAvLyAgIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBudWxsOyAvLyDph43nva7lrprml7blmagKICAgIC8vIH0sCiAgICAvLyBoYW5kbGVDb25uZWN0QnRuQ2xpY2soKSB7CiAgICAvLyAgIGlmICh0aGlzLmhhdmVEZXZpY2VDb25uZWN0KSB7CiAgICAvLyAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goJ1BsZWFzZSBkaXNjb25uZWN0IGFsbCBkZXZpY2VzIGZpcnN0LicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybjsKICAgIC8vICAgfQogICAgLy8gICBpZiAoIXRoaXMuQ29ubmVjdEJ0bkNhbkNsaWNrKSByZXR1cm47IC8vIOWmguaenOS4jeWPr+eCueWHu++8jOebtOaOpei/lOWbngogICAgLy8gICB0aGlzLkNvbm5lY3RCdG5DYW5DbGljayA9IGZhbHNlOyAvLyDorr7nva7kuLrkuI3lj6/ngrnlh7sKICAgIC8vICAgY29uc29sZS5sb2coIkNvbm5lY3QgQnV0dG9uIGNsaWNrZWQiKTsKICAgIC8vICAgdGhpcy5jb25uZWN0QWxsRGV2aWNlKCk7CiAgICAvLyAgIC8vIOaBouWkjeeCueWHu+adg+mZkAogICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICB0aGlzLkNvbm5lY3RCdG5DYW5DbGljayA9IHRydWU7CiAgICAvLyAgIH0sIDEwMDApOyAvLyAx56eS5ZCO5oGi5aSNCiAgICAvLyB9LAogICAgLy8gaGFuZGxlQ29ubmVjdEJ0bkxvbmdQcmVzcygpIHsKICAgIC8vICAgaWYgKHRoaXMuaGF2ZURldmljZUNvbm5lY3QpIHsKICAgIC8vICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnUGxlYXNlIGRpc2Nvbm5lY3QgYWxsIGRldmljZXMgZmlyc3QuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgcmV0dXJuOwogICAgLy8gICB9CiAgICAvLyAgIC8vIOmVv+aMieS6i+S7tueahOWkhOeQhgogICAgLy8gICBjb25zb2xlLmxvZygiQ29ubmVjdCBCdXR0b24gbG9uZyBwcmVzc2VkIik7CiAgICAvLyAgIHRoaXMuYXV0b0Nvbm5lY3RBbGxEZXZpY2UoKTsKICAgIC8vIH0sCiAgICBkaXNjb25uZWN0QWxsRGV2aWNlOiBmdW5jdGlvbiBkaXNjb25uZWN0QWxsRGV2aWNlKGNvbmZpcm0pIHsKICAgICAgLy8g5qOA5p+l5piv5ZCm5pyJ6K6+5aSH55qEIGlzQ29ubmVjdGVkIOWxnuaAp+S4uiB0cnVlCiAgICAgIC8vIGNvbnN0IGhhc0Nvbm5lY3RlZERldmljZXMgPSB0aGlzLmRldmljZXMuc29tZShkZXZpY2UgPT4gZGV2aWNlLmlzQ29ubmVjdGVkKTsKICAgICAgaWYgKHRoaXMuaGF2ZURldmljZUNvbm5lY3QpIHsKICAgICAgICBpZiAoY29uZmlybSA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuU2hvd0NvbmZpcm1EaWFsb2coJ0NvbmZpcm0nLCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2Nvbm5lY3QgYWxsIGRldmljZXM/JywgJ2Rpc2Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZGlzY29ubmVjdEFsbERldmljZScpOwogICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnRGlzY29ubmVjdCBBbGwgRGV2aWNlJywgJ2luZm8nKTsKICAgICAgICAgIHRoaXMuaGF2ZURldmljZUNvbm5lY3QgPSBmYWxzZTsgLy8gdGhpcy5kZXZpY2VzLmZvckVhY2goZGV2aWNlID0+IHsKICAgICAgICAgIC8vICAgZGV2aWNlLmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgICAvLyAgIC8vIGRldmljZS5kZXZpY2UgPSAnJzsKICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUNvbm5lY3RlZCcsIDApOwogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDApOwogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDRldDb25uZWN0ZWQnLCAwKTsKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnRm9jdXNlckNvbm5lY3RlZCcsIDApOwogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJDb25uZWN0ZWQnLCAwKTsKICAgICAgICAgIHRoaXMuY2xlYXJEZXZpY2VMaXN0KCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdObyBkZXZpY2VzIGhhdmUgYmVlbiBjb25uZWN0ZWQuJywgJ2Vycm9yJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VsZWN0ZWREcml2ZXIgPSAnJzsKICAgIH0sCiAgICAvLyBjbGVhckRldmljZUxpc3QoKSB7CiAgICAvLyAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGRldmljZSA9PiB7CiAgICAvLyAgICAgZGV2aWNlLmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAvLyAgICAgZGV2aWNlLmlzZ2V0ID0gZmFsc2U7CiAgICAvLyAgICAgZGV2aWNlLmRldmljZSA9ICcnOyAKICAgIC8vICAgICBkZXZpY2UuZHJpdmVyTmFtZSA9ICcnOwogICAgLy8gICB9KTsKICAgIC8vICAgdGhpcy5Ub0JlQ29ubmVjdERldmljZSA9IFtdOwogICAgLy8gICB0aGlzLmRldmljZXNMaXN0ID0gW107CiAgICAvLyAgIHRoaXMuZHJpdmVycyA9IFtdOwogICAgLy8gICB0aGlzLiRidXMuJGVtaXQoJ2NsZWFyRGV2aWNlQWxsb2NhdGlvbkxpc3QnKTsKICAgIC8vIH0sCiAgICBjbGVhckRldmljZUxpc3Q6IGZ1bmN0aW9uIGNsZWFyRGV2aWNlTGlzdCgpIHsKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGRldmljZS5kZXZpY2UgPSBkZXZpY2UuZHJpdmVyTmFtZTsKICAgICAgICBkZXZpY2UuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICBkZXZpY2UuaXNnZXQgPSBmYWxzZTsKICAgICAgICBkZXZpY2UuQmF1ZFJhdGUgPSA5NjAwOwogICAgICB9KTsKICAgICAgdGhpcy5Ub0JlQ29ubmVjdERldmljZSA9IFtdOwogICAgICB0aGlzLmRldmljZXNMaXN0ID0gW107CiAgICAgIHRoaXMuZHJpdmVycyA9IFtdOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ2NsZWFyRGV2aWNlQWxsb2NhdGlvbkxpc3QnKTsKICAgIH0sCiAgICBTd2l0Y2hPdXRQdXRQb3dlcjogZnVuY3Rpb24gU3dpdGNoT3V0UHV0UG93ZXIoaW5kZXgsIGlzUG93ZXJPTikgewogICAgICBpZiAoaXNQb3dlck9OKSB7CiAgICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwogICAgICAgIHRoaXMuU2hvd0NvbmZpcm1EaWFsb2coJ091dHB1dCBQb3dlcjonICsgaW5kZXgsICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gdHVybiBvZmYgdGhpcyBvdXRwdXQgcG93ZXI/JywgJ1N3aXRjaE91dFB1dFBvd2VyJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdTd2l0Y2hPdXRQdXRQb3dlcjonICsgaW5kZXgpOwogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1N3aXRjaCBPdXRQdXRQb3dlcicgKyBpbmRleCwgJ2luZm8nKTsKICAgICAgfQogICAgfSwKICAgIFJlc3RhcnRSYXNwYmVycnlQaTogZnVuY3Rpb24gUmVzdGFydFJhc3BiZXJyeVBpKCkgewogICAgICB0aGlzLmRyYXdlcl8yID0gZmFsc2U7CiAgICAgIHRoaXMuU2hvd0NvbmZpcm1EaWFsb2coJ1Jlc3RhcnQnLCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc3RhcnQgdGhlIFJhc3BiZXJyeSBQaT8nLCAnUmVzdGFydFJhc3BiZXJyeVBpJyk7CiAgICB9LAogICAgU2h1dGRvd25SYXNwYmVycnlQaTogZnVuY3Rpb24gU2h1dGRvd25SYXNwYmVycnlQaSgpIHsKICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwogICAgICB0aGlzLlNob3dDb25maXJtRGlhbG9nKCdTaHV0IERvd24nLCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHNodXQgZG93biB0aGUgUmFzcGJlcnJ5IFBpPycsICdTaHV0ZG93blJhc3BiZXJyeVBpJyk7CiAgICB9LAogICAgRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIEZvcmNlVXBkYXRlKCkgewogICAgICB0aGlzLmRyYXdlcl8yID0gZmFsc2U7CiAgICAgIHRoaXMuU2hvd0NvbmZpcm1EaWFsb2coJ0ZvcmNlIFVwZGF0ZScsICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZm9yY2UgdXBkYXRlIHRoZSBSYXNwYmVycnkgUGk/JywgJ0ZvcmNlVXBkYXRlJyk7CiAgICB9LAogICAgUmV0dXJuQ29ubmVjdGVkRGV2aWNlczogZnVuY3Rpb24gUmV0dXJuQ29ubmVjdGVkRGV2aWNlcygpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB0aGlzLmRldmljZXMuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlKSB7CiAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSAnTWFpbkNhbWVyYScpIHsKICAgICAgICAgIGlmIChkZXZpY2UuaXNDb25uZWN0ZWQgPT09IHRydWUpIHsKICAgICAgICAgICAgX3RoaXM5LiRidXMuJGVtaXQoJ01haW5DYW1lcmFDb25uZWN0ZWQnLCAxKTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhIGlzIENvbm5lY3RlZC4nKTsKCiAgICAgICAgICAgIF90aGlzOS5TZW5kQ29uc29sZUxvZ01zZygnTWFpbkNhbWVyYSBpcyBDb25uZWN0ZWQuJywgJ2luZm8nKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSAnTW91bnQnKSB7CiAgICAgICAgICBpZiAoZGV2aWNlLmlzQ29ubmVjdGVkID09PSB0cnVlKSB7CiAgICAgICAgICAgIF90aGlzOS4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDEpOwoKICAgICAgICAgICAgY29uc29sZS5sb2coJ01vdW50IGlzIENvbm5lY3RlZC4nKTsKCiAgICAgICAgICAgIF90aGlzOS5TZW5kQ29uc29sZUxvZ01zZygnTW91bnQgaXMgQ29ubmVjdGVkLicsICdpbmZvJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnbG9hZFNlbGVjdGVkRHJpdmVyTGlzdCcpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdsb2FkQmluZERldmljZUxpc3QnKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnbG9hZEJpbmREZXZpY2VUeXBlTGlzdCcpOwogICAgfSwKICAgIE9wZW5JYW1nZUZvbGRlcjogZnVuY3Rpb24gT3BlbklhbWdlRm9sZGVyKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ0ltYWdlTWFuYWdlclBhbmVsT3BlbicpOwogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgfSwKICAgIE9wZW5EZWJ1Z0xvZzogZnVuY3Rpb24gT3BlbkRlYnVnTG9nKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ3RvZ2dsZUlORElEZWJ1Z0RpYWxvZycpOwogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgfSwKICAgIFNlbmRDb25zb2xlTG9nTXNnOiBmdW5jdGlvbiBTZW5kQ29uc29sZUxvZ01zZyhtZXNzYWdlLCB0eXBlKSB7CiAgICAgIGlmICh0eXBlID09ICdlcnJvcicpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjogJyArIG1lc3NhZ2UpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2cnLCB0eXBlLCBtZXNzYWdlKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdpbmZvJykgewogICAgICAgIGNvbnNvbGUubG9nKCdJbmZvOiAnICsgbWVzc2FnZSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZycsIHR5cGUsIG1lc3NhZ2UpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3dhcm5pbmcnKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiAnICsgbWVzc2FnZSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZycsIHR5cGUsIG1lc3NhZ2UpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCdEZWJ1ZzogJyArIG1lc3NhZ2UpOwogICAgICB9CiAgICB9LAogICAgRGV2aWNlQWxsb2NhdGlvbjogZnVuY3Rpb24gRGV2aWNlQWxsb2NhdGlvbigpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCd0b2dnbGVEZXZpY2VBbGxvY2F0aW9uUGFuZWwnKTsKICAgICAgdGhpcy5uYXYgPSBmYWxzZTsKICAgIH0sCiAgICBDdXJyZW50RXhwVGltZUxpc3Q6IGZ1bmN0aW9uIEN1cnJlbnRFeHBUaW1lTGlzdChpbmRleCwgdmFsdWUpIHsKICAgICAgdmFyIGV4cFRpbWVJbmRleCA9IHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnRXhwVGltZSBbJyArIChpbmRleCArIDEpICsgJ10nOwogICAgICB9KTsKCiAgICAgIGlmIChleHBUaW1lSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8g56Gu5L+d5om+5Yiw5LqG5a+55bqU55qE6YWN572u6aG5CiAgICAgICAgLy8g5pu05pawIEV4cFRpbWUxIOmFjee9rumhueeahOWAvAogICAgICAgIHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zW2V4cFRpbWVJbmRleF0udmFsdWUgPSB2YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFeHBUaW1lIFsnICsgaW5kZXggKyAnXSBjb25maWd1cmF0aW9uIGl0ZW0gbm90IGZvdW5kLicpOwogICAgICB9CiAgICB9LAogICAgQ3VycmVudENGV0xpc3Q6IGZ1bmN0aW9uIEN1cnJlbnRDRldMaXN0KGluZGV4LCB2YWx1ZSkgewogICAgICB2YXIgZXhwVGltZUluZGV4ID0gdGhpcy5DRldDb25maWdJdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ0NGVyBbJyArIChpbmRleCArIDEpICsgJ10nOwogICAgICB9KTsKCiAgICAgIGlmIChleHBUaW1lSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8g56Gu5L+d5om+5Yiw5LqG5a+55bqU55qE6YWN572u6aG5CiAgICAgICAgLy8g5pu05pawIEV4cFRpbWUxIOmFjee9rumhueeahOWAvAogICAgICAgIHRoaXMuQ0ZXQ29uZmlnSXRlbXNbZXhwVGltZUluZGV4XS52YWx1ZSA9IHZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NGVyBbJyArIGluZGV4ICsgJ10gY29uZmlndXJhdGlvbiBpdGVtIG5vdCBmb3VuZC4nKTsKICAgICAgfQogICAgfSwKICAgIC8vIGNvbmZpcm1Db25maWd1cmF0aW9uKGl0ZW0pIHsKICAgIC8vICAgY29uc29sZS5sb2coYFFIWUNDRCB8IGNvbmZpcm1Db25maWd1cmF0aW9uOiAke2l0ZW0udmFsdWV9YCk7CiAgICAvLyAgIHN3aXRjaCAoaXRlbS5kcml2ZXJUeXBlKSB7CiAgICAvLyAgICAgY2FzZSAnR3VpZGVyJzoKICAgIC8vICAgICBjYXNlICdNYWluQ2FtZXJhJzoKICAgIC8vICAgICAgIHRoaXMuJGJ1cy4kZW1pdChpdGVtLmxhYmVsLCBpdGVtLmxhYmVsICsgJzonICsgaXRlbS52YWx1ZSk7CiAgICAvLyAgICAgY2FzZSAnTW91bnQnOgogICAgLy8gICAgIGNhc2UgJ1RlbGVzY29wZSc6CiAgICAvLyAgICAgY2FzZSAnRm9jdXNlcic6CiAgICAvLyAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdChpdGVtLmxhYmVsLCBpdGVtLnZhbHVlKTsgIC8vUmVkQm94IFNpZGUgTGVuZ3RoIChweCkKICAgIC8vICAgICBjYXNlICdQb2xlQ2FtZXJhJzoKICAgIC8vICAgICBjYXNlICdDRlcnOgogICAgLy8gICAgICAgaWYgKGl0ZW0ubGFiZWwuc3RhcnRzV2l0aCgnQ0ZXIFsnKSkgewogICAgLy8gICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV3ZhbHVlJywgaXRlbS5sYWJlbCsnOicraXRlbS52YWx1ZSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgICBlbHNlIHsKICAgIC8vICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KGl0ZW0ubGFiZWwsIGl0ZW0ubGFiZWwrJzonK2l0ZW0udmFsdWUpOwogICAgLy8gICAgICAgfQogICAgLy8gICB9CiAgICAvLyB9LAogICAgY29uZmlybUNvbmZpZ3VyYXRpb246IGZ1bmN0aW9uIGNvbmZpcm1Db25maWd1cmF0aW9uKExpc3QpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0udmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtLmxhYmVsLCBpdGVtLnZhbHVlKTsKICAgICAgICAgIF90aGlzMTAuU2VuZENvbnNvbGVMb2dNc2coaXRlbS5sYWJlbCArICc6JyArIGl0ZW0udmFsdWUsICdpbmZvJyk7CgogICAgICAgICAgX3RoaXMxMC4kYnVzLiRlbWl0KGl0ZW0ubGFiZWwsIGl0ZW0ubGFiZWwgKyAnOicgKyBpdGVtLnZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udmFsdWUgPT0gJycgJiYgaXRlbS5sYWJlbCA9PT0gJ0ZvY2FsIExlbmd0aCAobW0pJykgewogICAgICAgICAgX3RoaXMxMC5TZW5kQ29uc29sZUxvZ01zZyhpdGVtLmxhYmVsICsgJ2lzIE5VTEwnLCAnaW5mbycpOwoKICAgICAgICAgIF90aGlzMTAuJGJ1cy4kZW1pdChpdGVtLmxhYmVsLCBpdGVtLmxhYmVsICsgJzonKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnQ29uZmlndXJhdGlvbiBoYXMgYmVlbiBtb2RpZmllZCEnLCAnc3VjY2VzcycpOwogICAgfSwKICAgIGxvYWRBbmREaXNwbGF5SW1hZ2U6IGZ1bmN0aW9uIGxvYWRBbmREaXNwbGF5SW1hZ2UoaW1hZ2VQYXRoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3VpZGVyQ2FtZXJhLWNhbnZhcycpOyAvLyBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbWVyYS1jYW52YXMnKTsKCiAgICAgIGlmIChjYW52YXMuZ2V0Q29udGV4dCkgewogICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CgogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7CiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDsKICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdzaG93U29sdmVJbWFnZScsIGltZyk7CiAgICAgICAgfTsgLy8g5re75Yqg6ZSZ6K+v5aSE55CGCgoKICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coIlx1NTJBMFx1OEY3RFx1NTZGRVx1NTBDRlx1NTkzMVx1OEQyNTogIi5jb25jYXQoaW1hZ2VQYXRoKSk7CgogICAgICAgICAgX3RoaXMxMS5TZW5kQ29uc29sZUxvZ01zZygiXHU1MkEwXHU4RjdEXHU1NkZFXHU1MENGXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChpbWFnZVBhdGgpLCAnZXJyb3InKTsKICAgICAgICB9OwoKICAgICAgICBpbWcuc3JjID0gaW1hZ2VQYXRoOwogICAgICB9CiAgICB9LAogICAgSW1hZ2VHYWluU2V0OiBmdW5jdGlvbiBJbWFnZUdhaW5TZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdCwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDJbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MlsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIGRvdWJsZVZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBkb3VibGUg57G75Z6LCgogICAgICBpZiAoc2lnbmFsID09PSAnSW1hZ2VHYWluUicpIHsKICAgICAgICAvLyDlpITnkIYgSW1hZ2VHYWluUiDkv6Hlj7cKICAgICAgICB0aGlzLkltYWdlR2FpblIgPSBkb3VibGVWYWx1ZTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdJbWFnZUdhaW5SIGlzIHNldCB0bzonICsgZG91YmxlVmFsdWUsICdpbmZvJyk7CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnSW1hZ2VHYWluUjonICsgZG91YmxlVmFsdWUpOwogICAgICB9IGVsc2UgaWYgKHNpZ25hbCA9PT0gJ0ltYWdlR2FpbkInKSB7CiAgICAgICAgLy8g5aSE55CGIEltYWdlR2FpbkIg5L+h5Y+3CiAgICAgICAgdGhpcy5JbWFnZUdhaW5CID0gZG91YmxlVmFsdWU7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnSW1hZ2VHYWluQiBpcyBzZXQgdG86JyArIGRvdWJsZVZhbHVlLCAnaW5mbycpOwogICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ0ltYWdlR2FpbkI6JyArIGRvdWJsZVZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIC8vIENhbWVyYU9mZnNldFNldChwYXlsb2FkKSB7CiAgICAvLyAgIGNvbnN0IFtzaWduYWwsIHZhbHVlXSA9IHBheWxvYWQuc3BsaXQoJzonKTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CiAgICAvLyAgIGNvbnN0IGRvdWJsZVZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBkb3VibGUg57G75Z6LCiAgICAvLyAgIGNvbnNvbGUubG9nKCdDYW1lcmFPZmZzZXQgaXMgc2V0IHRvOicsIGRvdWJsZVZhbHVlKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FtZXJhT2Zmc2V0IGlzIHNldCB0bzonICsgZG91YmxlVmFsdWUsICdpbmZvJyk7CiAgICAvLyB9LAogICAgSW1hZ2VPZmZzZXRTZXQ6IGZ1bmN0aW9uIEltYWdlT2Zmc2V0U2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MyA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0NCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MywgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDRbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0NFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIGRvdWJsZVZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBkb3VibGUg57G75Z6LCgogICAgICB0aGlzLkltYWdlT2Zmc2V0ID0gZG91YmxlVmFsdWU7CiAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSBPZmZzZXQgaXMgc2V0IHRvOicsIGRvdWJsZVZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnSW1hZ2UgT2Zmc2V0IGlzIHNldCB0bzonICsgZG91YmxlVmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ0ltYWdlT2Zmc2V0OicgKyBkb3VibGVWYWx1ZSk7CiAgICB9LAogICAgQmlubmluZ1NldDogZnVuY3Rpb24gQmlubmluZ1NldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDUgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDYgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDUsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQ2WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDZbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsgLy8g5bCG5YC86L2s5o2i5Li6IEludCDnsbvlnosKCiAgICAgIHRoaXMuY2FtZXJhQmluID0gSW50VmFsdWU7CiAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSBCaW5uaW5nIGlzIHNldCB0bzonLCBJbnRWYWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ltYWdlIEJpbm5pbmcgaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnU2V0QmlubmluZzonICsgSW50VmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1NldEJpbm5pbmdOdW0nLCBJbnRWYWx1ZSk7CiAgICB9LAogICAgR2FpblNldDogZnVuY3Rpb24gR2FpblNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDcgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDggPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDcsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQ4WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDhbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsgLy8g5bCG5YC86L2s5o2i5Li6IEludCDnsbvlnosKCiAgICAgIGNvbnNvbGUubG9nKCdDYW1lcmEgR2FpbiBpcyBzZXQgdG86JywgSW50VmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYW1lcmEgR2FpbiBpcyBzZXQgdG86JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdTZXRDYW1lcmFHYWluOicgKyBJbnRWYWx1ZSk7CiAgICB9LAogICAgT2Zmc2V0U2V0OiBmdW5jdGlvbiBPZmZzZXRTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQ5ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQxMCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0OSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDEwWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDEwWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBJbnQg57G75Z6LCgogICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIE9mZnNldCBpcyBzZXQgdG86JywgSW50VmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYW1lcmEgT2Zmc2V0IGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ1NldENhbWVyYU9mZnNldDonICsgSW50VmFsdWUpOwogICAgfSwKICAgIEltYWdlQ0ZBU2V0OiBmdW5jdGlvbiBJbWFnZUNGQVNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDExID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQxMiA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MTEsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQxMlswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQxMlsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CiAgICAgIC8vIGlmIChbJ0dSJywgJ0dCJywgJ0JHJywgJ1JHR0InLCdudWxsJ10uaW5jbHVkZXModmFsdWUpKSB7CgoKICAgICAgaWYgKFsnR1InLCAnR0InLCAnQkcnLCAnUkcnLCAnR1JCRycsICdHQlJHJywgJ0JHR1InLCAnUkdHQicsICdudWxsJywgJyddLmluY2x1ZGVzKHZhbHVlKSkgewogICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICAgIHZhbHVlID0gKF9yZWFkT25seUVycm9yKCJ2YWx1ZSIpLCAnbnVsbCcpOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdHUkJHJykgewogICAgICAgICAgdmFsdWUgPSAoX3JlYWRPbmx5RXJyb3IoInZhbHVlIiksICdHUicpOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdHQlJHJykgewogICAgICAgICAgdmFsdWUgPSAoX3JlYWRPbmx5RXJyb3IoInZhbHVlIiksICdHQicpOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdCR0dSJykgewogICAgICAgICAgdmFsdWUgPSAoX3JlYWRPbmx5RXJyb3IoInZhbHVlIiksICdCRycpOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdSRycpIHsKICAgICAgICAgIHZhbHVlID0gKF9yZWFkT25seUVycm9yKCJ2YWx1ZSIpLCAnUkdHQicpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5JbWFnZUNGQSA9IHZhbHVlOyAvLyBjb25zb2xlLmxvZygnSW1hZ2VDRkEgaXMgc2V0IHRvOicsIHZhbHVlKTsKCiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnSW1hZ2VDRkEgaXMgc2V0IHRvOicgKyB2YWx1ZSwgJ2luZm8nKTsKICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdJbWFnZUNGQTonICsgdmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGNvbnNvbGUubG9nKGBJbnZhbGlkIHZhbHVlIGZvciBJbWFnZUNGQTogJyR7dmFsdWV9Jy4gUGxlYXNlIHNldCBpdCB0byBvbmUgb2YgJ0dSJywgJ0dCJywgJ0JHJywgJ1JHR0InLmApOwogICAgICAgIHRoaXMuY2FsbFNob3dNZXNzYWdlQm94KCJJbnZhbGlkIHZhbHVlIGZvciBJbWFnZUNGQTogJyIuY29uY2F0KHZhbHVlLCAiJy4gUGxlYXNlIHNldCBpdCB0byBvbmUgb2YgJ0dSJywgJ0dCJywgJ0JHJywgJ1JHR0InLiIpLCAnZXJyb3InKTsKICAgICAgfQogICAgfSwKICAgIENhbWVyYVRlbXBlcmF0dXJlU2V0OiBmdW5jdGlvbiBDYW1lcmFUZW1wZXJhdHVyZVNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDEzID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQxNCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MTMsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQxNFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQxNFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOyAvLyDlsIblgLzovazmjaLkuLogSW50IOexu+WeiwoKICAgICAgY29uc29sZS5sb2coJ0NhbWVyYSBUZW1wZXJhdHVyZSBpcyBzZXQgdG86JywgSW50VmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYW1lcmEgVGVtcGVyYXR1cmUgaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnU2V0Q2FtZXJhVGVtcGVyYXR1cmU6JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBGb2NhbExlbmd0aFNldDogZnVuY3Rpb24gRm9jYWxMZW5ndGhTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQxNSA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MTYgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDE1LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MTZbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MTZbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5kZXZpY2VzKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfZGV2aWNlNiA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RldmljZTYuZHJpdmVyVHlwZSA9PT0gJ1RlbGVzY29wZXMnKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IE5hTikgewogICAgICAgICAgICAgIF9kZXZpY2U2LmRldmljZSA9ICcnOwogICAgICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ZvY2FsIExlbmd0aCBpcyBzZXQgdG86JyArIDAsICdpbmZvJyk7CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZXRGb2NhbExlbmd0aE51bScsICcnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBJbnQg57G75Z6LCgogICAgICAgICAgICAgIF9kZXZpY2U2LmRldmljZSA9IHZhbHVlICsgJyBtbSc7CiAgICAgICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnRm9jYWwgTGVuZ3RoIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZXRGb2NhbExlbmd0aE51bScsIEludFZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBHdWlkZXJGb2NhbExlbmd0aFNldDogZnVuY3Rpb24gR3VpZGVyRm9jYWxMZW5ndGhTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQxNyA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MTggPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDE3LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MThbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MThbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsgLy8g5bCG5YC86L2s5o2i5Li6IEludCDnsbvlnosKCiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0d1aWRlciBGb2NhbCBMZW5ndGggaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJGb2NhbExlbmd0aDonICsgSW50VmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6R3VpZGVyRm9jYWxMZW5ndGg6JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBNdWx0aVN0YXJHdWlkZXJTZXQ6IGZ1bmN0aW9uIE11bHRpU3Rhckd1aWRlclNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDE5ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQyMCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MTksIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQyMFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQyMFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnTXVsdGkgU3RhciBHdWlkZXIgaXMgc2V0IHRvOicgKyB2YWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdNdWx0aVN0YXJHdWlkZXI6JyArIHZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOk11bHRpU3Rhckd1aWRlcjonICsgdmFsdWUpOwogICAgfSwKICAgIEd1aWRlclBpeGVsU2l6ZVNldDogZnVuY3Rpb24gR3VpZGVyUGl4ZWxTaXplU2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MjEgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDIyID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQyMSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDIyWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDIyWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgZG91YmxlVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnR3VpZGVyIFBpeGVsIHNpemUgaXMgc2V0IHRvOicgKyBkb3VibGVWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJQaXhlbFNpemU6JyArIGRvdWJsZVZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOkd1aWRlclBpeGVsU2l6ZTonICsgZG91YmxlVmFsdWUpOwogICAgfSwKICAgIEd1aWRlckdhaW5TZXQ6IGZ1bmN0aW9uIEd1aWRlckdhaW5TZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQyMyA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MjQgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDIzLCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MjRbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MjRbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnR3VpZGVyIEdhaW4gaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJHYWluOicgKyBJbnRWYWx1ZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2F2ZVRvQ29uZmlnRmlsZTpHdWlkZXJHYWluOicgKyBJbnRWYWx1ZSk7CiAgICB9LAogICAgQ2FsaWJyYXRpb25EdXJhdGlvblNldDogZnVuY3Rpb24gQ2FsaWJyYXRpb25EdXJhdGlvblNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDI1ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQyNiA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MjUsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQyNlswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQyNlsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdHdWlkZXIgQ2FsaWJyYXRpb24gc3RlcCBpcyBzZXQgdG86JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0NhbGlicmF0aW9uRHVyYXRpb246JyArIEludFZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOkNhbGlicmF0aW9uRHVyYXRpb246JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBSYUFnZ3Jlc3Npb25TZXQ6IGZ1bmN0aW9uIFJhQWdncmVzc2lvblNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDI3ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQyOCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MjcsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQyOFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQyOFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdSYSBBZ2dyZXNzaW9uIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnUmFBZ2dyZXNzaW9uOicgKyBJbnRWYWx1ZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2F2ZVRvQ29uZmlnRmlsZTpSYUFnZ3Jlc3Npb246JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBEZWNBZ2dyZXNzaW9uU2V0OiBmdW5jdGlvbiBEZWNBZ2dyZXNzaW9uU2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MjkgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDMwID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQyOSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDMwWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDMwWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0RlYyBBZ2dyZXNzaW9uIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnRGVjQWdncmVzc2lvbjonICsgSW50VmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6RGVjQWdncmVzc2lvbjonICsgSW50VmFsdWUpOwogICAgfSwKICAgIFN5bmNGb2N1c2VyU3RlcDogZnVuY3Rpb24gU3luY0ZvY3VzZXJTdGVwKHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MzEgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDMyID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQzMSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDMyWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDMyWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1N5bmMgRm9jdXNlciBTdGVwOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdTeW5jRm9jdXNlclN0ZXA6JyArIEludFZhbHVlKTsKICAgIH0sCiAgICByZWFkQmluRmlsZTogZnVuY3Rpb24gcmVhZEJpbkZpbGUoZmlsZU5hbWUpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJldHJ5Q291bnQsIHN0YXJ0VGltZSwgcmVzcG9uc2UsIGNvbnRlbnRMZW5ndGgsIHRvdGFsLCBsb2FkZWQsIHJlYWRlciwgc3RyZWFtLCBuZXdSZXNwb25zZSwgYmxvYiwgZmlsZVJlYWRlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXRyeUNvdW50ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiAxOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTIuaXNEb3dubG9hZGluZ0ltYWdlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTIuaXNXYWl0aW5nTG9nZ2VkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBpcyBhbHJlYWR5IGJlaW5nIHByb2Nlc3NlZC4gUGxlYXNlIHdhaXQgZm9yIHRoZSBwcmV2aW91cyBwcm9jZXNzIHRvIGNvbXBsZXRlLicsICd3YXJuaW5nJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczEyLmlzV2FpdGluZ0xvZ2dlZCA9IHRydWU7IC8vIOehruS/neWPquiusOW9leS4gOasoeetieW+heS/oeaBrwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTIuaXNEb3dubG9hZGluZ0ltYWdlTmFtZSA9PT0gZmlsZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMi5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlKCcgKyBmaWxlTmFtZSArICcpIGlzIGFscmVhZHkgcHJvY2Vzc2VkLicsICdpbmZvJyk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfdGhpczEyLmlzRG93bmxvYWRpbmdJbWFnZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpczEyLmlzV2FpdGluZ0xvZ2dlZCA9IGZhbHNlOyAvLyDph43nva7nrYnlvoXml6Xlv5fmoIflv5cKCiAgICAgICAgICAgICAgICBfdGhpczEyLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBSZWFkIGltYWdlKCcgKyBmaWxlTmFtZSArICcpIGRhdGEgc3RhcnQuJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE0OwoKICAgICAgICAgICAgICAgIGlmICghKCFmaWxlTmFtZSB8fCB0eXBlb2YgZmlsZU5hbWUgIT09ICdzdHJpbmcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmaWxlIG5hbWUgcHJvdmlkZWQnKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChmaWxlTmFtZSwgewogICAgICAgICAgICAgICAgICBjYWNoZTogJ25vLXN0b3JlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2suIFN0YXR1czogIi5jb25jYXQocmVzcG9uc2Uuc3RhdHVzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBjb250ZW50TGVuZ3RoID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJyk7CgogICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRMZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQtTGVuZ3RoIGhlYWRlciBpcyBtaXNzaW5nJyk7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICB0b3RhbCA9IHBhcnNlSW50KGNvbnRlbnRMZW5ndGgsIDEwKTsKCiAgICAgICAgICAgICAgICBpZiAoIShpc05hTih0b3RhbCkgfHwgdG90YWwgPD0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29udGVudC1sZW5ndGggdmFsdWUnKTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIGxvYWRlZCA9IDA7CiAgICAgICAgICAgICAgICByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpOwogICAgICAgICAgICAgICAgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHsKICAgICAgICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2goKSB7CiAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZCgpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbmUgPSBfcmVmLmRvbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZCArPSB2YWx1ZS5ieXRlTGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IGxvYWRlZCAvIHRvdGFsICogMTAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgucm91bmQocGVyY2VudCkgJSAxMCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coYFByb2dyZXNzOiAke01hdGgucm91bmQocGVyY2VudCl9JWAsICdpbmZvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi51cGRhdGVDYXB0dXJlSW1hZ2VQcm9ncmVzcyhNYXRoLnJvdW5kKHBlcmNlbnQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKGDlvZPliY3ov5vluqY6ICR7TWF0aC5yb3VuZChwZXJjZW50KX0lYCwgJ2luZm8nKTsKCgogICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICBwdXNoKCk7CiAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtIHJlYWRpbmcgZXJyb3I6JywgZXJyb3IpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5TZW5kQ29uc29sZUxvZ01zZygnU3RyZWFtIHJlYWRpbmcgZXJyb3I6ICcgKyBlcnJvci5tZXNzYWdlLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgcHVzaCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG5ld1Jlc3BvbnNlID0gbmV3IFJlc3BvbnNlKHN0cmVhbSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3UmVzcG9uc2UuYmxvYigpOwoKICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgICAgYmxvYiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBGaWxlUmVhZGVyIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcKICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczEyLkltYWdlQXJyYXlCdWZmZXIgPSBmaWxlUmVhZGVyLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgdmFyIGVuZFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBlbmRUaW1lLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczEyLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBSZWFkIGltYWdlIGRhdGEgZW5kOiAnICsgZWxhcHNlZFRpbWUgKyAnIG1zJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMi5pc1BvbGFyQXhpc01vZGUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmNhbGxTaG93TWVzc2FnZUJveCgiUmVhZCBpbWFnZSBkYXRhIGVuZDogJyIuY29uY2F0KGVsYXBzZWRUaW1lLCAiJyBtcy4iKSwgJ2luZm8nKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5pc0Rvd25sb2FkaW5nSW1hZ2VOYW1lID0gZmlsZU5hbWU7CgogICAgICAgICAgICAgICAgICBfdGhpczEyLnByb2Nlc3NJbWFnZShfdGhpczEyLkltYWdlQXJyYXlCdWZmZXIpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmlsZVJlYWRlciBlcnJvcjonLCBlcnJvcik7CgogICAgICAgICAgICAgICAgICBfdGhpczEyLlNlbmRDb25zb2xlTG9nTXNnKCdGaWxlUmVhZGVyIGVycm9yOiAnICsgZXJyb3IubWVzc2FnZSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0MTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMTQpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBmZXRjaCBvcGVyYXRpb246JywgX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICAgIF90aGlzMTIuU2VuZENvbnNvbGVMb2dNc2coJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOiAnICsgX2NvbnRleHQudDAubWVzc2FnZSwgJ2Vycm9yJyk7IC8vIOS4i+i9veWksei0pe+8jOmHjeivlQoKCiAgICAgICAgICAgICAgICBpZiAoIShyZXRyeUNvdW50ID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmV0cnlpbmcgZG93bmxvYWQuLi4nKTsKCiAgICAgICAgICAgICAgICBfdGhpczEyLlNlbmRDb25zb2xlTG9nTXNnKCdSZXRyeWluZyBkb3dubG9hZC4uLicsICd3YXJuaW5nJyk7CgogICAgICAgICAgICAgICAgX3RoaXMxMi5pc0Rvd25sb2FkaW5nSW1hZ2UgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczEyLnVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKDEwMCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDUyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTIucmVhZEJpbkZpbGUoZmlsZU5hbWUsIHJldHJ5Q291bnQgLSAxKTsKCiAgICAgICAgICAgICAgY2FzZSA1MjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1NTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU0OgogICAgICAgICAgICAgICAgX3RoaXMxMi5TZW5kQ29uc29sZUxvZ01zZygnTWF4IHJldHJpZXMgcmVhY2hlZC4gRG93bmxvYWQgZmFpbGVkLicsICdlcnJvcicpOwoKICAgICAgICAgICAgICBjYXNlIDU1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU1OwogICAgICAgICAgICAgICAgX3RoaXMxMi5pc0Rvd25sb2FkaW5nSW1hZ2UgPSBmYWxzZTsgLy8g56Gu5L+d5Zyo5Lu75L2V5oOF5Ya15LiL6YO96YeN572u54q25oCBCgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCg1NSk7CgogICAgICAgICAgICAgIGNhc2UgNTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzE0LCA0MSwgNTUsIDU4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBhc3luYyByZWFkQmluRmlsZShmaWxlTmFtZSwgcmV0cnlDb3VudCA9IDEpIHsKICAgIC8vICAgd2hpbGUgKHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlKSB7CiAgICAvLyAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTsKICAgIC8vICAgICBpZiAoIXRoaXMuaXNXYWl0aW5nTG9nZ2VkKSB7CiAgICAvLyAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UgaXMgYWxyZWFkeSBiZWluZyBwcm9jZXNzZWQuIFBsZWFzZSB3YWl0IGZvciB0aGUgcHJldmlvdXMgcHJvY2VzcyB0byBjb21wbGV0ZS4nLCAnd2FybmluZycpOwogICAgLy8gICAgICAgdGhpcy5pc1dhaXRpbmdMb2dnZWQgPSB0cnVlOyAvLyDnoa7kv53lj6rorrDlvZXkuIDmrKHnrYnlvoXkv6Hmga8KICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vICAgaWYgKHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlTmFtZSA9PT0gZmlsZU5hbWUpIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UoJyArIGZpbGVOYW1lICsgJykgaXMgYWxyZWFkeSBwcm9jZXNzZWQuJywgJ2luZm8nKTsKICAgIC8vICAgICByZXR1cm47CiAgICAvLyAgIH0KICAgIC8vICAgdGhpcy5pc0Rvd25sb2FkaW5nSW1hZ2UgPSB0cnVlOwogICAgLy8gICB0aGlzLmlzV2FpdGluZ0xvZ2dlZCA9IGZhbHNlOyAvLyDph43nva7nrYnlvoXml6Xlv5fmoIflv5cKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgUmVhZCBpbWFnZSgnICsgZmlsZU5hbWUgKyAnKSBkYXRhIHN0YXJ0LicsICdpbmZvJyk7CiAgICAvLyAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRyeSB7CiAgICAvLyAgICAgLy8gRmV0Y2ggd2l0aCBwcm9ncmVzcyB0cmFja2luZwogICAgLy8gICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmlsZU5hbWUpOwogICAgLy8gICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgIC8vICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC1sZW5ndGgnKTsKICAgIC8vICAgICBpZiAoIWNvbnRlbnRMZW5ndGgpIHsKICAgIC8vICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGVudC1MZW5ndGggaGVhZGVyIGlzIG1pc3NpbmcnKTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgY29uc3QgdG90YWwgPSBwYXJzZUludChjb250ZW50TGVuZ3RoLCAxMCk7CiAgICAvLyAgICAgbGV0IGxvYWRlZCA9IDA7CiAgICAvLyAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTsKICAgIC8vICAgICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oewogICAgLy8gICAgICAgc3RhcnQ6IChjb250cm9sbGVyKSA9PiB7CiAgICAvLyAgICAgICAgIGNvbnN0IHB1c2ggPSAoKSA9PiB7CiAgICAvLyAgICAgICAgICAgcmVhZGVyLnJlYWQoKS50aGVuKCh7IGRvbmUsIHZhbHVlIH0pID0+IHsKICAgIC8vICAgICAgICAgICAgIGlmIChkb25lKSB7CiAgICAvLyAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTsKICAgIC8vICAgICAgICAgICAgICAgcmV0dXJuOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgbG9hZGVkICs9IHZhbHVlLmJ5dGVMZW5ndGg7CiAgICAvLyAgICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gKGxvYWRlZCAvIHRvdGFsKSAqIDEwMDsKICAgIC8vICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKHBlcmNlbnQpICUgMTAgPT09IDApIHsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyhgUHJvZ3Jlc3M6ICR7TWF0aC5yb3VuZChwZXJjZW50KX0lYCwnaW5mbycpOwogICAgLy8gICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKE1hdGgucm91bmQocGVyY2VudCkpOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTsKICAgIC8vICAgICAgICAgICAgIHB1c2goKTsKICAgIC8vICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTdHJlYW0gcmVhZGluZyBlcnJvcjonLCBlcnJvcik7CiAgICAvLyAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTsKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfTsKICAgIC8vICAgICAgICAgcHVzaCgpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pOwogICAgLy8gICAgIGNvbnN0IG5ld1Jlc3BvbnNlID0gbmV3IFJlc3BvbnNlKHN0cmVhbSk7CiAgICAvLyAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG5ld1Jlc3BvbnNlLmJsb2IoKTsKICAgIC8vICAgICAvLyBGaWxlUmVhZGVyIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcKICAgIC8vICAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIC8vICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9ICgpID0+IHsKICAgIC8vICAgICAgIHRoaXMuSW1hZ2VBcnJheUJ1ZmZlciA9IGZpbGVSZWFkZXIucmVzdWx0OwogICAgLy8gICAgICAgY29uc3QgZW5kVGltZSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKTsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IFJlYWQgaW1hZ2UgZGF0YSBlbmQ6ICcgKyBlbGFwc2VkVGltZSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAgICAgaWYgKCF0aGlzLmlzUG9sYXJBeGlzTW9kZSkgewogICAgLy8gICAgICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveChgUmVhZCBpbWFnZSBkYXRhIGVuZDogJyR7ZWxhcHNlZFRpbWV9JyBtcy5gLCAnaW5mbycpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgdGhpcy5pc0Rvd25sb2FkaW5nSW1hZ2VOYW1lID0gZmlsZU5hbWU7CiAgICAvLyAgICAgICB0aGlzLnByb2Nlc3NJbWFnZSh0aGlzLkltYWdlQXJyYXlCdWZmZXIpOwogICAgLy8gICAgIH07CiAgICAvLyAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiB7CiAgICAvLyAgICAgICBjb25zb2xlLmVycm9yKCdGaWxlUmVhZGVyIGVycm9yOicsIGVycm9yKTsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ZpbGVSZWFkZXIgZXJyb3I6JyArIGVycm9yLCAnZXJyb3InKTsKICAgIC8vICAgICB9OwogICAgLy8gICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7CiAgICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAvLyAgICAgY29uc29sZS5lcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBmZXRjaCBvcGVyYXRpb246JywgZXJyb3IpOwogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOicgKyBlcnJvciwgJ2Vycm9yJyk7CiAgICAvLyAgICAgLy8g5LiL6L295aSx6LSl77yM6YeN6K+VCiAgICAvLyAgICAgaWYgKHJldHJ5Q291bnQgPiAwKSB7CiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnUmV0cnlpbmcgZG93bmxvYWQuLi4nKTsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1JldHJ5aW5nIGRvd25sb2FkLi4uJywgJ3dhcm5pbmcnKTsKICAgIC8vICAgICAgIHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlID0gZmFsc2U7CiAgICAvLyAgICAgICB0aGlzLnVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKDEwMCk7CiAgICAvLyAgICAgICBhd2FpdCB0aGlzLnJlYWRCaW5GaWxlKGZpbGVOYW1lLCByZXRyeUNvdW50IC0gMSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9IGZpbmFsbHkgewogICAgLy8gICAgIHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlID0gZmFsc2U7IC8vIOehruS/neWcqOS7u+S9leaDheWGteS4i+mDvemHjee9rueKtuaAgQogICAgLy8gICB9CiAgICAvLyB9LAogICAgdXBkYXRlQ2FwdHVyZUltYWdlUHJvZ3Jlc3M6IGZ1bmN0aW9uIHVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKG51bSkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ1Nob3dDYXB0dXJlSW1hZ2VQcm9ncmVzcycsIG51bSk7CiAgICB9LAogICAgc2V0SW1hZ2VQcm9wb3J0aW9uOiBmdW5jdGlvbiBzZXRJbWFnZVByb3BvcnRpb24odmFsdWUpIHsKICAgICAgdGhpcy5JbWFnZVByb3BvcnRpb24gPSB2YWx1ZTsKICAgIH0sCiAgICBwcm9jZXNzSW1hZ2U6IGZ1bmN0aW9uIHByb2Nlc3NJbWFnZShpbWdBcnJheSkgewogICAgICB2YXIgX2FyZ3VtZW50czIgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBoaXN0b2dyYW1NaW4sIGhpc3RvZ3JhbU1heCwgb3B0aW9ucywgX29wdGlvbnMkY2FsY3VsYXRlSGlzLCBjYWxjdWxhdGVIaXN0b2dyYW0sIG1hdCwgdGFyZ2V0SW1nOCwgcmVzaXplSW1nLCBwcm9jZXNzQXN5bmMsIHVpbnRBcnJheSwgQ0ZBLCBpc0NvbG9yQ2FtZXJhLCBtb2RlLCBibGFja0xldmVsLCB3aGl0ZUxldmVsLCByZXN1bHQsIGFuYWx5c2lzLCBjb2xvckRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBoaXN0b2dyYW1NaW4gPSBfYXJndW1lbnRzMi5sZW5ndGggPiAxICYmIF9hcmd1bWVudHMyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlsxXSA6IC0xOwogICAgICAgICAgICAgICAgaGlzdG9ncmFtTWF4ID0gX2FyZ3VtZW50czIubGVuZ3RoID4gMiAmJiBfYXJndW1lbnRzMlsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czJbMl0gOiAtMTsKICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJndW1lbnRzMi5sZW5ndGggPiAzICYmIF9hcmd1bWVudHMyWzNdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzMlszXSA6IHt9OwogICAgICAgICAgICAgICAgX29wdGlvbnMkY2FsY3VsYXRlSGlzID0gb3B0aW9ucy5jYWxjdWxhdGVIaXN0b2dyYW0sIGNhbGN1bGF0ZUhpc3RvZ3JhbSA9IF9vcHRpb25zJGNhbGN1bGF0ZUhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGNhbGN1bGF0ZUhpczsKICAgICAgICAgICAgICAgIF90aGlzMTMucHJvZ3Jlc3NWYWx1ZSA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzRGVzY3JpcHRpb24gPSBfdGhpczEzLiRpMThuLmxvY2FsZSA9PT0gJ2NuJyA/ICflvIDlp4vlpITnkIblm77lg48uLi4nIDogJ1Byb2Nlc3NpbmcgaW1hZ2UuLi4nOwogICAgICAgICAgICAgICAgbWF0ID0gbnVsbDsKICAgICAgICAgICAgICAgIHRhcmdldEltZzggPSBudWxsOwogICAgICAgICAgICAgICAgcmVzaXplSW1nID0gbnVsbDsgLy8g5L2/55Soc2V0VGltZW91dOWSjFByb21pc2XliJvlu7rpnZ7pmLvloZ7lpITnkIYKCiAgICAgICAgICAgICAgICBwcm9jZXNzQXN5bmMgPSBmdW5jdGlvbiBwcm9jZXNzQXN5bmMoZm4pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZm4oKTsKICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTA7CgogICAgICAgICAgICAgICAgaWYgKCEoIShpbWdBcnJheSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSAmJiAhQXJyYXlCdWZmZXIuaXNWaWV3KGltZ0FycmF5KSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBtdXN0IGJlIEFycmF5QnVmZmVyIG9yIFR5cGVkQXJyYXkiKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHVpbnRBcnJheSA9IG5ldyBVaW50MTZBcnJheShpbWdBcnJheSk7CgogICAgICAgICAgICAgICAgaWYgKCEodWludEFycmF5Lmxlbmd0aCAhPSBwYXJzZUludChfdGhpczEzLm1haW5DYW1lcmFTaXplWSkgKiBwYXJzZUludChfdGhpczEzLm1haW5DYW1lcmFTaXplWCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiSW1hZ2Ugc2l6ZSBtaXNtYXRjaCIpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBtYXQgPSBuZXcgY3YuTWF0KHBhcnNlSW50KF90aGlzMTMubWFpbkNhbWVyYVNpemVZKSwgcGFyc2VJbnQoX3RoaXMxMy5tYWluQ2FtZXJhU2l6ZVgpLCBjdi5DVl8xNlVDMSk7CiAgICAgICAgICAgICAgICAgIG1hdC5kYXRhMTZVLnNldCh1aW50QXJyYXkpOwogICAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzVmFsdWUgPSAxMDsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5wcm9ncmVzc0Rlc2NyaXB0aW9uID0gX3RoaXMxMy4kaTE4bi5sb2NhbGUgPT09ICdjbicgPyAn5Yib5bu6TWF05a+56LGhLi4uJyA6ICdDcmVhdGluZyBNYXQgb2JqZWN0Li4uJzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIC8vIOeUqOaIt+iHquWumuS5ieWPguaVsAogICAgICAgICAgICAgICAgQ0ZBID0gX3RoaXMxMy5JbWFnZUNGQTsKICAgICAgICAgICAgICAgIGlzQ29sb3JDYW1lcmEgPSBmYWxzZTsKICAgICAgICAgICAgICAgIG1vZGUgPSAxOwoKICAgICAgICAgICAgICAgIGlmICghKGhpc3RvZ3JhbU1pbiA9PSAtMSAmJiBoaXN0b2dyYW1NYXggPT0gLTEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc0FzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IF90aGlzMTMuR2V0QXV0b1N0cmV0Y2gobWF0LCBtb2RlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTMucHJvZ3Jlc3NWYWx1ZSA9IDIwOwogICAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzRGVzY3JpcHRpb24gPSBfdGhpczEzLiRpMThuLmxvY2FsZSA9PT0gJ2NuJyA/ICfojrflj5boh6rliqjmi4nkvLjlj4LmlbAuLi4nIDogJ0dldHRpbmcgYXV0byBzdHJldGNoIHBhcmFtZXRlcnMuLi4nOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVzOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUhpc3RvZ3JhbSA9IHRydWU7IC8vIOS7jue7k+aenOS4reaPkOWPluWAvAoKICAgICAgICAgICAgICAgIGJsYWNrTGV2ZWwgPSByZXN1bHQuYmxhY2tMZXZlbDsKICAgICAgICAgICAgICAgIHdoaXRlTGV2ZWwgPSByZXN1bHQud2hpdGVMZXZlbDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIGJsYWNrTGV2ZWwgPSBoaXN0b2dyYW1NaW47IC8vIOeOsOWcqOWPr+S7peato+W4uOW3peS9nAoKICAgICAgICAgICAgICAgIHdoaXRlTGV2ZWwgPSBoaXN0b2dyYW1NYXg7IC8vIOeOsOWcqOWPr+S7peato+W4uOW3peS9nAoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgLy8g5qC55o2uQ0ZB6K6+572u6aKc6Imy6L2s5o2i5qih5byPCiAgICAgICAgICAgICAgICBpZiAoQ0ZBID09PSAnR1InKSB7CiAgICAgICAgICAgICAgICAgIGlzQ29sb3JDYW1lcmEgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChDRkEgPT09ICdHQicpIHsKICAgICAgICAgICAgICAgICAgaXNDb2xvckNhbWVyYSA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKENGQSA9PT0gJ0JHJykgewogICAgICAgICAgICAgICAgICBpc0NvbG9yQ2FtZXJhID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZBID09PSAnUkdHQicpIHsKICAgICAgICAgICAgICAgICAgaXNDb2xvckNhbWVyYSA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBpc0NvbG9yQ2FtZXJhID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuW9k+WJjeaLjeaRhOWPguaVsDppc0NvbG9yQ2FtZXJhOiIsIGlzQ29sb3JDYW1lcmEsICJDRkE6IiwgQ0ZBKTsgLy8g6K6h566X55u05pa55Zu+CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNjsKICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXNDb2xvckNhbWVyYSA/IF90aGlzMTMuYW5hbHl6ZUltYWdlU3RhdGlzdGljcyhtYXQsICdiYXllcicsIENGQSwgewogICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUdhaW46IF90aGlzMTMuY2FsY3VsYXRlR2FpbiwKICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVIaXN0b2dyYW06IGNhbGN1bGF0ZUhpc3RvZ3JhbQogICAgICAgICAgICAgICAgICB9KSA6IF90aGlzMTMuYW5hbHl6ZUltYWdlU3RhdGlzdGljcyhtYXQsICdncmF5JywgewogICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUdhaW46IF90aGlzMTMuY2FsY3VsYXRlR2FpbiwKICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVIaXN0b2dyYW06IGNhbGN1bGF0ZUhpc3RvZ3JhbQogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEzLkltYWdlR2FpblIgIT0gMSB8fCBfdGhpczEzLkltYWdlR2FpbkIgIT0gMSB8fCBfdGhpczEzLkltYWdlT2Zmc2V0ICE9IDApIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQuZ2FpblIgPSBfdGhpczEzLkltYWdlR2FpblI7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmdhaW5CID0gX3RoaXMxMy5JbWFnZUdhaW5COwogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5vZmZzZXQgPSBfdGhpczEzLkltYWdlT2Zmc2V0OwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzVmFsdWUgPSA0MDsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5wcm9ncmVzc0Rlc2NyaXB0aW9uID0gX3RoaXMxMy4kaTE4bi5sb2NhbGUgPT09ICdjbicgPyAn6K6h566X55u05pa55Zu+Li4uJyA6ICdDYWxjdWxhdGluZyBoaXN0b2dyYW0uLi4nOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgICAgICBhbmFseXNpcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChhbmFseXNpcy5oaXN0b2dyYW0pIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy4kYnVzLiRlbWl0KCdzaG93SGlzdG9ncmFtJywgYW5hbHlzaXMuaGlzdG9ncmFtKTsgLy8g5pu05pawIOebtOaWueWbvuaVsOaNrgoKCiAgICAgICAgICAgICAgICAgIF90aGlzMTMuJGJ1cy4kZW1pdCgnQ2hhbmdlRGlhbFBvc2l0aW9uJywgYmxhY2tMZXZlbCwgd2hpdGVMZXZlbCk7IC8vIOabtOaWsOebtOaWueWbvueahOaYvuekuui9tAoKCiAgICAgICAgICAgICAgICAgIF90aGlzMTMuJGJ1cy4kZW1pdCgnQXV0b0hpc3RvZ3JhbU51bScsIGJsYWNrTGV2ZWwsIHdoaXRlTGV2ZWwpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTMubGFzdEltYWdlUHJvY2Vzc1BhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgYmxhY2tMZXZlbDogYmxhY2tMZXZlbCwKICAgICAgICAgICAgICAgICAgd2hpdGVMZXZlbDogd2hpdGVMZXZlbCwKICAgICAgICAgICAgICAgICAgQ0ZBOiBDRkEsCiAgICAgICAgICAgICAgICAgIGFuYWx5c2lzOiBhbmFseXNpcywKICAgICAgICAgICAgICAgICAgaXNDb2xvckNhbWVyYTogaXNDb2xvckNhbWVyYQogICAgICAgICAgICAgICAgfTsgLy8g5L2/55So5aKe55uK5ZKM5ouJ5Ly477yM5bm26L2s5YyW5Li6OOS9jeWbvuWDjwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDE7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc0FzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGlzQ29sb3JDYW1lcmEgPyBfdGhpczEzLmFwcGx5U3RyZXRjaEFuZEdhaW4obWF0LCBhbmFseXNpcywgJ2JheWVyJywgQ0ZBLCBibGFja0xldmVsLCB3aGl0ZUxldmVsKSA6IF90aGlzMTMuYXBwbHlTdHJldGNoQW5kR2FpbihtYXQsIGFuYWx5c2lzLCAnZ3JheScsIENGQSwgYmxhY2tMZXZlbCwgd2hpdGVMZXZlbCk7IC8vIOmHiuaUvm1hdAoKICAgICAgICAgICAgICAgICAgaWYgKG1hdCkgewogICAgICAgICAgICAgICAgICAgIG1hdC5kZWxldGUoKTsKICAgICAgICAgICAgICAgICAgICBtYXQgPSBudWxsOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzVmFsdWUgPSA2MDsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5wcm9ncmVzc0Rlc2NyaXB0aW9uID0gX3RoaXMxMy4kaTE4bi5sb2NhbGUgPT09ICdjbicgPyAn5qC55o2u5Y+C5pWw5aSE55CGLi4uJyA6ICdQcm9jZXNzaW5nIHdpdGggcGFyYW1ldGVycy4uLic7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIHRhcmdldEltZzggPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTMuaXNQb2xhckF4aXNNb2RlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc0FzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmVzaXplSW1nID0gbmV3IGN2Lk1hdCgpOwogICAgICAgICAgICAgICAgICBjdi5yZXNpemUodGFyZ2V0SW1nOCwgcmVzaXplSW1nLCBuZXcgY3YuU2l6ZShfdGhpczEzLkNhbnZhc1dpZHRoLCBfdGhpczEzLkNhbnZhc0hlaWdodCksIDAsIDAsIGN2LklOVEVSX0xJTkVBUik7CgogICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SW1nOCkgewogICAgICAgICAgICAgICAgICAgIHRhcmdldEltZzguZGVsZXRlKCk7CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW1nOCA9IG51bGw7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMTMucHJvZ3Jlc3NWYWx1ZSA9IDA7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDU6CiAgICAgICAgICAgICAgICBfdGhpczEzLiRidXMuJGVtaXQoJ3Nob3dTb2x2ZUltYWdlJywgcmVzaXplSW1nKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzaXplSW1nKSB7CiAgICAgICAgICAgICAgICAgIHJlc2l6ZUltZy5kZWxldGUoKTsKICAgICAgICAgICAgICAgICAgcmVzaXplSW1nID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDUxOwogICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NBc3luYyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkodGFyZ2V0SW1nOC5kYXRhKSwgdGFyZ2V0SW1nOC5jb2xzLCB0YXJnZXRJbWc4LnJvd3MpOwoKICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEltZzgpIHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXRJbWc4LmRlbGV0ZSgpOwogICAgICAgICAgICAgICAgICAgIHRhcmdldEltZzggPSBudWxsOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocmVzaXplSW1nKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzaXplSW1nLmRlbGV0ZSgpOwogICAgICAgICAgICAgICAgICAgIHJlc2l6ZUltZyA9IG51bGw7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMTMucHJvZ3Jlc3NWYWx1ZSA9IDgwOwogICAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzRGVzY3JpcHRpb24gPSBfdGhpczEzLiRpMThuLmxvY2FsZSA9PT0gJ2NuJyA/ICfovazmjaLkuLpJbWFnZURhdGHlr7nosaEuLi4nIDogJ0NvbnZlcnRpbmcgdG8gSW1hZ2VEYXRhIG9iamVjdC4uLic7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNTE6CiAgICAgICAgICAgICAgICBjb2xvckRhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMTMuZHJhd0ltZ0RhdGEgPSB0cnVlOyAvLyDorr7nva7nvJPlhrLnlLvluIMKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU1OwogICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NBc3luYyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTMuYnVmZmVyQ2FudmFzLndpZHRoID0gY29sb3JEYXRhLndpZHRoOwogICAgICAgICAgICAgICAgICBfdGhpczEzLmJ1ZmZlckNhbnZhcy5oZWlnaHQgPSBjb2xvckRhdGEuaGVpZ2h0OwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5idWZmZXJDdHgucHV0SW1hZ2VEYXRhKGNvbG9yRGF0YSwgMCwgMCk7CgogICAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzVmFsdWUgPSA5MDsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5wcm9ncmVzc0Rlc2NyaXB0aW9uID0gX3RoaXMxMy4kaTE4bi5sb2NhbGUgPT09ICdjbicgPyAn57uY5Yi257yT5Yay55S75biD5Zu+5YOPLi4uJyA6ICdEcmF3aW5nIGJ1ZmZlciBjYW52YXMgaW1hZ2UuLi4nOwogICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU1OgogICAgICAgICAgICAgICAgLy8g57uY5Yi25Li755S75biD5Zu+5YOPCiAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzVmFsdWUgPSAxMDA7CiAgICAgICAgICAgICAgICBfdGhpczEzLnByb2dyZXNzRGVzY3JpcHRpb24gPSBfdGhpczEzLiRpMThuLmxvY2FsZSA9PT0gJ2NuJyA/ICfnu5jliLbkuLvnlLvluIPlm77lg48uLi4nIDogJ0RyYXdpbmcgbWFpbiBjYW52YXMgaW1hZ2UuLi4nOwoKICAgICAgICAgICAgICAgIF90aGlzMTMuZHJhd0ltYWdlRGF0YSgpOwoKICAgICAgICAgICAgICBjYXNlIDU4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2NTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDYwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA2MDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxMCk7CgogICAgICAgICAgICAgICAgX3RoaXMxMy5oYW5kbGVFcnJvcignUHJvY2VzcyBpbWFnZSBkYXRhIGVycm9yJywgJ3Byb2Nlc3NJbWFnZScsIF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgICAgX3RoaXMxMy5wcm9ncmVzc1ZhbHVlID0gMDsKICAgICAgICAgICAgICAgIF90aGlzMTMucHJvZ3Jlc3NEZXNjcmlwdGlvbiA9ICcnOwoKICAgICAgICAgICAgICBjYXNlIDY1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA2NTsKICAgICAgICAgICAgICAgIF90aGlzMTMucHJvZ3Jlc3NWYWx1ZSA9IDA7IC8vIOehruS/neaJgOaciU1hdOWvueixoemDveiiq+mHiuaUvgoKICAgICAgICAgICAgICAgIGlmIChtYXQpIHsKICAgICAgICAgICAgICAgICAgbWF0LmRlbGV0ZSgpOwogICAgICAgICAgICAgICAgICBtYXQgPSBudWxsOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh0YXJnZXRJbWc4KSB7CiAgICAgICAgICAgICAgICAgIHRhcmdldEltZzguZGVsZXRlKCk7CiAgICAgICAgICAgICAgICAgIHRhcmdldEltZzggPSBudWxsOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChyZXNpemVJbWcpIHsKICAgICAgICAgICAgICAgICAgcmVzaXplSW1nLmRlbGV0ZSgpOwogICAgICAgICAgICAgICAgICByZXNpemVJbWcgPSBudWxsOwogICAgICAgICAgICAgICAgfSAvLyDlpITnkIblkI7mo4Dmn6XlhoXlrZgKCgogICAgICAgICAgICAgICAgX3RoaXMxMy5jaGVja01lbW9yeVVzYWdlKCk7IC8vIOWcqOWkhOeQhuWujOWkp+mHj+aVsOaNruWQjuaJi+WKqOivt+axguWeg+WcvuWbnuaUtgoKCiAgICAgICAgICAgICAgICBpZiAod2luZG93LmdjKSB7CiAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmdjKCk7CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goNjUpOwoKICAgICAgICAgICAgICBjYXNlIDczOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEwLCA2MCwgNjUsIDczXV0pOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5boh6rliqjmi4nkvLjlj4LmlbDvvIzov5Tlm57pu5HoibLlkoznmb3oibLpmIjlgLwKICAgICAqIEBwYXJhbSB7Y3YuTWF0fSBpbWdNYXQg6L6T5YWl55qE5Zu+5YOPTWF05a+56LGhCiAgICAgKiBAcGFyYW0ge2ludH0gbW9kZSDmqKHlvI8KICAgICAqIEByZXR1cm5zIHtpbnTvvIxpbnR9IOm7keiJsuWSjOeZveiJsumYiOWAvAogICAgICovCiAgICBHZXRBdXRvU3RyZXRjaDogZnVuY3Rpb24gR2V0QXV0b1N0cmV0Y2goaW1nTWF0LCBtb2RlKSB7CiAgICAgIC8vIOS7heaUr+aMgSBNYXQg57G75Z6L6L6T5YWl77yM5bm25YGH5a6a5Li6MTbkvY3lm77lg48KICAgICAgLy8g5L2/55SoIE9wZW5DViDnmoQgbWVhblN0ZERldiDlh73mlbDnm7TmjqXorqHnrpflnYflgLzlkozmoIflh4blt64KICAgICAgdmFyIG1lYW5zID0gbmV3IGN2Lk1hdCgpOwogICAgICB2YXIgc3RkRGV2cyA9IG5ldyBjdi5NYXQoKTsgLy8g6auY5pWI6K6h566X5Z2H5YC85ZKM5qCH5YeG5beuCgogICAgICBjdi5tZWFuU3RkRGV2KGltZ01hdCwgbWVhbnMsIHN0ZERldnMpOyAvLyDojrflj5borqHnrpfnu5PmnpwKCiAgICAgIHZhciBtZWFuID0gbWVhbnMuZG91YmxlQXQoMCwgMCk7CiAgICAgIHZhciBzdGREZXYgPSBzdGREZXZzLmRvdWJsZUF0KDAsIDApOyAvLyDph4rmlL7kuLTml7YgTWF0IOWvueixoQoKICAgICAgbWVhbnMuZGVsZXRlKCk7CiAgICAgIHN0ZERldnMuZGVsZXRlKCk7IC8vIOagueaNruaooeW8j+iuvue9ruagh+WHhuW3ruWAjeaVsAoKICAgICAgdmFyIGEsIGI7CgogICAgICBzd2l0Y2ggKG1vZGUpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBhID0gMzsKICAgICAgICAgIGIgPSA1OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIGEgPSAyOwogICAgICAgICAgYiA9IDU7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgYSA9IDM7CiAgICAgICAgICBiID0gODsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYSA9IDI7CiAgICAgICAgICBiID0gODsKICAgICAgfSAvLyDlm7rlrprkuLoxNuS9jeWbvuWDj+WkhOeQhgoKCiAgICAgIHZhciBtYXhWYWx1ZSA9IDY1NTM1OyAvLyDorqHnrpfpu5Hnmb3ngrkKCiAgICAgIHZhciBibGFja0xldmVsID0gTWF0aC5yb3VuZChNYXRoLm1heCgwLCBtZWFuIC0gc3RkRGV2ICogYSkpOwogICAgICB2YXIgd2hpdGVMZXZlbCA9IE1hdGgucm91bmQoTWF0aC5taW4obWF4VmFsdWUsIG1lYW4gKyBzdGREZXYgKiBiKSk7IC8vIOehruS/nSBibGFja0xldmVsIDwgd2hpdGVMZXZlbAoKICAgICAgaWYgKGJsYWNrTGV2ZWwgPj0gd2hpdGVMZXZlbCkgewogICAgICAgIGJsYWNrTGV2ZWwgPSB3aGl0ZUxldmVsIC0gMTsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBibGFja0xldmVsOiBibGFja0xldmVsLAogICAgICAgIHdoaXRlTGV2ZWw6IHdoaXRlTGV2ZWwKICAgICAgfTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDliIbmnpAxNuS9jeWbvuWDj+W5tuiuoeeul+ebtOaWueWbvuWSjOeZveW5s+ihoeWinuebigogICAgICogQHBhcmFtIHtjdi5NYXR9IGltZzE2IC0g6L6T5YWl55qEMTbkvY3lm77lg49NYXTlr7nosaEKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVR5cGUgLSDlm77lg4/nsbvlnos6ICdncmF5JyjngbDluqblm74pIOaIliAnYmF5ZXInKEJheWVy5qC85byPKQogICAgICogQHBhcmFtIHtzdHJpbmd9IGJheWVyUGF0dGVybiAtIEJheWVy5qih5byP77yM5aaC5p6caW1hZ2VUeXBl5Li6J2JheWVyJ+WImemcgOaPkOS+mzogJ1JHR0InLCAnR1InLCAnR0InLCAnQkcnCiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIOWPr+mAieWPguaVsAogICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuYmlucyAtIOebtOaWueWbvueuseaVsO+8jOm7mOiupDI1NgogICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmNhbGN1bGF0ZUdhaW4gLSDmmK/lkKborqHnrpfnmb3lubPooaHlop7nm4rlj4LmlbDvvIzpu5jorqR0cnVlCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMudXNlUGVyY2VudGlsZSAtIOaYr+WQpuS9v+eUqOeZvuWIhuS9jeiuoeeul+Winuebiu+8jOm7mOiupHRydWUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmxvd1BlcmNlbnRpbGUgLSDkuIvmiKrmlq3nmb7liIbkvY3vvIzpu5jorqQxCiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5oaWdoUGVyY2VudGlsZSAtIOS4iuaIquaWreeZvuWIhuS9je+8jOm7mOiupDk5CiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSDnm7Tmlrnlm77mlbDmja7lkozlop7nm4rlj4LmlbAKICAgICAqLwogICAgYW5hbHl6ZUltYWdlU3RhdGlzdGljczogZnVuY3Rpb24gYW5hbHl6ZUltYWdlU3RhdGlzdGljcyhpbWcxNiwgaW1hZ2VUeXBlKSB7CiAgICAgIHZhciBiYXllclBhdHRlcm4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdSR0dCJzsKICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9OwoKICAgICAgLy8g6aaW5YWI5qOA5p+l6L6T5YWlTWF05piv5ZCm5pyJ5pWICiAgICAgIGlmICghaW1nMTYgfHwgaW1nMTYucm93cyA8PSAwIHx8IGltZzE2LmNvbHMgPD0gMCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aXoOaViOeahOWbvuWDj+aVsOaNricpOwogICAgICAgIHJldHVybiB7fTsKICAgICAgfQoKICAgICAgdmFyIF9vcHRpb25zJGNhbGN1bGF0ZUdhaSA9IG9wdGlvbnMuY2FsY3VsYXRlR2FpbiwKICAgICAgICAgIGNhbGN1bGF0ZUdhaW4gPSBfb3B0aW9ucyRjYWxjdWxhdGVHYWkgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRjYWxjdWxhdGVHYWksCiAgICAgICAgICBfb3B0aW9ucyRjYWxjdWxhdGVIaXMyID0gb3B0aW9ucy5jYWxjdWxhdGVIaXN0b2dyYW0sCiAgICAgICAgICBjYWxjdWxhdGVIaXN0b2dyYW0gPSBfb3B0aW9ucyRjYWxjdWxhdGVIaXMyID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkY2FsY3VsYXRlSGlzMjsKICAgICAgdmFyIHJlc3VsdCA9IHt9OyAvLyDorr7nva7nm7Tmlrnlm77lj4LmlbAKCiAgICAgIHZhciBzdGVwID0gNDsgLy8g5a6J5YWo6K6/6Zeu5Ye95pWwCgogICAgICB2YXIgc2FmZVVzaG9ydEF0ID0gZnVuY3Rpb24gc2FmZVVzaG9ydEF0KG1hdCwgeSwgeCkgewogICAgICAgIGlmICh5ID49IDAgJiYgeSA8IG1hdC5yb3dzICYmIHggPj0gMCAmJiB4IDwgbWF0LmNvbHMpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBtYXQudXNob3J0QXQoeSwgeCk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1OEJCRlx1OTVFRVx1NEY0RFx1N0Y2RVx1OTUxOVx1OEJFRjogKCIuY29uY2F0KHksICIsIikuY29uY2F0KHgsICIpIikpOwogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAwOwogICAgICB9OyAvLyDlronlhajmjqnnoIHorr7nva4KCgogICAgICB2YXIgc2FmZVVjaGFyQXQgPSBmdW5jdGlvbiBzYWZlVWNoYXJBdChtYXNrLCB5LCB4LCB2YWx1ZSkgewogICAgICAgIGlmICh5ID49IDAgJiYgeSA8IG1hc2sucm93cyAmJiB4ID49IDAgJiYgeCA8IG1hc2suY29scykgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbWFzay51Y2hhckF0KHksIHgsIHZhbHVlKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiXHU4QkJFXHU3RjZFXHU2M0E5XHU3ODAxXHU5NTE5XHU4QkVGOiAoIi5jb25jYXQoeSwgIiwiKS5jb25jYXQoeCwgIikiKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKGltYWdlVHlwZSA9PT0gJ2dyYXknKSB7CiAgICAgICAgaWYgKGNhbGN1bGF0ZUhpc3RvZ3JhbSkgewogICAgICAgICAgLy8g6K6h566X55u05pa55Zu+CiAgICAgICAgICB2YXIgaGlzdERhdGEgPSBBcnJheSg2NTUzNikuZmlsbCgwKTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltZzE2LnJvd3M7IGkgKz0gc3RlcCkgewogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGltZzE2LmNvbHM7IGogKz0gc3RlcCkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBoaXN0RGF0YVtzYWZlVXNob3J0QXQoaW1nMTYsIGksIGopXSsrOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsvLyDlv73nlaXplJnor6/nu6fnu63miafooYwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXN1bHQuaGlzdG9ncmFtID0gaGlzdERhdGE7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGltYWdlVHlwZSA9PT0gJ2JheWVyJykgewogICAgICAgIC8vIOehruS/neWbvuWDj+Wkp+Wwj+i2s+Wkn+i/m+ihjEJheWVy5aSE55CGCiAgICAgICAgaWYgKGltZzE2LnJvd3MgPCAyIHx8IGltZzE2LmNvbHMgPCAyKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCflm77lg4/lsLrlr7jov4flsI/vvIzml6Dms5Xov5vooYxCYXllcuWkhOeQhicpOwogICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgIH0KCiAgICAgICAgdmFyIHJvd3MgPSBpbWcxNi5yb3dzOwogICAgICAgIHZhciBjb2xzID0gaW1nMTYuY29sczsgLy8g5Yib5bu65o6p56CBIC0g5L2/55So56iA55aP6YeH5qC3CgogICAgICAgIHZhciBtYXNrUiA9IG5ldyBjdi5NYXQocm93cywgY29scywgY3YuQ1ZfOFVDMSwgbmV3IGN2LlNjYWxhcigwKSk7CiAgICAgICAgdmFyIG1hc2tHID0gbmV3IGN2Lk1hdChyb3dzLCBjb2xzLCBjdi5DVl84VUMxLCBuZXcgY3YuU2NhbGFyKDApKTsKICAgICAgICB2YXIgbWFza0IgPSBuZXcgY3YuTWF0KHJvd3MsIGNvbHMsIGN2LkNWXzhVQzEsIG5ldyBjdi5TY2FsYXIoMCkpOyAvLyDnoa7lrprph4fmoLfmraXplb8gLSDlpKflm77lg4/ml7bph4fnlKjmm7TlpKfmraXplb8KCiAgICAgICAgdmFyIHNhbXBsZVN0ZXAgPSBNYXRoLm1heCgyLCBNYXRoLmZsb29yKE1hdGgubWluKHJvd3MsIGNvbHMpIC8gMjAwKSAqIDIpOyAvLyDnoa7lrppCYXllcuaooeW8j+S9jee9rgoKICAgICAgICB2YXIgck9mZnNldHMsIGdPZmZzZXRzLCBiT2Zmc2V0czsKCiAgICAgICAgc3dpdGNoIChiYXllclBhdHRlcm4pIHsKICAgICAgICAgIGNhc2UgJ1JHR0InOgogICAgICAgICAgICByT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBnT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0dSJzoKICAgICAgICAgICAgZ09mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICByT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBiT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdHQic6CiAgICAgICAgICAgIGdPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYk9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgck9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnQkcnOgogICAgICAgICAgICBiT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBnT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIHJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGdPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYk9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICB9IC8vIOmHh+agt+aVsOaNrueUqOS6juWinuebiuiuoeeulwoKCiAgICAgICAgdmFyIHJWYWx1ZXMgPSBbXTsKICAgICAgICB2YXIgZ1ZhbHVlcyA9IFtdOwogICAgICAgIHZhciBiVmFsdWVzID0gW107IC8vIOmHh+agt+iuvue9ruaOqeeggeWSjOaUtumbhumHh+agt+aVsOaNrgoKICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHJvd3M7IHkgKz0gc2FtcGxlU3RlcCkgewogICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBjb2xzOyB4ICs9IHNhbXBsZVN0ZXApIHsKICAgICAgICAgICAgLy8g5aSE55CG57qi6Imy6YCa6YGTCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIock9mZnNldHMpLAogICAgICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIHBvcyA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgICAgICAgIHZhciBweSA9IHkgKyBwb3MueTsKICAgICAgICAgICAgICAgIHZhciBweCA9IHggKyBwb3MueDsKCiAgICAgICAgICAgICAgICBpZiAocHkgPCByb3dzICYmIHB4IDwgY29scyAmJiBweSA+PSAwICYmIHB4ID49IDApIHsKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBtYXNrUi51Y2hhckF0KHB5LCBweCwgMjU1KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZUdhaW4gJiYgeSAlIChzYW1wbGVTdGVwICogMikgPT09IDAgJiYgeCAlIChzYW1wbGVTdGVwICogMikgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIHJWYWx1ZXMucHVzaChzYWZlVXNob3J0QXQoaW1nMTYsIHB5LCBweCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlJcdTkwMUFcdTkwNTNcdTk1MTlcdThCRUZcdUZGMUEoIi5jb25jYXQocHksICIsIikuY29uY2F0KHB4LCAiKSIpLCBlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gLy8g5aSE55CG57u/6Imy6YCa6YGTCgogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihnT2Zmc2V0cyksCiAgICAgICAgICAgICAgICBfc3RlcDQ7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgX3BvcyA9IF9zdGVwNC52YWx1ZTsKCiAgICAgICAgICAgICAgICB2YXIgX3B5ID0geSArIF9wb3MueTsKCiAgICAgICAgICAgICAgICB2YXIgX3B4ID0geCArIF9wb3MueDsKCiAgICAgICAgICAgICAgICBpZiAoX3B5IDwgcm93cyAmJiBfcHggPCBjb2xzICYmIF9weSA+PSAwICYmIF9weCA+PSAwKSB7CiAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgbWFza0cudWNoYXJBdChfcHksIF9weCwgMjU1KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZUdhaW4gJiYgeSAlIChzYW1wbGVTdGVwICogMikgPT09IDAgJiYgeCAlIChzYW1wbGVTdGVwICogMikgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIGdWYWx1ZXMucHVzaChzYWZlVXNob3J0QXQoaW1nMTYsIF9weSwgX3B4KSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiR1x1OTAxQVx1OTA1M1x1OTUxOVx1OEJFRlx1RkYxQSgiLmNvbmNhdChfcHksICIsIikuY29uY2F0KF9weCwgIikiKSwgZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIOWkhOeQhuiTneiJsumAmumBkwoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYk9mZnNldHMpLAogICAgICAgICAgICAgICAgX3N0ZXA1OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIF9wb3MyID0gX3N0ZXA1LnZhbHVlOwoKICAgICAgICAgICAgICAgIHZhciBfcHkyID0geSArIF9wb3MyLnk7CgogICAgICAgICAgICAgICAgdmFyIF9weDIgPSB4ICsgX3BvczIueDsKCiAgICAgICAgICAgICAgICBpZiAoX3B5MiA8IHJvd3MgJiYgX3B4MiA8IGNvbHMgJiYgX3B5MiA+PSAwICYmIF9weDIgPj0gMCkgewogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIG1hc2tCLnVjaGFyQXQoX3B5MiwgX3B4MiwgMjU1KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZUdhaW4gJiYgeSAlIChzYW1wbGVTdGVwICogMikgPT09IDAgJiYgeCAlIChzYW1wbGVTdGVwICogMikgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIGJWYWx1ZXMucHVzaChzYWZlVXNob3J0QXQoaW1nMTYsIF9weTIsIF9weDIpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJCXHU5MDFBXHU5MDUzXHU5NTE5XHU4QkVGXHVGRjFBKCIuY29uY2F0KF9weTIsICIsIikuY29uY2F0KF9weDIsICIpIiksIGUpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGNhbGN1bGF0ZUhpc3RvZ3JhbSkgewogICAgICAgICAgLy8g6K6h566X5LiJ5Liq6YCa6YGT55qE55u05pa55Zu+CiAgICAgICAgICB2YXIgaGlzdERhdGFSID0gQXJyYXkoNjU1MzYpLmZpbGwoMCk7CiAgICAgICAgICB2YXIgaGlzdERhdGFHID0gQXJyYXkoNjU1MzYpLmZpbGwoMCk7CiAgICAgICAgICB2YXIgaGlzdERhdGFCID0gQXJyYXkoNjU1MzYpLmZpbGwoMCk7IC8vIOehruS/neWuieWFqOiuv+mXrgoKICAgICAgICAgIHZhciBtYXhSb3dzID0gcm93cyAtIDE7CiAgICAgICAgICB2YXIgbWF4Q29scyA9IGNvbHMgLSAxOwoKICAgICAgICAgIGZvciAodmFyIF9pNiA9IDA7IF9pNiA8IG1heFJvd3M7IF9pNiArPSAyKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9qID0gMDsgX2ogPCBtYXhDb2xzOyBfaiArPSAyKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmIChiYXllclBhdHRlcm4gPT09ICdSR0dCJykgewogICAgICAgICAgICAgICAgICBoaXN0RGF0YVJbc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYsIF9qKV0rKzsKICAgICAgICAgICAgICAgICAgdmFyIGcxID0gc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYgKyAxLCBfaik7CiAgICAgICAgICAgICAgICAgIHZhciBnMiA9IHNhZmVVc2hvcnRBdChpbWcxNiwgX2k2LCBfaiArIDEpOwogICAgICAgICAgICAgICAgICBoaXN0RGF0YUdbTWF0aC5mbG9vcigoZzEgKyBnMikgLyAyKV0rKzsKICAgICAgICAgICAgICAgICAgaGlzdERhdGFCW3NhZmVVc2hvcnRBdChpbWcxNiwgX2k2ICsgMSwgX2ogKyAxKV0rKzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmF5ZXJQYXR0ZXJuID09PSAnR1InKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfZyA9IHNhZmVVc2hvcnRBdChpbWcxNiwgX2k2LCBfaik7CgogICAgICAgICAgICAgICAgICB2YXIgX2cyID0gc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYgKyAxLCBfaiArIDEpOwoKICAgICAgICAgICAgICAgICAgaGlzdERhdGFHW01hdGguZmxvb3IoKF9nICsgX2cyKSAvIDIpXSsrOwogICAgICAgICAgICAgICAgICBoaXN0RGF0YVJbc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYgKyAxLCBfaildKys7CiAgICAgICAgICAgICAgICAgIGhpc3REYXRhQltzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiwgX2ogKyAxKV0rKzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmF5ZXJQYXR0ZXJuID09PSAnR0InKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfZzMgPSBzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiwgX2opOwoKICAgICAgICAgICAgICAgICAgdmFyIF9nNCA9IHNhZmVVc2hvcnRBdChpbWcxNiwgX2k2ICsgMSwgX2ogKyAxKTsKCiAgICAgICAgICAgICAgICAgIGhpc3REYXRhR1tNYXRoLmZsb29yKChfZzMgKyBfZzQpIC8gMildKys7CiAgICAgICAgICAgICAgICAgIGhpc3REYXRhQltzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiArIDEsIF9qKV0rKzsKICAgICAgICAgICAgICAgICAgaGlzdERhdGFSW3NhZmVVc2hvcnRBdChpbWcxNiwgX2k2LCBfaiArIDEpXSsrOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiYXllclBhdHRlcm4gPT09ICdCRycpIHsKICAgICAgICAgICAgICAgICAgaGlzdERhdGFCW3NhZmVVc2hvcnRBdChpbWcxNiwgX2k2LCBfaildKys7CgogICAgICAgICAgICAgICAgICB2YXIgX2c1ID0gc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYgKyAxLCBfaik7CgogICAgICAgICAgICAgICAgICB2YXIgX2c2ID0gc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYsIF9qICsgMSk7CgogICAgICAgICAgICAgICAgICBoaXN0RGF0YUdbTWF0aC5mbG9vcigoX2c1ICsgX2c2KSAvIDIpXSsrOwogICAgICAgICAgICAgICAgICBoaXN0RGF0YVJbc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYgKyAxLCBfaiArIDEpXSsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1NzZGNFx1NjVCOVx1NTZGRVx1OEJBMVx1N0I5N1x1OTUxOVx1OEJFRlx1RkYxQSgiLmNvbmNhdChfaTYsICIsIikuY29uY2F0KF9qLCAiKSIpLCBlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXN1bHQuaGlzdG9ncmFtID0gW2hpc3REYXRhUiwgaGlzdERhdGFHLCBoaXN0RGF0YUJdOwogICAgICAgIH0gLy8g6K6h566X55m95bmz6KGh5aKe55uK5Y+C5pWwIC0g5L2/55So5b+r6YCf5Lit5L2N5pWw6L+R5Ly85rOVCgoKICAgICAgICBpZiAoY2FsY3VsYXRlR2FpbiAmJiByVmFsdWVzLmxlbmd0aCA+IDAgJiYgZ1ZhbHVlcy5sZW5ndGggPiAwICYmIGJWYWx1ZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8g5b+r6YCf6K6h566X5Lit5L2N5pWw6ICM6Z2e5o6S5bqP5YWo6YOo5pWw57uECiAgICAgICAgICAgIHZhciByTWVhbiA9IHRoaXMudHJ1bmNhdGVkTWVhbihyVmFsdWVzKTsKICAgICAgICAgICAgdmFyIGdNZWFuID0gdGhpcy50cnVuY2F0ZWRNZWFuKGdWYWx1ZXMpOwogICAgICAgICAgICB2YXIgYk1lYW4gPSB0aGlzLnRydW5jYXRlZE1lYW4oYlZhbHVlcyk7IC8vIOiuoeeul+WinuebigoKICAgICAgICAgICAgdmFyIGdhaW5SID0gTWF0aC5taW4oTWF0aC5tYXgoZ01lYW4gLyByTWVhbiwgMC4xKSwgMik7CiAgICAgICAgICAgIHZhciBnYWluQiA9IE1hdGgubWluKE1hdGgubWF4KGdNZWFuIC8gYk1lYW4sIDAuMSksIDIpOwogICAgICAgICAgICByZXN1bHQud2hpdGVCYWxhbmNlID0gewogICAgICAgICAgICAgIGdhaW5SOiBnYWluUiwKICAgICAgICAgICAgICBnYWluQjogZ2FpbkIKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigi55m95bmz6KGh5aKe55uK6K6h566X6ZSZ6K+vIiwgZSk7CiAgICAgICAgICAgIHJlc3VsdC53aGl0ZUJhbGFuY2UgPSB7CiAgICAgICAgICAgICAgZ2FpblI6IDEuMCwKICAgICAgICAgICAgICBnYWluQjogMS4wCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfSAvLyDph4rmlL7otYTmupAKCgogICAgICAgIHRyeSB7CiAgICAgICAgICBtYXNrUi5kZWxldGUoKTsKICAgICAgICAgIG1hc2tHLmRlbGV0ZSgpOwogICAgICAgICAgbWFza0IuZGVsZXRlKCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgY29uc29sZS5lcnJvcigi6YeK5pS+6LWE5rqQ6ZSZ6K+vIiwgZSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKCiAgICAvKioKICAgICAqIOS9v+eUqOaIquaWreWdh+WAvOiuoeeulyAtIOWOu+mZpOS4iuS4i+S4gOWumuavlOS+i+eahOaegeWAvOWQjuiuoeeul+W5s+Wdh+WAvAogICAgICogQHBhcmFtIHtBcnJheX0gYXJyIC0g6L6T5YWl5pWw5o2u5pWw57uECiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXJQZXJjZW50IC0g5LiL5oiq5pat55m+5YiG5q+U77yM6buY6K6kNSUKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlclBlcmNlbnQgLSDkuIrmiKrmlq3nmb7liIbmr5TvvIzpu5jorqQ1JQogICAgICogQHJldHVybnMge251bWJlcn0g5oiq5pat5Z2H5YC8CiAgICAgKi8KICAgIHRydW5jYXRlZE1lYW46IGZ1bmN0aW9uIHRydW5jYXRlZE1lYW4oYXJyKSB7CiAgICAgIHZhciBsb3dlclBlcmNlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDU7CiAgICAgIHZhciB1cHBlclBlcmNlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDU7CiAgICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSByZXR1cm4gMDsgLy8g6L+H5ruk5p6B56uv6buR54K55ZKM6L+H6aWx5ZKM54K5CgogICAgICB2YXIgZmlsdGVyZWQgPSBhcnIuZmlsdGVyKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYgPiAxMDAgJiYgdiA8IDY1MDAwOwogICAgICB9KTsKICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGFyci5sZW5ndGggPiAwID8gYXJyWzBdIDogMDsgLy8g5a+55LqO54m55Yir5aSn55qE5pWw57uE77yM6YeH5qC35aSE55CGCgogICAgICB2YXIgd29ya2luZ0FycmF5ID0gZmlsdGVyZWQ7CgogICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID4gMTAwMDApIHsKICAgICAgICB3b3JraW5nQXJyYXkgPSBbXTsKICAgICAgICB2YXIgc3RlcCA9IE1hdGguY2VpbChmaWx0ZXJlZC5sZW5ndGggLyA1MDAwKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJlZC5sZW5ndGg7IGkgKz0gc3RlcCkgewogICAgICAgICAgd29ya2luZ0FycmF5LnB1c2goZmlsdGVyZWRbaV0pOwogICAgICAgIH0KICAgICAgfSAvLyDmjpLluo/mlbDnu4QKCgogICAgICB3b3JraW5nQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgfSk7IC8vIOiuoeeul+aIquaWreeCuQoKICAgICAgdmFyIGxvd2VyQ3V0b2ZmID0gTWF0aC5mbG9vcih3b3JraW5nQXJyYXkubGVuZ3RoICogKGxvd2VyUGVyY2VudCAvIDEwMCkpOwogICAgICB2YXIgdXBwZXJDdXRvZmYgPSBNYXRoLmZsb29yKHdvcmtpbmdBcnJheS5sZW5ndGggKiAoMSAtIHVwcGVyUGVyY2VudCAvIDEwMCkpOyAvLyDojrflj5bmiKrmlq3lkI7nmoTlrZDmlbDnu4QKCiAgICAgIHZhciB0cnVuY2F0ZWQgPSB3b3JraW5nQXJyYXkuc2xpY2UobG93ZXJDdXRvZmYsIHVwcGVyQ3V0b2ZmKTsgLy8g6K6h566X5bmz5Z2H5YC8CgogICAgICBpZiAodHJ1bmNhdGVkLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHdvcmtpbmdBcnJheVtNYXRoLmZsb29yKHdvcmtpbmdBcnJheS5sZW5ndGggLyAyKV07CiAgICAgIHZhciBzdW0gPSB0cnVuY2F0ZWQucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHZhbCkgewogICAgICAgIHJldHVybiBhY2MgKyB2YWw7CiAgICAgIH0sIDApOwogICAgICByZXR1cm4gc3VtIC8gdHJ1bmNhdGVkLmxlbmd0aDsKICAgIH0sCgogICAgLyoqCiAgICAgKiDlv6vpgJ/orqHnrpfkuK3kvY3mlbAgLSDkvb/nlKjpmo/mnLrpgInmi6nnrpfms5UKICAgICAqLwogICAgcXVpY2tNZWRpYW46IGZ1bmN0aW9uIHF1aWNrTWVkaWFuKGFycikgewogICAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7CgogICAgICBpZiAoYXJyLmxlbmd0aCA8IDEwMCkgewogICAgICAgIC8vIOWwj+aVsOe7hOebtOaOpeaOkuW6jwogICAgICAgIHZhciBzb3J0ZWRBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiBzb3J0ZWRBcnJbTWF0aC5mbG9vcihzb3J0ZWRBcnIubGVuZ3RoIC8gMildOwogICAgICB9IC8vIOWkp+aVsOe7hOmaj+acuumHh+agtwoKCiAgICAgIHZhciBzYW1wbGVzID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwMDsgaSsrKSB7CiAgICAgICAgc2FtcGxlcy5wdXNoKGFycltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnIubGVuZ3RoKV0pOwogICAgICB9CgogICAgICBzYW1wbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgIH0pOwogICAgICByZXR1cm4gc2FtcGxlc1s1MF07IC8vIOi/lOWbnumHh+agt+eahOS4reS9jeaVsAogICAgfSwKCiAgICAvKioKICAgICAqIOW6lOeUqOeZveW5s+ihoeWSjOS6ruW6puaLieS8uO+8jOWwhjE25L2N5Zu+5YOP6L2s5o2i5Li6OOS9jeWbvuWDjwogICAgICogQHBhcmFtIHtjdi5NYXR9IGltZzE2IC0g6L6T5YWl55qEMTbkvY3lm77lg49NYXTlr7nosaEKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmFseXNpcyAtIOS7jmFuYWx5emVJbWFnZVN0YXRpc3RpY3Pojrflj5bnmoTliIbmnpDnu5PmnpwKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVR5cGUgLSDlm77lg4/nsbvlnos6ICdncmF5JyjngbDluqblm74pIOaIliAnYmF5ZXInKOW9qeiJsuebuOacuikKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXllclBhdHRlcm4gLSBCYXllcuaooeW8j++8jOS7heW9k2ltYWdlVHlwZeS4uidiYXllcifml7bpnIDopoEKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHJldGNoUGFyYW1zIC0g5omL5Yqo5oyH5a6a5ouJ5Ly45Y+C5pWw77yM5Y+v6YCJCiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZXRjaFBhcmFtcy5ibGFja0xldmVsIC0g6buR54K55YC8IAogICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmV0Y2hQYXJhbXMud2hpdGVMZXZlbCAtIOeZveeCueWAvAogICAgICogQHJldHVybnMge2N2Lk1hdH0g5aSE55CG5ZCO55qEOOS9jVJHQkHlm77lg48KICAgICAqLwogICAgYXBwbHlTdHJldGNoQW5kR2FpbjogZnVuY3Rpb24gYXBwbHlTdHJldGNoQW5kR2FpbihpbWcxNiwgYW5hbHlzaXMsIGltYWdlVHlwZSkgewogICAgICB2YXIgYmF5ZXJQYXR0ZXJuID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnUkdHQic7CiAgICAgIHZhciBibGFja0xldmVsID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgPyBhcmd1bWVudHNbNF0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciB3aGl0ZUxldmVsID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7CgogICAgICAvLyDnoa7kv53pu5HngrnlsI/kuo7nmb3ngrkKICAgICAgaWYgKGJsYWNrTGV2ZWwgPj0gd2hpdGVMZXZlbCkgewogICAgICAgIGJsYWNrTGV2ZWwgPSB3aGl0ZUxldmVsIC0gMTsKICAgICAgfSAvLyDorqHnrpfovazmjaLmr5TkvovlkozlgY/np7sKCgogICAgICB2YXIgc2NhbGUgPSAyNTUuMCAvICh3aGl0ZUxldmVsIC0gYmxhY2tMZXZlbCk7CiAgICAgIHZhciBvZmZzZXQgPSAtYmxhY2tMZXZlbCAqIHNjYWxlOwoKICAgICAgaWYgKGltYWdlVHlwZSA9PT0gJ2dyYXknKSB7CiAgICAgICAgLy8g5Y2V6Imy55u45py6IC0g5LiA5q2l6L2s5o2i5YiwOOS9jVJHQkEKICAgICAgICB2YXIgcmdiYUltZyA9IG5ldyBjdi5NYXQoKTsKICAgICAgICB2YXIgZ3JheTggPSBuZXcgY3YuTWF0KCk7CiAgICAgICAgaW1nMTYuY29udmVydFRvKGdyYXk4LCBjdi5DVl84VSwgc2NhbGUsIG9mZnNldCk7CiAgICAgICAgY3YuY3Z0Q29sb3IoZ3JheTgsIHJnYmFJbWcsIGN2LkNPTE9SX0dSQVkyUkdCQSk7CiAgICAgICAgZ3JheTguZGVsZXRlKCk7CiAgICAgICAgcmV0dXJuIHJnYmFJbWc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5b2p6Imy55u45py65aSE55CGCiAgICAgICAgdmFyIGdhaW5SID0gMS4wLAogICAgICAgICAgICBnYWluQiA9IDEuMDsKCiAgICAgICAgaWYgKGFuYWx5c2lzICYmIGFuYWx5c2lzLndoaXRlQmFsYW5jZSkgewogICAgICAgICAgZ2FpblIgPSBhbmFseXNpcy53aGl0ZUJhbGFuY2UuZ2FpblI7CiAgICAgICAgICBnYWluQiA9IGFuYWx5c2lzLndoaXRlQmFsYW5jZS5nYWluQjsKICAgICAgICB9IC8vIOS9v+eUqExVVOS8mOWMlueZveW5s+ihoeWSjOaLieS8uAogICAgICAgIC8vIDEuIOWIm+W7uuS4ieS4qkxVVOihqAoKCiAgICAgICAgdmFyIF90aGlzJGdldExVVCA9IHRoaXMuZ2V0TFVUKGJsYWNrTGV2ZWwsIHdoaXRlTGV2ZWwsIGdhaW5SLCBnYWluQiksCiAgICAgICAgICAgIGx1dFIgPSBfdGhpcyRnZXRMVVQubHV0UiwKICAgICAgICAgICAgbHV0RyA9IF90aGlzJGdldExVVC5sdXRHLAogICAgICAgICAgICBsdXRCID0gX3RoaXMkZ2V0TFVULmx1dEI7IC8vIDMuIOWIm+W7ujjkvY3ovpPlh7rlm77lg48KCgogICAgICAgIHZhciBpbWc4ID0gbmV3IGN2Lk1hdChpbWcxNi5yb3dzLCBpbWcxNi5jb2xzLCBjdi5DVl84VUMxKTsgLy8gNC4g5L2/55SoTFVU5bqU55So55m95bmz6KGh5ZKM5ouJ5Ly4CiAgICAgICAgLy8g5Li66YG/5YWN5YOP57Sg6YGN5Y6G77yM5oiR5Lus5L2/55So5pu06auY5pWI55qE5pa55byPCgogICAgICAgIHZhciByb3dzID0gaW1nMTYucm93czsKICAgICAgICB2YXIgY29scyA9IGltZzE2LmNvbHM7CiAgICAgICAgdmFyIGRhdGE4ID0gaW1nOC5kYXRhOyAvLyDnoa7lrppCYXllcuaooeW8j+eahOS9jee9rgoKICAgICAgICB2YXIgck9mZnNldHMsIGdPZmZzZXRzLCBiT2Zmc2V0czsKCiAgICAgICAgc3dpdGNoIChiYXllclBhdHRlcm4pIHsKICAgICAgICAgIGNhc2UgJ1JHR0InOgogICAgICAgICAgICByT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBnT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0dSJzoKICAgICAgICAgICAgZ09mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICByT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBiT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdHQic6CiAgICAgICAgICAgIGdPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYk9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgck9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnQkcnOgogICAgICAgICAgICBiT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBnT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIHJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGdPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYk9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICB9IC8vIOS9v+eUqFR5cGVkQXJyYXnmlrnlvI/lpITnkIYgLSDmr5TpgJDkuKrlg4/ntKDlpITnkIbmm7Tlv6sKCgogICAgICAgIHZhciBkYXRhMTZVID0gaW1nMTYuZGF0YTE2VTsgLy8g5L2/55SoQmF5ZXLmjqnnoIHliJvlu7rovazmjaJMVVTvvIzmibnph4/lpITnkIYKCiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCByb3dzOyB5ICs9IDIpIHsKICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgY29sczsgeCArPSAyKSB7CiAgICAgICAgICAgIC8vIOWkhOeQhjJ4MuWdlwogICAgICAgICAgICAvLyBS5L2N572uCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIock9mZnNldHMpLAogICAgICAgICAgICAgICAgX3N0ZXA2OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIHBvcyA9IF9zdGVwNi52YWx1ZTsKICAgICAgICAgICAgICAgIHZhciBpZHggPSAoeSArIHBvcy55KSAqIGNvbHMgKyAoeCArIHBvcy54KTsKCiAgICAgICAgICAgICAgICBpZiAoaWR4IDwgZGF0YTE2VS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgZGF0YThbaWR4XSA9IGx1dFJbZGF0YTE2VVtpZHhdXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIEfkvY3nva4KCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjYuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjYuZigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGdPZmZzZXRzKSwKICAgICAgICAgICAgICAgIF9zdGVwNzsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I3LnMoKTsgIShfc3RlcDcgPSBfaXRlcmF0b3I3Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBfcG9zMyA9IF9zdGVwNy52YWx1ZTsKCiAgICAgICAgICAgICAgICB2YXIgX2lkeCA9ICh5ICsgX3BvczMueSkgKiBjb2xzICsgKHggKyBfcG9zMy54KTsKCiAgICAgICAgICAgICAgICBpZiAoX2lkeCA8IGRhdGExNlUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIGRhdGE4W19pZHhdID0gbHV0R1tkYXRhMTZVW19pZHhdXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIELkvY3nva4KCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjcuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjcuZigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGJPZmZzZXRzKSwKICAgICAgICAgICAgICAgIF9zdGVwODsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBfcG9zNCA9IF9zdGVwOC52YWx1ZTsKCiAgICAgICAgICAgICAgICB2YXIgX2lkeDIgPSAoeSArIF9wb3M0LnkpICogY29scyArICh4ICsgX3BvczQueCk7CgogICAgICAgICAgICAgICAgaWYgKF9pZHgyIDwgZGF0YTE2VS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgZGF0YThbX2lkeDJdID0gbHV0QltkYXRhMTZVW19pZHgyXV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3I4LmUoZXJyKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBfaXRlcmF0b3I4LmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gLy8gNS4g5bCGOOS9jeWNlemAmumBk+i9rOS4ulJHQkEKCgogICAgICAgIHZhciBfcmdiYUltZyA9IG5ldyBjdi5NYXQoKTsKCiAgICAgICAgdmFyIGN2bW9kZTsKCiAgICAgICAgc3dpdGNoIChiYXllclBhdHRlcm4pIHsKICAgICAgICAgIGNhc2UgJ1JHR0InOgogICAgICAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9CYXllclJHMlJHQkE7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0dSJzoKICAgICAgICAgICAgY3Ztb2RlID0gY3YuQ09MT1JfQmF5ZXJHUjJSR0JBOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdHQic6CiAgICAgICAgICAgIGN2bW9kZSA9IGN2LkNPTE9SX0JheWVyR0IyUkdCQTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnQkcnOgogICAgICAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9CYXllckJHMlJHQkE7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGN2bW9kZSA9IGN2LkNPTE9SX0JheWVyUkcyUkdCQTsKICAgICAgICB9CgogICAgICAgIGN2LmN2dENvbG9yKGltZzgsIF9yZ2JhSW1nLCBjdm1vZGUpOwogICAgICAgIGltZzguZGVsZXRlKCk7CiAgICAgICAgcmV0dXJuIF9yZ2JhSW1nOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICog6I635Y+W5oiW6K6h566XTFVU6KGoCiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmxhY2tMZXZlbCAtIOm7keeCueWAvAogICAgICogQHBhcmFtIHtudW1iZXJ9IHdoaXRlTGV2ZWwgLSDnmb3ngrnlgLwKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBnYWluUiAtIOe6ouiJsuWinuebigogICAgICogQHBhcmFtIHtudW1iZXJ9IGdhaW5CIC0g6JOd6Imy5aKe55uKCiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSDljIXlkKtMVVTooajnmoRPYmplY3QKICAgICAqLwogICAgZ2V0TFVUOiBmdW5jdGlvbiBnZXRMVVQoYmxhY2tMZXZlbCwgd2hpdGVMZXZlbCwgZ2FpblIsIGdhaW5CKSB7CiAgICAgIC8vIOWIm+W7uuW9k+WJjeWPguaVsOeahOW/q+eFpwogICAgICB2YXIgY3VycmVudFBhcmFtcyA9ICIiLmNvbmNhdChibGFja0xldmVsLCAiXyIpLmNvbmNhdCh3aGl0ZUxldmVsLCAiXyIpLmNvbmNhdChnYWluUiwgIl8iKS5jb25jYXQoZ2FpbkIpOyAvLyDlpoLmnpzlj4LmlbDmnKrlj5jljJbvvIznm7TmjqXov5Tlm57nvJPlrZjnmoRMVVTooagKCiAgICAgIGlmICh0aGlzLmx1dENhY2hlLmxhc3RQYXJhbXMgPT09IGN1cnJlbnRQYXJhbXMgJiYgdGhpcy5sdXRDYWNoZS5sdXRSICYmIHRoaXMubHV0Q2FjaGUubHV0RyAmJiB0aGlzLmx1dENhY2hlLmx1dEIpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbHV0UjogdGhpcy5sdXRDYWNoZS5sdXRSLAogICAgICAgICAgbHV0RzogdGhpcy5sdXRDYWNoZS5sdXRHLAogICAgICAgICAgbHV0QjogdGhpcy5sdXRDYWNoZS5sdXRCCiAgICAgICAgfTsKICAgICAgfSAvLyDlj4LmlbDlj5jljJbvvIzpnIDopoHph43mlrDorqHnrpdMVVTooagKCgogICAgICBjb25zb2xlLmxvZygn6YeN5paw6K6h566XTFVU6KGoJyk7IC8vIOiuoeeul+i9rOaNouavlOS+iwoKICAgICAgdmFyIHNjYWxlID0gMjU1LjAgLyAod2hpdGVMZXZlbCAtIGJsYWNrTGV2ZWwpOyAvLyDliJvlu7pMVVTooagKCiAgICAgIHZhciBsdXRSID0gdGhpcy5sdXRDYWNoZS5sdXRSIHx8IG5ldyBVaW50OEFycmF5KDY1NTM2KTsKICAgICAgdmFyIGx1dEcgPSB0aGlzLmx1dENhY2hlLmx1dEcgfHwgbmV3IFVpbnQ4QXJyYXkoNjU1MzYpOwogICAgICB2YXIgbHV0QiA9IHRoaXMubHV0Q2FjaGUubHV0QiB8fCBuZXcgVWludDhBcnJheSg2NTUzNik7IC8vIOiuoeeul0xVVOihqAoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2NTUzNjsgaSsrKSB7CiAgICAgICAgbHV0UltpXSA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCgoaSAqIGdhaW5SIC0gYmxhY2tMZXZlbCkgKiBzY2FsZSkpKTsKICAgICAgICBsdXRHW2ldID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKChpIC0gYmxhY2tMZXZlbCkgKiBzY2FsZSkpKTsKICAgICAgICBsdXRCW2ldID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKChpICogZ2FpbkIgLSBibGFja0xldmVsKSAqIHNjYWxlKSkpOwogICAgICB9IC8vIOabtOaWsOe8k+WtmAoKCiAgICAgIHRoaXMubHV0Q2FjaGUubGFzdFBhcmFtcyA9IGN1cnJlbnRQYXJhbXM7CiAgICAgIHRoaXMubHV0Q2FjaGUubHV0UiA9IGx1dFI7CiAgICAgIHRoaXMubHV0Q2FjaGUubHV0RyA9IGx1dEc7CiAgICAgIHRoaXMubHV0Q2FjaGUubHV0QiA9IGx1dEI7CiAgICAgIHJldHVybiB7CiAgICAgICAgbHV0UjogbHV0UiwKICAgICAgICBsdXRHOiBsdXRHLAogICAgICAgIGx1dEI6IGx1dEIKICAgICAgfTsKICAgIH0sCiAgICAvLyBjaGVja0ltYWdlRGF0YShpbWcpIHsKICAgIC8vICAgLy8g5qOA5p+l5piv5ZCm5Li6IGN2Lk1hdCDnsbvlnosKICAgIC8vICAgaWYgKCEoaW1nIGluc3RhbmNlb2YgY3YuTWF0KSkgewogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBpcyBub3QgYSB2YWxpZCBjdi5NYXQgb2JqZWN0LicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICAvLyDmo4Dmn6Xlm77lg4/mmK/lkKbkuLrnqboKICAgIC8vICAgaWYgKGltZy5lbXB0eSgpKSB7CiAgICAvLyAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlIGlzIGVtcHR5LicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICAvLyDmo4Dmn6Xlm77lg4/mt7HluqbmmK/lkKbkuLogOCDkvY3miJYgMTYg5L2NCiAgICAvLyAgIGNvbnN0IGRlcHRoID0gaW1nLnR5cGUoKSAmIGN2LkNWX01BVF9ERVBUSF9NQVNLOwogICAgLy8gICBpZiAoZGVwdGggIT09IGN2LkNWXzhVICYmIGRlcHRoICE9PSBjdi5DVl8xNlUpIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UgZGVwdGggaXMgbm90IDgtYml0IG9yIDE2LWJpdC4nLCAnZXJyb3InKTsKICAgIC8vICAgICByZXR1cm4gZmFsc2U7CiAgICAvLyAgIH0KICAgIC8vICAgLy8g5qOA5p+l5Zu+5YOP5bC65a+45piv5ZCm5ZCI55CGCiAgICAvLyAgIGlmIChpbWcucm93cyA8PSAwIHx8IGltZy5jb2xzIDw9IDApIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UgZGltZW5zaW9ucyBhcmUgbm90IHZhbGlkLicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICAvLyDmo4Dmn6Xlm77lg4/mlbDmja7mmK/lkKbotoXlh7rojIPlm7TmiJblhajkuLowCiAgICAvLyAgIGNvbnN0IGRhdGEgPSBpbWcuZGF0YTsKICAgIC8vICAgbGV0IGlzQWxsWmVybyA9IHRydWU7CiAgICAvLyAgIGNvbnN0IG1heFZhbHVlID0gZGVwdGggPT09IGN2LkNWXzhVID8gMjU1IDogNjU1MzU7CiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgLy8gICAgIGlmIChkYXRhW2ldIDwgMCB8fCBkYXRhW2ldID4gbWF4VmFsdWUpIHsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBkYXRhIGNvbnRhaW5zIG91dC1vZi1yYW5nZSB2YWx1ZXMuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgICByZXR1cm4gZmFsc2U7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmIChkYXRhW2ldICE9PSAwKSB7CiAgICAvLyAgICAgICBpc0FsbFplcm8gPSBmYWxzZTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vICAgaWYgKGlzQWxsWmVybykgewogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBkYXRhIGlzIGFsbCB6ZXJvLicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICByZXR1cm4gdHJ1ZTsKICAgIC8vIH0sCiAgICAvLyBwcm9jZXNzSW1hZ2UoaW1nQXJyYXkpIHsKICAgIC8vICAgdGhpcy5wcm9ncmVzc1ZhbHVlID0gMDsKICAgIC8vICAgdHJ5IHsKICAgIC8vICAgICBpZiAoIShpbWdBcnJheSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSAmJiAhQXJyYXlCdWZmZXIuaXNWaWV3KGltZ0FycmF5KSkgewogICAgLy8gICAgICAgdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBtdXN0IGJlIEFycmF5QnVmZmVyIG9yIFR5cGVkQXJyYXkiKTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgY29uc3QgdG90YWxTdGFydFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyDmgLvlvIDlp4vml7bpl7QKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBQcm9jZXNzIGltYWdlIGRhdGEgc3RhcnQuJywgJ2luZm8nKTsKICAgIC8vICAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgLy8gICAgIGxldCBpbWdfYml0ID0gLTE7CiAgICAvLyAgICAgbGV0IHVpbnRBcnJheTsKICAgIC8vICAgICBpZiAoaW1nQXJyYXkuYnl0ZUxlbmd0aCA9PT0gdGhpcy5tYWluQ2FtZXJhU2l6ZVggKiB0aGlzLm1haW5DYW1lcmFTaXplWSAqIDIgKXsKICAgIC8vICAgICAgIHVpbnRBcnJheSA9IG5ldyBVaW50MTZBcnJheShpbWdBcnJheSk7CiAgICAvLyAgICAgICBpbWdfYml0ID0gMTY7CiAgICAvLyAgICAgfWVsc2UgaWYoaW1nQXJyYXkuYnl0ZUxlbmd0aCA9PT0gdGhpcy5tYWluQ2FtZXJhU2l6ZVggKiB0aGlzLm1haW5DYW1lcmFTaXplWSl7CiAgICAvLyAgICAgICB1aW50QXJyYXkgPSBuZXcgVWludDhBcnJheShpbWdBcnJheSk7CiAgICAvLyAgICAgICBpbWdfYml0ID0gODsKICAgIC8vICAgICB9ZWxzZXsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coYEltYWdlIGRhdGEgaXMgdW5kZXJmaW5kIGJpdGAsICdlcnJvcicpOwogICAgLy8gICAgICAgcmV0dXJuOwogICAgLy8gICAgIH0KICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKGBJbWFnZSBkYXRhIGRldGVjdGVkIGFzICR7aW1nX2JpdH0tYml0LmAsICdpbmZvJyk7CiAgICAvLyAgICAgLy8g6K6+572u55S75biD5a696auY5bi46YePCiAgICAvLyAgICAgY29uc3QgY2FudmFzV2lkdGggPSBwYXJzZUludCh0aGlzLm1haW5DYW1lcmFTaXplWCk7CiAgICAvLyAgICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gcGFyc2VJbnQodGhpcy5tYWluQ2FtZXJhU2l6ZVkpOwogICAgLy8gICAgIC8vIOiOt+WPluWOn+Wni+eUu+W4g+WSjOS/ruaUueWQjueahOeUu+W4g+S7peWPiuWvueW6lOS4iuS4i+aWhwogICAgLy8gICAgIGNvbnN0IG1vZGlmaWVkQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5DYW1lcmEtY2FudmFzJyk7CiAgICAvLyAgICAgY29uc3QgbW9kaWZpZWRDdHggPSBtb2RpZmllZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgLy8gICAgIG1vZGlmaWVkQ2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7CiAgICAvLyAgICAgbW9kaWZpZWRDYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0OwogICAgLy8gICAgIGxldCBtYXQ7CiAgICAvLyAgICAgaWYgKGltZ19iaXQgPT09IDE2KXsKICAgIC8vICAgICAgIG1hdCA9IG5ldyBjdi5NYXQoY2FudmFzSGVpZ2h0LCBjYW52YXNXaWR0aCwgY3YuQ1ZfMTZVQzEpOwogICAgLy8gICAgICAgbWF0LmRhdGExNlUuc2V0KHVpbnRBcnJheSk7CiAgICAvLyAgICAgfWVsc2V7CiAgICAvLyAgICAgICBtYXQgPSBuZXcgY3YuTWF0KGNhbnZhc0hlaWdodCwgY2FudmFzV2lkdGgsIGN2LkNWXzhVQzEpOwogICAgLy8gICAgICAgbWF0LmRhdGEuc2V0KHVpbnRBcnJheSk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IDEwOwogICAgLy8gICAgIGNvbnN0IG1hdEVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBtYXQg57uT5p2f5pe26Ze0CiAgICAvLyAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgTWF0IGNyZWF0aW9uIHRpbWU6ICcgKyAobWF0RW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAgIC8vIOeUqOaIt+iHquWumuS5ieWPguaVsAogICAgLy8gICAgIGxldCBnYWluUiA9IHRoaXMuSW1hZ2VHYWluUjsKICAgIC8vICAgICBsZXQgZ2FpbkIgPSB0aGlzLkltYWdlR2FpbkI7CiAgICAvLyAgICAgbGV0IG9mZnNldCA9IHRoaXMuSW1hZ2VPZmZzZXQ7CiAgICAvLyAgICAgbGV0IENGQSA9IHRoaXMuSW1hZ2VDRkE7CiAgICAvLyAgICAgbGV0IG1vZGUgPSAxOwogICAgLy8gICAgIC8vIOWPguaVsAogICAgLy8gICAgIGxldCBCID0gMDsKICAgIC8vICAgICBsZXQgVyA9IDY1NTM1OwogICAgLy8gICAgIGxldCBjdm1vZGUgPSAwOwogICAgLy8gICAgIGNvbnN0IHsgYmxhY2tMZXZlbCwgd2hpdGVMZXZlbCB9ID0gdGhpcy5HZXRBdXRvU3RyZXRjaCh1aW50QXJyYXksIG1vZGUsIGltZ19iaXQpOwogICAgLy8gICAgIEIgPSBibGFja0xldmVsOwogICAgLy8gICAgIFcgPSB3aGl0ZUxldmVsOwogICAgLy8gICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IDMwOwogICAgLy8gICAgIGNvbnN0IEdldEF1dG9TdHJldGNoRW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIEdldEF1dG9TdHJldGNoIOe7k+adn+aXtumXtAogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IEdldEF1dG9TdHJldGNoIHRpbWU6ICcgKyAoR2V0QXV0b1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSAtIG1hdEVuZFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAgIC8vIOagueaNrkNGQeiuvue9ruminOiJsui9rOaNouaooeW8jwogICAgLy8gICAgIGlmIChDRkEgPT09ICdHUicpIHsKICAgIC8vICAgICAgIGN2bW9kZSA9IGN2LkNPTE9SX0JheWVyR1IyUkdCQTsKICAgIC8vICAgICB9IGVsc2UgaWYgKENGQSA9PT0gJ0dCJykgewogICAgLy8gICAgICAgY3Ztb2RlID0gY3YuQ09MT1JfQmF5ZXJHQjJSR0JBOwogICAgLy8gICAgIH0gZWxzZSBpZiAoQ0ZBID09PSAnQkcnKSB7CiAgICAvLyAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9CYXllckJHMlJHQkE7CiAgICAvLyAgICAgfSBlbHNlIGlmIChDRkEgPT09ICdSR0dCJykgewogICAgLy8gICAgICAgY3Ztb2RlID0gY3YuQ09MT1JfQmF5ZXJSRzJSR0JBOwogICAgLy8gICAgIH1lbHNlewogICAgLy8gICAgICAgY3Ztb2RlID0gY3YuQ09MT1JfR1JBWTJSR0JBCiAgICAvLyAgICAgfQogICAgLy8gICAgIC8vIOWvueebruagh+WbvuWDj+i/m+ihjOminOiJsui9rOaNogogICAgLy8gICAgIGxldCBkc3QgPSBuZXcgY3YuTWF0KCk7CiAgICAvLyAgICAgdHJ5IHsKICAgIC8vICAgICAgIGN2LmN2dENvbG9yKG1hdCwgZHN0LCBjdm1vZGUpOwogICAgLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAvLyAgICAgICB0aGlzLmhhbmRsZUVycm9yKCdjdnRDb2xvciDlh7rplJknLCAnY3Z0Q29sb3InLCBlcnJvcik7CiAgICAvLyAgICAgICBtYXQuZGVsZXRlKCk7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfQogICAgLy8gICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IDUwOwogICAgLy8gICAgIGNvbnN0IGN2dENvbG9yRW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIGN2dENvbG9yIOe7k+adn+aXtumXtAogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IGN2dENvbG9yIHRpbWU6ICcgKyAoY3Z0Q29sb3JFbmRUaW1lLmdldFRpbWUoKSAtIEdldEF1dG9TdHJldGNoRW5kVGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgICAgbWF0LmRlbGV0ZSgpOwogICAgLy8gICAgIC8vIOiwg+aVtOWbvuWDj+Wkp+WwjwogICAgLy8gICAgIC8vIGN2LnJlc2l6ZShkc3QsIHJlc2l6ZUltZywgbmV3IGN2LlNpemUodGhpcy5DYW52YXNXaWR0aCwgdGhpcy5DYW52YXNIZWlnaHQpLCAwLCAwLCBjdi5JTlRFUl9MSU5FQVIpOwogICAgLy8gICAgIC8vIGRzdC5kZWxldGUoKTsKICAgIC8vICAgICAvLyBsZXQgb3JpZ2luYWxJbWc4ID0gdGhpcy5CaXQxNlRvOF9TdHJldGNoKHJlc2l6ZUltZywgQiwgVyk7CiAgICAvLyAgICAgLy8gcmVzaXplSW1nLmRlbGV0ZSgpOwogICAgLy8gICAgIGxldCByZXNpemVJbWcgPSBuZXcgY3YuTWF0KCk7IC8vIOeUqOadpeWtmOWCqOiwg+aVtOWQjueahOWbvuWDjwogICAgLy8gICAgIGlmICh0aGlzLmlzUG9sYXJBeGlzTW9kZSkgewogICAgLy8gICAgICAgdGhpcy5wcm9ncmVzc1ZhbHVlID0gMDsKICAgIC8vICAgICAgIC8vIOiwg+aVtOWbvuWDj+Wkp+WwjwogICAgLy8gICAgICAgY3YucmVzaXplKGRzdCwgcmVzaXplSW1nLCBuZXcgY3YuU2l6ZSh0aGlzLkNhbnZhc1dpZHRoLCB0aGlzLkNhbnZhc0hlaWdodCksIDAsIDAsIGN2LklOVEVSX0xJTkVBUik7CiAgICAvLyAgICAgICBkc3QuZGVsZXRlKCk7CiAgICAvLyAgICAgICBsZXQgb3JpZ2luYWxJbWc4OwogICAgLy8gICAgICAgaWYgKGltZ19iaXQgPT09IDE2KXsKICAgIC8vICAgICAgICAgb3JpZ2luYWxJbWc4ID0gdGhpcy5CaXQxNlRvOF9TdHJldGNoKHJlc2l6ZUltZywgQiwgVyk7CiAgICAvLyAgICAgICB9ZWxzZXsKICAgIC8vICAgICAgICAgb3JpZ2luYWxJbWc4ID0gcmVzaXplSW1nOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgcmVzaXplSW1nLmRlbGV0ZSgpOwogICAgLy8gICAgICAgY29uc3QgQml0MTZUbzhfU3RyZXRjaEVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBCaXQxNlRvOF9TdHJldGNoIOe7k+adn+aXtumXtAogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgQml0MTZUbzhfU3RyZXRjaCB0aW1lOiAnICsgKEJpdDE2VG84X1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSAtIEdldEF1dG9TdHJldGNoRW5kVGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgICAgICBsZXQgdGFyZ2V0SW1nOCA9IHRoaXMuSW1hZ2VTb2Z0QVdCKG9yaWdpbmFsSW1nOCwgZ2FpblIsIGdhaW5CLCBvZmZzZXQpOwogICAgLy8gICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93U29sdmVJbWFnZScsIHRhcmdldEltZzgpOwogICAgLy8gICAgICAgY29uc3QgSW1hZ2VTb2Z0QVdCRW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIEltYWdlU29mdEFXQiDnu5PmnZ/ml7bpl7QKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IEltYWdlU29mdEFXQiB0aW1lOiAnICsgKEltYWdlU29mdEFXQkVuZFRpbWUuZ2V0VGltZSgpIC0gQml0MTZUbzhfU3RyZXRjaEVuZFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICBtb2RpZmllZEN0eC5jbGVhclJlY3QoMCwgMCwgbW9kaWZpZWRDYW52YXMud2lkdGgsIG1vZGlmaWVkQ2FudmFzLmhlaWdodCk7CiAgICAvLyAgICAgICBjdi5yZXNpemUoZHN0LCByZXNpemVJbWcsIG5ldyBjdi5TaXplKHRoaXMuQ2FudmFzV2lkdGgsIHRoaXMuQ2FudmFzSGVpZ2h0KSwgMCwgMCwgY3YuSU5URVJfTElORUFSKTsKICAgIC8vICAgICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IDcwOwogICAgLy8gICAgICAgbGV0IG9yaWdpbmFsUmVzaXplSW1nOCA9IHRoaXMuQml0MTZUbzhfU3RyZXRjaChyZXNpemVJbWcsIEIsIFcpOwogICAgLy8gICAgICAgdGhpcy5PcmlnaW5hbEltYWdlID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkob3JpZ2luYWxSZXNpemVJbWc4LmRhdGEpLCBvcmlnaW5hbFJlc2l6ZUltZzguY29scywgb3JpZ2luYWxSZXNpemVJbWc4LnJvd3MpOwogICAgLy8gICAgICAgcmVzaXplSW1nLmRlbGV0ZSgpOwogICAgLy8gICAgICAgb3JpZ2luYWxSZXNpemVJbWc4LmRlbGV0ZSgpOwogICAgLy8gICAgICAgY29uc29sZS5sb2coJ2RzdC5kYXRhLmxlbmd0aDogJywgZHN0LmRhdGEubGVuZ3RoKTsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdkc3QuY29sczogJywgZHN0LmNvbHMpOwogICAgLy8gICAgICAgY29uc29sZS5sb2coJ2RzdC5yb3dzOiAnLCBkc3Qucm93cyk7CiAgICAvLyAgICAgICBsZXQgb3JpZ2luYWxJbWc4ID0gdGhpcy5CaXQxNlRvOF9TdHJldGNoKGRzdCwgQiwgVyk7CiAgICAvLyAgICAgICBkc3QuZGVsZXRlKCk7CiAgICAvLyAgICAgICB0aGlzLnByb2dyZXNzVmFsdWUgPSA4MDsKICAgIC8vICAgICAgIGNvbnN0IEJpdDE2VG84X1N0cmV0Y2hFbmRUaW1lID0gbmV3IERhdGUoKTsgLy8gQml0MTZUbzhfU3RyZXRjaCDnu5PmnZ/ml7bpl7QKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IEJpdDE2VG84X1N0cmV0Y2ggdGltZTogJyArIChCaXQxNlRvOF9TdHJldGNoRW5kVGltZS5nZXRUaW1lKCkgLSBHZXRBdXRvU3RyZXRjaEVuZFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAgICAgLy8gbGV0IHRhcmdldEltZzggPSB0aGlzLkltYWdlU29mdEFXQihvcmlnaW5hbEltZzgsIGdhaW5SLCBnYWluQiwgb2Zmc2V0KTsKICAgIC8vICAgICAgIC8vIGNvbnN0IEltYWdlU29mdEFXQkVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBJbWFnZVNvZnRBV0Ig57uT5p2f5pe26Ze0CiAgICAvLyAgICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBJbWFnZVNvZnRBV0IgdGltZTogJyArIChJbWFnZVNvZnRBV0JFbmRUaW1lLmdldFRpbWUoKSAtIEJpdDE2VG84X1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgICAgIC8vIG9yaWdpbmFsSW1nOC5kZWxldGUoKTsKICAgIC8vICAgICAgIHRoaXMubGFzdEltYWdlUHJvY2Vzc1BhcmFtcyA9IHsKICAgIC8vICAgICAgICAgZ2FpblI6IGdhaW5SLAogICAgLy8gICAgICAgICBnYWluQjogZ2FpbkIsCiAgICAvLyAgICAgICAgIG9mZnNldDogb2Zmc2V0LAogICAgLy8gICAgICAgICBDRkE6IENGQSwKICAgIC8vICAgICAgICAgbW9kZTogbW9kZSwKICAgIC8vICAgICAgICAgQjogQiwKICAgIC8vICAgICAgICAgVzogVywKICAgIC8vICAgICAgICAgY3Ztb2RlOiBjdm1vZGUsCiAgICAvLyAgICAgICB9OwogICAgLy8gICAgICAgbW9kaWZpZWRDYW52YXMud2lkdGggPSB0aGlzLkNhbnZhc1dpZHRoOwogICAgLy8gICAgICAgbW9kaWZpZWRDYW52YXMuaGVpZ2h0ID0gdGhpcy5DYW52YXNIZWlnaHQ7CiAgICAvLyAgICAgICBsZXQgY29sb3JEYXRhID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkob3JpZ2luYWxJbWc4LmRhdGEpLCBvcmlnaW5hbEltZzguY29scywgb3JpZ2luYWxJbWc4LnJvd3MpOwogICAgLy8gICAgICAgb3JpZ2luYWxJbWc4LmRlbGV0ZSgpOwogICAgLy8gICAgICAgdGhpcy5kcmF3SW1nRGF0YSA9IGNvbG9yRGF0YTsKICAgIC8vICAgICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IDkwOwogICAgLy8gICAgICAgLy8g6K6+572u57yT5Yay55S75biD5a696auYCiAgICAvLyAgICAgICB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCA9IGNvbG9yRGF0YS53aWR0aDsKICAgIC8vICAgICAgIHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCA9IGNvbG9yRGF0YS5oZWlnaHQ7CiAgICAvLyAgICAgICAvLyDnu5jliLbnvJPlrZjnlLvluIPlm77lg48KICAgIC8vICAgICAgIHRoaXMuYnVmZmVyQ3R4LnB1dEltYWdlRGF0YShjb2xvckRhdGEsIDAsIDApOwogICAgLy8gICAgICAgLy8g57uY5Yi25Li755S75biD5Zu+5YOPCiAgICAvLyAgICAgICB0aGlzLmRyYXdJbWFnZURhdGEoKTsKICAgIC8vICAgICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IDEwMDsKICAgIC8vICAgICAgIGNvbnN0IERyYXdJbWFnZURhdGFFbmRUaW1lID0gbmV3IERhdGUoKTsgLy8gRHJhd0ltYWdlRGF0YSDnu5PmnZ/ml7bpl7QKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IERyYXdJbWFnZURhdGEgdGltZTogJyArIChEcmF3SW1hZ2VEYXRhRW5kVGltZS5nZXRUaW1lKCkgLSBCaXQxNlRvOF9TdHJldGNoRW5kVGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgICAgICBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUoKTsKICAgIC8vICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpOwogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgUHJvY2VzcyBpbWFnZSBkYXRhIGVuZDonICsgZWxhcHNlZFRpbWUgKyAnIG1pbGxpc2Vjb25kcycsICdpbmZvJyk7CiAgICAvLyAgICAgICBjb25zdCB0b3RhbEVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyDmgLvnu5PmnZ/ml7bpl7QKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IFRvdGFsIHByb2Nlc3MgaW1hZ2UgZGF0YSB0aW1lOiAnICsgKHRvdGFsRW5kVGltZS5nZXRUaW1lKCkgLSB0b3RhbFN0YXJ0VGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3Nob3dDYXB0dXJlSW1hZ2UnKTsKICAgIC8vICAgICAgIHRoaXMuTWFrZUhpc3RvZ3JhbShjb2xvckRhdGEpOwogICAgLy8gICAgICAgdGhpcy5oaXN0b2dyYW1JbWFnZSA9IGNvbG9yRGF0YTsKICAgIC8vICAgICAgIGNvbnN0IGNoZWNrRGV0ZWN0ZWRTdGFyc0ZpbmlzaCA9ICgpID0+IHsKICAgIC8vICAgICAgICAgaWYgKHRoaXMuRGV0ZWN0ZWRTdGFyc0ZpbmlzaCkgewogICAgLy8gICAgICAgICAgIHRoaXMuZGV0ZWN0U3RhcnNJbWcgPSB0aGlzLkRyYXdEZXRlY3RTdGFycyh0YXJnZXRJbWc4LCB0aGlzLkRldGVjdGVkU3RhcnNMaXN0KTsKICAgIC8vICAgICAgICAgICB0YXJnZXRJbWc4LmRlbGV0ZSgpOwogICAgLy8gICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH07CiAgICAvLyAgICAgICBjb25zdCBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoY2hlY2tEZXRlY3RlZFN0YXJzRmluaXNoLCAxMDAwKTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgLy8gaWYgKHRoaXMuaXNOb3REcmF3U3RhcnMpIHsKICAgIC8vICAgICAvLyAgIHRoaXMuZHJhd0ltYWdlRGF0YSh0aGlzLmRyYXdJbWdEYXRhKTsKICAgIC8vICAgICAvLyB9IGVsc2UgewogICAgLy8gICAgIC8vICAgaWYgKHRoaXMuZGV0ZWN0U3RhcnNJbWcgIT0gbnVsbCkgewogICAgLy8gICAgIC8vICAgICB0aGlzLmRyYXdJbWFnZURhdGEodGhpcy5kZXRlY3RTdGFyc0ltZyk7CiAgICAvLyAgICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIC8vICAgICB0aGlzLmRyYXdJbWFnZURhdGEodGhpcy5kcmF3SW1nRGF0YSk7CiAgICAvLyAgICAgLy8gICB9CiAgICAvLyAgICAgLy8gfQogICAgLy8gICAgIC8vIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAvLyAgICAgLy8gY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgLy8gICAgIC8vIGNvbnN0IG1pblRyYW5zbGF0ZVggPSB0aGlzLmltYWdlV2lkdGggLSB0aGlzLkNhbnZhc1dpZHRoOwogICAgLy8gICAgIC8vIGNvbnN0IG1pblRyYW5zbGF0ZVkgPSB0aGlzLmltYWdlSGVpZ2h0IC0gdGhpcy5DYW52YXNIZWlnaHQ7CiAgICAvLyAgICAgLy8gLy8g6K6h566X5Yid5aeL55qEIFNjYWxlSW1hZ2VTaXplX1gg5ZKMIFNjYWxlSW1hZ2VTaXplX1kKICAgIC8vICAgICAvLyB0aGlzLlNjYWxlSW1hZ2VTaXplX1ggPSBNYXRoLmZsb29yKG1pblRyYW5zbGF0ZVggLyB0aGlzLkNhbnZhc1dpZHRoICogd2luZG93V2lkdGggKyB3aW5kb3dXaWR0aCk7CiAgICAvLyAgICAgLy8gdGhpcy5TY2FsZUltYWdlU2l6ZV9ZID0gTWF0aC5mbG9vcihtaW5UcmFuc2xhdGVZIC8gdGhpcy5DYW52YXNIZWlnaHQgKiB3aW5kb3dIZWlnaHQgKyB3aW5kb3dIZWlnaHQpOwogICAgLy8gICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnU2NhbGVJbWFnZVNpemUnLCB0aGlzLlNjYWxlSW1hZ2VTaXplX1gsIHRoaXMuU2NhbGVJbWFnZVNpemVfWSk7CiAgICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAvLyAgICAgdGhpcy5oYW5kbGVFcnJvcignUHJvY2VzcyBpbWFnZSBkYXRhIGVycm9yJywgJ3Byb2Nlc3NJbWFnZScsIGVycm9yKTsKICAgIC8vICAgICBpZiAobWF0KSB7CiAgICAvLyAgICAgICBtYXQuZGVsZXRlKCk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmIChyZXNpemVJbWcpIHsKICAgIC8vICAgICAgIHJlc2l6ZUltZy5kZWxldGUoKTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYgKG9yaWdpbmFsSW1nOCkgewogICAgLy8gICAgICAgb3JpZ2luYWxJbWc4LmRlbGV0ZSgpOwogICAgLy8gICAgIH0KICAgIC8vICAgICBpZiAodGFyZ2V0SW1nOCkgewogICAgLy8gICAgICAgdGFyZ2V0SW1nOC5kZWxldGUoKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBoaXN0b2dyYW1TdHJldGNoKGltYWdlRGF0YSwgbWluLCBtYXgpIHsKICAgIC8vICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoKTsKICAgIC8vICAgLy8gQ29udmVydCBJbWFnZURhdGEgdG8gY3YuTWF0CiAgICAvLyAgIGNvbnN0IGltYWdlID0gY3YubWF0RnJvbUltYWdlRGF0YShpbWFnZURhdGEpOwogICAgLy8gICBsZXQgVGltZTEgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwg6L2s5o2i5Zu+5YOP5pWw5o2u5pe26Ze0OiAnICsgKFRpbWUxLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIC8vIFBlcmZvcm0gdGhlIGhpc3RvZ3JhbSBzdHJldGNoCiAgICAvLyAgIGNvbnN0IGNoYW5uZWxzID0gbmV3IGN2Lk1hdFZlY3RvcigpOwogICAgLy8gICBjdi5zcGxpdChpbWFnZSwgY2hhbm5lbHMpOyAvLyBTcGxpdCBjaGFubmVscyAoQkdSKSBpbnRvIHNlcGFyYXRlIE1hdCBvYmplY3RzCiAgICAvLyAgIGxldCBUaW1lMiA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDliIblibLpgJrpgZPml7bpl7Q6ICcgKyAoVGltZTIuZ2V0VGltZSgpIC0gVGltZTEuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBDYWxjdWxhdGUgYWxwaGEgYW5kIGJldGEgZm9yIGVhY2ggY2hhbm5lbAogICAgLy8gICBsZXQgYWxwaGEgPSAyNTUuMCAvIChtYXggLSBtaW4pOwogICAgLy8gICBsZXQgYmV0YSA9IC1taW4gKiBhbHBoYTsKICAgIC8vICAgaWYgKGFscGhhIDwgMCkgewogICAgLy8gICAgIGFscGhhID0gMDsKICAgIC8vICAgICBiZXRhID0gMDsKICAgIC8vICAgfSBlbHNlIGlmIChhbHBoYSA+IDI1NSkgewogICAgLy8gICAgIGFscGhhID0gMjU1OwogICAgLy8gICAgIGJldGEgPSAwOwogICAgLy8gICB9CiAgICAvLyAgIFRpbWUxID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOiuoeeul2FscGhh5ZKMYmV0YeaXtumXtDogJyArIChUaW1lMS5nZXRUaW1lKCkgLSBUaW1lMi5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIC8vIEl0ZXJhdGUgb3ZlciBlYWNoIGNoYW5uZWwgYW5kIGFwcGx5IGhpc3RvZ3JhbSBzdHJldGNoaW5nCiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbm5lbHMuc2l6ZSgpOyBpKyspIHsKICAgIC8vICAgICBsZXQgY2hhbm5lbCA9IGNoYW5uZWxzLmdldChpKTsKICAgIC8vICAgICAvLyBBcHBseSBoaXN0b2dyYW0gc3RyZXRjaGluZyB0byB0aGUgY2hhbm5lbAogICAgLy8gICAgIGNoYW5uZWwuY29udmVydFRvKGNoYW5uZWwsIC0xLCBhbHBoYSwgYmV0YSk7CiAgICAvLyAgICAgLy8gUmVsZWFzZSB0aGUgbWVtb3J5IG9mIGNoYW5uZWwKICAgIC8vICAgICBjaGFubmVsLmRlbGV0ZSgpOwogICAgLy8gICB9CiAgICAvLyAgIFRpbWUyID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOWQhOmAmumBk+aLieS8uOaXtumXtDogJyArIChUaW1lMi5nZXRUaW1lKCkgLSBUaW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIC8vIE1lcmdlIHRoZSBjaGFubmVscyBiYWNrIGludG8gYSBzaW5nbGUgaW1hZ2UKICAgIC8vICAgY29uc3Qgc3RyZXRjaEltYWdlID0gbmV3IGN2Lk1hdCgpOwogICAgLy8gICBjdi5tZXJnZShjaGFubmVscywgc3RyZXRjaEltYWdlKTsKICAgIC8vICAgVGltZTEgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwg5ZCI5bm26YCa6YGT5pe26Ze0OiAnICsgKFRpbWUxLmdldFRpbWUoKSAtIFRpbWUyLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgLy8gUmVsZWFzZSB0aGUgbWVtb3J5IG9mIGNoYW5uZWxzIGFuZCBNYXRWZWN0b3IKICAgIC8vICAgY2hhbm5lbHMuZGVsZXRlKCk7CiAgICAvLyAgIC8vIENvbnZlcnQgY3YuTWF0IGJhY2sgdG8gSW1hZ2VEYXRhCiAgICAvLyAgIGNvbnN0IHN0cmV0Y2hlZEltYWdlRGF0YSA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHN0cmV0Y2hJbWFnZS5kYXRhKSwgc3RyZXRjaEltYWdlLmNvbHMsIHN0cmV0Y2hJbWFnZS5yb3dzKTsKICAgIC8vICAgVGltZTIgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwg6L2s5o2i5Zu+5YOP5pWw5o2u5pe26Ze0OiAnICsgKFRpbWUyLmdldFRpbWUoKSAtIFRpbWUxLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgLy8gQ2xlYW4gdXAKICAgIC8vICAgaW1hZ2UuZGVsZXRlKCk7CiAgICAvLyAgIHN0cmV0Y2hJbWFnZS5kZWxldGUoKTsKICAgIC8vICAgVGltZTEgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwg6YeK5pS+5YaF5a2Y5pe26Ze0OiAnICsgKFRpbWUxLmdldFRpbWUoKSAtIFRpbWUyLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOaAu+aXtumXtDogJyArIChUaW1lMS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICByZXR1cm4gc3RyZXRjaGVkSW1hZ2VEYXRhOwogICAgLy8gfSwKICAgIGhpc3RvZ3JhbVN0cmV0Y2g6IGZ1bmN0aW9uIGhpc3RvZ3JhbVN0cmV0Y2goaW1hZ2VEYXRhLCBtaW4sIG1heCkgewogICAgICBpZiAobWF4IDwgbWluKSB7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IG1heCA8IG1pbiwgcmV0dXJuIG9yaWdpbmFsIGltYWdlRGF0YScsICd3YXJuaW5nJyk7CiAgICAgICAgbWF4ID0gbWluOwogICAgICB9CgogICAgICB2YXIgc3RhcnRUaW1lID0gbmV3IERhdGUoKTsgLy8gQ2FsY3VsYXRlIGFscGhhIGFuZCBiZXRhCgogICAgICB2YXIgYWxwaGEgPSAyNTUuMCAvIChtYXggLSBtaW4pOwogICAgICB2YXIgYmV0YSA9IC1taW4gKiBhbHBoYTsKCiAgICAgIGlmIChhbHBoYSA8IDApIHsKICAgICAgICBhbHBoYSA9IDA7CiAgICAgICAgYmV0YSA9IDA7CiAgICAgIH0gZWxzZSBpZiAoYWxwaGEgPiAyNTUpIHsKICAgICAgICBhbHBoYSA9IDI1NTsKICAgICAgICBiZXRhID0gMDsKICAgICAgfSAvLyBBcHBseSBoaXN0b2dyYW0gc3RyZXRjaGluZyBkaXJlY3RseSBvbiBJbWFnZURhdGEKCgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlRGF0YS5kYXRhLmxlbmd0aDsgaSArPSA0KSB7CiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICAgIC8vIEZvciBlYWNoIGNvbG9yIGNoYW5uZWwKICAgICAgICAgIHZhciB2YWx1ZSA9IGltYWdlRGF0YS5kYXRhW2kgKyBqXTsKICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiBhbHBoYSArIGJldGE7CiAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpICsgal0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHZhbHVlKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgZW5kVGltZSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDmgLvml7bpl7Q6ICcgKyAoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgICByZXR1cm4gaW1hZ2VEYXRhOwogICAgfSwKICAgIGxvY2FsV2hpdGVCYWxhbmNlQWRqdXN0bWVudDogZnVuY3Rpb24gbG9jYWxXaGl0ZUJhbGFuY2VBZGp1c3RtZW50KGltYWdlRGF0YSwgZ2FpblIsIGdhaW5CLCBvZmZzZXQpIHsKICAgICAgLy8g5YiG56a76YCa6YGTCiAgICAgIHZhciB2YWx1ZTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpICs9IDQpIHsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgICAgLy8gRm9yIGVhY2ggY29sb3IgY2hhbm5lbAogICAgICAgICAgaWYgKGogPT0gMCkgewogICAgICAgICAgICB2YWx1ZSA9IGltYWdlRGF0YS5kYXRhW2kgKyBqXTsKICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIGdhaW5CICsgb2Zmc2V0OwogICAgICAgICAgfSBlbHNlIGlmIChqID09IDIpIHsKICAgICAgICAgICAgdmFsdWUgPSBpbWFnZURhdGEuZGF0YVtpICsgal07CiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiBnYWluUiArIG9mZnNldDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbHVlID0gaW1hZ2VEYXRhLmRhdGFbaSArIGpdOwogICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICogMSArIG9mZnNldDsKICAgICAgICAgIH0KCiAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpICsgal0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHZhbHVlKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW1hZ2VEYXRhOwogICAgfSwKICAgIGluaXRDYW52YXM6IGZ1bmN0aW9uIGluaXRDYW52YXMoKSB7CiAgICAgIHRoaXMuYnVmZmVyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIHRoaXMuYnVmZmVyQ3R4ID0gdGhpcy5idWZmZXJDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgdGhpcy50ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIHRoaXMudGVtcEN0eCA9IHRoaXMudGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgfSwKICAgIC8vKi8qLyovKi8qLyovKi8qLyovKi8qLwogICAgU3dpdGNoSW1hZ2VUb1Nob3c6IGZ1bmN0aW9uIFN3aXRjaEltYWdlVG9TaG93KGlzT3JpZ2luYWwpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ1Nob3cgT3JpZ2luYWwgSW1hZ2U6ICcsIGlzT3JpZ2luYWwpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTaG93IE9yaWdpbmFsIEltYWdlOicgKyBpc09yaWdpbmFsLCAnaW5mbycpOwogICAgICB0aGlzLmlzTm90RHJhd1N0YXJzID0gaXNPcmlnaW5hbDsKCiAgICAgIGlmIChpc09yaWdpbmFsKSB7CiAgICAgICAgLy8gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVRvdWNoT3JNb3VzZURvd24pOwogICAgICAgIHRoaXMuZW5hYmxlTWFpbkNhbnZhc0NsaWNrID0gZmFsc2U7CiAgICAgICAgdGhpcy5kcmF3SW1hZ2VEYXRhKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVRvdWNoT3JNb3VzZURvd24pOwogICAgICAgIHRoaXMuZW5hYmxlTWFpbkNhbnZhc0NsaWNrID0gdHJ1ZTsgLy8gdGhpcy5kcmF3SW1hZ2VEYXRhKHRoaXMuZGV0ZWN0U3RhcnNJbWcpOwogICAgICB9CiAgICB9LAogICAgLy8gZHJhd0ltYWdlRGF0YSgpIHsKICAgIC8vICAgaWYgKHRoaXMuYnVmZmVyQ2FudmFzID09IG51bGwpIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdkcmF3SW1hZ2VEYXRhIGVycm9yOiBidWZmZXJDYW52YXMgaXMgbnVsbCBvciB1bmRlZmluZWQuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgcmV0dXJuOwogICAgLy8gICB9CiAgICAvLyAgIC8vIOWPr+eUqOebuOWFs+WPguaVsAogICAgLy8gICAvLyB3aW5kb3cuaW5uZXJXaWR0aDsgLy8g56qX5Y+j5a695bqmCiAgICAvLyAgIC8vIHdpbmRvdy5pbm5lckhlaWdodDsgLy8g56qX5Y+j6auY5bqmCiAgICAvLyAgIC8vIHRoaXMuc2NhbGUg57yp5pS+5q+U5L6LCiAgICAvLyAgIC8vIHRoaXMudHJhbnNsYXRlWCDlubPnp7t45Z2Q5qCHCiAgICAvLyAgIC8vIHRoaXMudHJhbnNsYXRlWSDlubPnp7t55Z2Q5qCHCiAgICAvLyAgIC8vIHRoaXMuQ2FudmFzV2lkdGgg5Li755S75biD5a695bqmIDE5MjAKICAgIC8vICAgLy8gdGhpcy5DYW52YXNIZWlnaHQg5Li755S75biD6auY5bqmIDEwODAKICAgIC8vICAgLy8gdGhpcy5tYWluQ2FtZXJhU2l6ZVgg5Y6f5aeL5Zu+5YOP5a695bqmCiAgICAvLyAgIC8vIHRoaXMubWFpbkNhbWVyYVNpemVZIOWOn+Wni+WbvuWDj+mrmOW6pgogICAgLy8gICAvLyB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCDnvJPlhrLnlLvluIPlrr3luqYKICAgIC8vICAgLy8gdGhpcy5idWZmZXJDYW52YXMuaGVpZ2h0IOe8k+WGsueUu+W4g+mrmOW6pgogICAgLy8gICAvLyB0aGlzLkltYWdlUHJvcG9ydGlvbiDlm77lg4/mr5TkvosKICAgIC8vICAgLy8gdGhpcy5ST0lfeCBST0nnmoR45Z2Q5qCHCiAgICAvLyAgIC8vIHRoaXMuUk9JX3kgUk9J55qEeeWdkOaghwogICAgLy8gICAvLyB0aGlzLlJPSV9sZW5ndGggUk9J55qE6ZW/5bqmCiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCflvZPliY3nlLvluIPlj4LmlbA6XG4gYnVmZmVyQ2FudmFzLndpZHRoOiAnLCB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCwgJ1xuIGJ1ZmZlckNhbnZhcy5oZWlnaHQ6ICcsIHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCwgJ1xuIEltYWdlUHJvcG9ydGlvbjogJywgdGhpcy5JbWFnZVByb3BvcnRpb24sICdcbiBzY2FsZTogJywgdGhpcy5zY2FsZSwgJ1xuIHZpc2libGVYOiAnLCB0aGlzLnZpc2libGVYLCAnXG4gdmlzaWJsZVk6ICcsIHRoaXMudmlzaWJsZVksICdcbiB2aXNpYmxlV2lkdGg6ICcsIHRoaXMudmlzaWJsZVdpZHRoLCAnXG4gdmlzaWJsZUhlaWdodDogJywgdGhpcy52aXNpYmxlSGVpZ2h0LCAnXG4gUk9JX3g6ICcsIHRoaXMuUk9JX3gsICdcbiBST0lfeTogJywgdGhpcy5ST0lfeSwgJ1xuIFJPSV9sZW5ndGg6ICcsIHRoaXMuUk9JX2xlbmd0aCk7CiAgICAvLyAgIGxldCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgLy8gICBsZXQgVGltZTEgPSBuZXcgRGF0ZSgpOwogICAgLy8gICAvLyDorqHnrpflj6/op4HljLrln58KICAgIC8vICAgY29uc3QgbmV3VmlzaWJsZVdpZHRoID0gdGhpcy5idWZmZXJDYW52YXMud2lkdGggKiB0aGlzLnNjYWxlOwogICAgLy8gICBjb25zdCBuZXdWaXNpYmxlSGVpZ2h0ID0gbmV3VmlzaWJsZVdpZHRoIC8gdGhpcy5JbWFnZVByb3BvcnRpb247CiAgICAvLyAgIC8vIOiuoeeul+WPr+ingeWMuuWfn3jlnZDmoIcKICAgIC8vICAgbGV0IG5ld1Zpc2libGVYID0gdGhpcy52aXNpYmxlWDsKICAgIC8vICAgLy8g6K6h566X5Y+v6KeB5Yy65Z+feeWdkOaghwogICAgLy8gICBsZXQgbmV3VmlzaWJsZVkgPSB0aGlzLnZpc2libGVZOwogICAgLy8gICAvLyDpgb/lhY3lm77lg4/otornlYwKICAgIC8vICAgaWYgKG5ld1Zpc2libGVYIC0gbmV3VmlzaWJsZVdpZHRoIC8gMiA8IDApIHsKICAgIC8vICAgICBuZXdWaXNpYmxlWCA9IG5ld1Zpc2libGVXaWR0aCAvIDI7CiAgICAvLyAgIH0gZWxzZSBpZiAobmV3VmlzaWJsZVggKyBuZXdWaXNpYmxlV2lkdGggLyAyID4gdGhpcy5idWZmZXJDYW52YXMud2lkdGgpIHsKICAgIC8vICAgICBuZXdWaXNpYmxlWCA9IHRoaXMuYnVmZmVyQ2FudmFzLndpZHRoIC0gbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgIC8vICAgfQogICAgLy8gICBpZiAobmV3VmlzaWJsZVkgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMiA8IDApIHsKICAgIC8vICAgICBuZXdWaXNpYmxlWSA9IG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgLy8gICB9IGVsc2UgaWYgKG5ld1Zpc2libGVZICsgbmV3VmlzaWJsZUhlaWdodCAvIDIgPiB0aGlzLmJ1ZmZlckNhbnZhcy5oZWlnaHQpIHsKICAgIC8vICAgICBuZXdWaXNpYmxlWSA9IHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCAtIG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgLy8gICB9CiAgICAvLyAgIC8vIOabtOaWsFJPSeWMuuWfnwogICAgLy8gICAvLyDorqHnrpflj6/op4HljLrln5/nmoTovrnnlYwKICAgIC8vICAgY29uc3QgdmlzaWJsZUxlZnQgPSBuZXdWaXNpYmxlWCAtIG5ld1Zpc2libGVXaWR0aCAvIDI7CiAgICAvLyAgIGNvbnN0IHZpc2libGVSaWdodCA9IG5ld1Zpc2libGVYICsgbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgIC8vICAgY29uc3QgdmlzaWJsZVRvcCA9IG5ld1Zpc2libGVZIC0gbmV3VmlzaWJsZUhlaWdodCAvIDI7CiAgICAvLyAgIGNvbnN0IHZpc2libGVCb3R0b20gPSBuZXdWaXNpYmxlWSArIG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgLy8gICAvLyDorqHnrpcgUk9JIOWMuuWfn+eahOi+ueeVjAogICAgLy8gICBjb25zdCByb2lMZWZ0ID0gdGhpcy5ST0lfeDsKICAgIC8vICAgY29uc3Qgcm9pUmlnaHQgPSB0aGlzLlJPSV94ICsgdGhpcy5ST0lfbGVuZ3RoOwogICAgLy8gICBjb25zdCByb2lUb3AgPSB0aGlzLlJPSV95OwogICAgLy8gICBjb25zdCByb2lCb3R0b20gPSB0aGlzLlJPSV95ICsgdGhpcy5ST0lfbGVuZ3RoOwogICAgLy8gICAvLyDliKTmlq0gUk9JIOWMuuWfn+aYr+WQpuWcqOWPr+ingeWMuuWfn+WGhQogICAgLy8gICBjb25zdCBpc1JvaUluVmlzaWJsZSA9IHJvaVJpZ2h0ID49IHZpc2libGVMZWZ0ICYmIHJvaUxlZnQgPD0gdmlzaWJsZVJpZ2h0ICYmIHJvaUJvdHRvbSA+PSB2aXNpYmxlVG9wICYmIHJvaVRvcCA8PSB2aXNpYmxlQm90dG9tOwogICAgLy8gICAvLyDorqHnrpcgUk9JIOWMuuWfn+WcqOWxj+W5leS4iueahOS9jee9ru+8jOS4reW/g+eCueWdkOaghwogICAgLy8gICBjb25zdCByb2lTY3JlZW5YID0gKHRoaXMuUk9JX3ggLSB2aXNpYmxlTGVmdCkgKiAod2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGgpICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGggLyAyOwogICAgLy8gICBjb25zdCByb2lTY3JlZW5ZID0gKHRoaXMuUk9JX3kgLSB2aXNpYmxlVG9wKSAqICh3aW5kb3cuaW5uZXJIZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0KSArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgLy8gICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdST0kg5Yy65Z+f5Zyo5bGP5bmV5LiK55qE5L2N572uOiAnICsgcm9pU2NyZWVuWCArICcqJyArIHJvaVNjcmVlblkgKyAn6ZW/5bqmICcgKyB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJXaWR0aCAvIG5ld1Zpc2libGVXaWR0aCArICcqJyArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQsICdpbmZvJyk7CiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UmVkQm94TGVuZ3RoJywgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGgsIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQpOwogICAgLy8gICB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFBvc2l0aW9uJywgcm9pU2NyZWVuWCwgcm9pU2NyZWVuWSk7CiAgICAvLyAgIC8vIGlmIChpc1JvaUluVmlzaWJsZSkgewogICAgLy8gICAvLyAgIGNvbnNvbGUubG9nKCdST0kg5Yy65Z+f5Zyo5Y+v6KeB5Yy65Z+f5YaFLCBSZWRCb3hTaWRlTGVuZ3RoOiAnLCB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJXaWR0aCAvIG5ld1Zpc2libGVXaWR0aCwgJywgJywgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCk7CiAgICAvLyAgIC8vIH0gZWxzZSB7CiAgICAvLyAgIC8vICAgY29uc29sZS5sb2coJ1JPSSDljLrln5/kuI3lnKjlj6/op4HljLrln5/lhoUsIFJlZEJveFNpZGVMZW5ndGg6ICcsIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoLCAnLCAnLCB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJIZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0KTsKICAgIC8vICAgLy8gfQogICAgLy8gICBsZXQgVGltZTIgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdkcmF3SW1hZ2VEYXRhIHwg6K6h566X55u45YWz5Y+C5pWw5pe26Ze0OiAnICsgKFRpbWUyLmdldFRpbWUoKSAtIFRpbWUxLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgLy8gRHJhdyBidWZmZXIgY2FudmFzIG9uIG1haW4gY2FudmFzCiAgICAvLyAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuJHJlZnMubWFpbkNhbnZhczsKICAgIC8vICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAvLyAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgIC8vICAgLy8g6I635Y+W57uY5Yi255qE5Zu+5YOP5pWw5o2uCiAgICAvLyAgIGxldCBpbWFnZURhdGEgPSB0aGlzLmJ1ZmZlckN0eC5nZXRJbWFnZURhdGEobmV3VmlzaWJsZVggLSBuZXdWaXNpYmxlV2lkdGggLyAyLCBuZXdWaXNpYmxlWSAtIG5ld1Zpc2libGVIZWlnaHQgLyAyLCBuZXdWaXNpYmxlV2lkdGgsIG5ld1Zpc2libGVIZWlnaHQpOwogICAgLy8gICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDojrflj5bnu5jliLbnmoTlm77lg4/mlbDmja7ml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBpZiAodGhpcy5jdXJyZW50SGlzdG9ncmFtTWF4ICE9IDI1NSB8fCB0aGlzLmN1cnJlbnRIaXN0b2dyYW1NaW4gIT0gMCkgewogICAgLy8gICAvLyAgIGltYWdlRGF0YSA9IHRoaXMuaGlzdG9ncmFtU3RyZXRjaChpbWFnZURhdGEsIHRoaXMuY3VycmVudEhpc3RvZ3JhbU1pbiwgdGhpcy5jdXJyZW50SGlzdG9ncmFtTWF4KTsKICAgIC8vICAgLy8gfQogICAgLy8gICBUaW1lMiA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDnm7Tmlrnlm77mi4nkvLjml7bpl7Q6ICcgKyAoVGltZTIuZ2V0VGltZSgpIC0gVGltZTEuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgY2FudmFzIHRvIGRyYXcgdGhlIEltYWdlRGF0YQogICAgLy8gICBsZXQgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgLy8gICB0ZW1wQ2FudmFzLndpZHRoID0gaW1hZ2VEYXRhLndpZHRoOwogICAgLy8gICB0ZW1wQ2FudmFzLmhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQ7CiAgICAvLyAgIGxldCB0ZW1wQ3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgLy8gICB0ZW1wQ3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApOwogICAgLy8gICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDliJvlu7rkuLTml7bnlLvluIPlubbnu5jliLbml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBEcmF3IHRoZSBJbWFnZURhdGEgb24gdGhlIG1haW4gY2FudmFzCiAgICAvLyAgIGN0eC5kcmF3SW1hZ2UodGVtcENhbnZhcywgMCwgMCwgdGVtcENhbnZhcy53aWR0aCwgdGVtcENhbnZhcy5oZWlnaHQsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAvLyAgIFRpbWUyID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSB8IOe7mOWItuWbvuWDj+aXtumXtDogJyArIChUaW1lMi5nZXRUaW1lKCkgLSBUaW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIC8vIGN0eC5kcmF3SW1hZ2UodGhpcy5idWZmZXJDYW52YXMsIG5ld1Zpc2libGVYIC0gbmV3VmlzaWJsZVdpZHRoIC8gMiwgbmV3VmlzaWJsZVkgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMiwgbmV3VmlzaWJsZVdpZHRoLCBuZXdWaXNpYmxlSGVpZ2h0LCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgLy8gICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfnu5jliLblm77lg48s5Y+v6KeB5Yy65Z+fOicgKyBuZXdWaXNpYmxlWCArICcsJyArIG5ld1Zpc2libGVZICsgJywnICsgbmV3VmlzaWJsZVdpZHRoICsgJywnICsgbmV3VmlzaWJsZUhlaWdodCwgJ2luZm8nKTsKICAgIC8vICAgdGhpcy52aXNpYmxlWCA9IG5ld1Zpc2libGVYOwogICAgLy8gICB0aGlzLnZpc2libGVZID0gbmV3VmlzaWJsZVk7CiAgICAvLyAgIHRoaXMudmlzaWJsZVdpZHRoID0gbmV3VmlzaWJsZVdpZHRoOwogICAgLy8gICB0aGlzLnZpc2libGVIZWlnaHQgPSBuZXdWaXNpYmxlSGVpZ2h0OwogICAgLy8gICB0aGlzLiRidXMuJGVtaXQoJ3NldEN1cnJlbnRNYWluQ2FudmFzSGFzSW1hZ2UnLCB0cnVlKTsgLy8g5Y+R6YCB57uZ55S16LCD77yM55So5LqO5Yik5pat5piv5ZCm5Y+v5Lul6L+b6KGM5b6q546v5ouN5pGECiAgICAvLyAgIC8vIOWPkemAgea2iOaBr+e7mVFU5a6i5oi356uv77yM55So5LqO5L+h5oGv5Zu+5qCHCiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFJlZEJveFN0YXRlOicgKyB0aGlzLlJlZEJveFNpZGVMZW5ndGggKyAnOicgKyB0aGlzLlJPSV94ICsgJzonICsgdGhpcy5ST0lfeSk7CiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFZpc2libGVBcmVhOicgKyB0aGlzLnZpc2libGVYICsgJzonICsgdGhpcy52aXNpYmxlWSArICc6JyArIHRoaXMuc2NhbGUpOwogICAgLy8gICAvLyDlpoLmnpzpgInmi6nkuobmmJ/ngrnvvIzliJnmoLnmja7pgInmi6nkvY3nva7vvIzlnKhST0nljLrln5/kuK3nu5jliLbkuIDkuKrlnIYKICAgIC8vICAgaWYgKHRoaXMuRHJhd1NlbGVjdFN0YXJYICE9IC0xICYmIHRoaXMuRHJhd1NlbGVjdFN0YXJZICE9IC0xICYmIHRoaXMuc2hvd1NlbGVjdFN0YXIpIHsKICAgIC8vICAgICBsZXQgcmFkaXVzLCBjYW52YXNTdGFyWCwgY2FudmFzU3RhclksIGNvbG9yOwogICAgLy8gICAgIC8vIOWmguaenOacieaYn+eCuQogICAgLy8gICAgIGlmICh0aGlzLkRyYXdTZWxlY3RTdGFySEZSICE9IC0xKSB7CiAgICAvLyAgICAgICByYWRpdXMgPSB0aGlzLkRyYXdTZWxlY3RTdGFySEZSL3RoaXMuc2NhbGUqMjsKICAgIC8vICAgICAgIGNhbnZhc1N0YXJYID0gKHRoaXMuRHJhd1NlbGVjdFN0YXJYICsgdGhpcy5ST0lfeCAtIHZpc2libGVMZWZ0KSAqIGN0eC5jYW52YXMud2lkdGggLyBuZXdWaXNpYmxlV2lkdGg7CiAgICAvLyAgICAgICBjYW52YXNTdGFyWSA9ICh0aGlzLkRyYXdTZWxlY3RTdGFyWSArIHRoaXMuUk9JX3kgLSB2aXNpYmxlVG9wKSAqIGN0eC5jYW52YXMuaGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodDsKICAgIC8vICAgICAgIGNvbG9yID0gJ2dyZWVuJzsgLy8g5pyJ5pif54K577yM57uY5Yi257u/6Imy55qE5ZyGCiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIC8vIOWQpuWIme+8jOWcqOmAieaLqeeahOS9jee9rue7mOWItuS4gOS4quWchgogICAgLy8gICAgICAgcmFkaXVzID0gMTAvdGhpcy5zY2FsZTsgLy8g5L2g5Y+v5Lul5qC55o2u6ZyA6KaB6LCD5pW06L+Z5Liq5YC8CiAgICAvLyAgICAgICBjYW52YXNTdGFyWCA9ICh0aGlzLkRyYXdTZWxlY3RTdGFyWCArIHRoaXMuUk9JX3ggLSB2aXNpYmxlTGVmdCkgKiBjdHguY2FudmFzLndpZHRoIC8gbmV3VmlzaWJsZVdpZHRoOwogICAgLy8gICAgICAgY2FudmFzU3RhclkgPSAodGhpcy5EcmF3U2VsZWN0U3RhclkgKyB0aGlzLlJPSV95IC0gdmlzaWJsZVRvcCkgKiBjdHguY2FudmFzLmhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQ7CiAgICAvLyAgICAgICBjb2xvciA9ICdyZWQnOyAvLyDml6DmmJ/ngrnvvIznu5jliLbnuqLoibLnmoTlnIYKICAgIC8vICAgICB9CiAgICAvLyAgICAgLy8g6I635Y+W57uY5Yi25ZyG55qE5L2N572u55qE5Zu+5YOP5pWw5o2uCiAgICAvLyAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YShjYW52YXNTdGFyWCAtIHJhZGl1cywgY2FudmFzU3RhclkgLSByYWRpdXMsIDIgKiByYWRpdXMsIDIgKiByYWRpdXMpOwogICAgLy8gICAgIC8vIOWPkemAgeWbvuWDj+aVsOaNrue7meaYvuekuuahhgogICAgLy8gICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2VsZWN0U3RhckltYWdlJywgaW1hZ2VEYXRhKTsKICAgIC8vICAgICAvLyDlnKjmjIflrprkvY3nva7lvIDlp4vnu5jliLblnIYKICAgIC8vICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAvLyAgICAgY3R4LmFyYyhjYW52YXNTdGFyWCwgY2FudmFzU3RhclksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgLy8gICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yOwogICAgLy8gICAgIGN0eC5saW5lV2lkdGggPSAzOwogICAgLy8gICAgIGN0eC5zdHJva2UoKTsKICAgIC8vICAgICBjdHguY2xvc2VQYXRoKCk7CiAgICAvLyAgIH0KICAgIC8vICAgVGltZTEgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdkcmF3SW1hZ2VEYXRhIHwg57uY5Yi25pif54K55pe26Ze0OiAnICsgKFRpbWUxLmdldFRpbWUoKSAtIFRpbWUyLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSB8IOaAu+aXtumXtDogJyArIChUaW1lMS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gfSwKICAgIGRyYXdJbWFnZURhdGE6IGZ1bmN0aW9uIGRyYXdJbWFnZURhdGEoKSB7CiAgICAgIGlmICh0aGlzLmJ1ZmZlckNhbnZhcyA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSBlcnJvcjogYnVmZmVyQ2FudmFzIGlzIG51bGwgb3IgdW5kZWZpbmVkLicsICdlcnJvcicpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmRyYXdJbWdEYXRhKSByZXR1cm47IC8vIOWPr+eUqOebuOWFs+WPguaVsAogICAgICAvLyB3aW5kb3cuaW5uZXJXaWR0aDsgLy8g56qX5Y+j5a695bqmCiAgICAgIC8vIHdpbmRvdy5pbm5lckhlaWdodDsgLy8g56qX5Y+j6auY5bqmCiAgICAgIC8vIHRoaXMuc2NhbGUg57yp5pS+5q+U5L6LCiAgICAgIC8vIHRoaXMudHJhbnNsYXRlWCDlubPnp7t45Z2Q5qCHCiAgICAgIC8vIHRoaXMudHJhbnNsYXRlWSDlubPnp7t55Z2Q5qCHCiAgICAgIC8vIHRoaXMuQ2FudmFzV2lkdGgg5Li755S75biD5a695bqmIDE5MjAKICAgICAgLy8gdGhpcy5DYW52YXNIZWlnaHQg5Li755S75biD6auY5bqmIDEwODAKICAgICAgLy8gdGhpcy5tYWluQ2FtZXJhU2l6ZVgg5Y6f5aeL5Zu+5YOP5a695bqmCiAgICAgIC8vIHRoaXMubWFpbkNhbWVyYVNpemVZIOWOn+Wni+WbvuWDj+mrmOW6pgogICAgICAvLyB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCDnvJPlhrLnlLvluIPlrr3luqYKICAgICAgLy8gdGhpcy5idWZmZXJDYW52YXMuaGVpZ2h0IOe8k+WGsueUu+W4g+mrmOW6pgogICAgICAvLyB0aGlzLkltYWdlUHJvcG9ydGlvbiDlm77lg4/mr5TkvosKICAgICAgLy8gdGhpcy5ST0lfeCBST0nnmoR45Z2Q5qCHCiAgICAgIC8vIHRoaXMuUk9JX3kgUk9J55qEeeWdkOaghwogICAgICAvLyB0aGlzLlJPSV9sZW5ndGggUk9J55qE6ZW/5bqmCiAgICAgIC8vIGNvbnNvbGUubG9nKCflvZPliY3nlLvluIPlj4LmlbA6XG4gYnVmZmVyQ2FudmFzLndpZHRoOiAnLCB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCwgJ1xuIGJ1ZmZlckNhbnZhcy5oZWlnaHQ6ICcsIHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCwgJ1xuIEltYWdlUHJvcG9ydGlvbjogJywgdGhpcy5JbWFnZVByb3BvcnRpb24sICdcbiBzY2FsZTogJywgdGhpcy5zY2FsZSwgJ1xuIHZpc2libGVYOiAnLCB0aGlzLnZpc2libGVYLCAnXG4gdmlzaWJsZVk6ICcsIHRoaXMudmlzaWJsZVksICdcbiB2aXNpYmxlV2lkdGg6ICcsIHRoaXMudmlzaWJsZVdpZHRoLCAnXG4gdmlzaWJsZUhlaWdodDogJywgdGhpcy52aXNpYmxlSGVpZ2h0LCAnXG4gUk9JX3g6ICcsIHRoaXMuUk9JX3gsICdcbiBST0lfeTogJywgdGhpcy5ST0lfeSwgJ1xuIFJPSV9sZW5ndGg6ICcsIHRoaXMuUk9JX2xlbmd0aCk7CiAgICAgIC8vIOiuoeeul+WPr+ingeWMuuWfnwoKICAgICAgdmFyIG5ld1Zpc2libGVXaWR0aCA9IHRoaXMuYnVmZmVyQ2FudmFzLndpZHRoICogdGhpcy5zY2FsZTsKICAgICAgdmFyIG5ld1Zpc2libGVIZWlnaHQgPSBuZXdWaXNpYmxlV2lkdGggLyB0aGlzLkltYWdlUHJvcG9ydGlvbjsgLy8g6K6h566X5Y+v6KeB5Yy65Z+feOWdkOaghwoKICAgICAgdmFyIG5ld1Zpc2libGVYID0gdGhpcy52aXNpYmxlWDsgLy8g6K6h566X5Y+v6KeB5Yy65Z+feeWdkOaghwoKICAgICAgdmFyIG5ld1Zpc2libGVZID0gdGhpcy52aXNpYmxlWTsgLy8g6YG/5YWN5Zu+5YOP6LaK55WMCgogICAgICBpZiAobmV3VmlzaWJsZVggLSBuZXdWaXNpYmxlV2lkdGggLyAyIDwgMCkgewogICAgICAgIG5ld1Zpc2libGVYID0gbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgICAgfSBlbHNlIGlmIChuZXdWaXNpYmxlWCArIG5ld1Zpc2libGVXaWR0aCAvIDIgPiB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCkgewogICAgICAgIG5ld1Zpc2libGVYID0gdGhpcy5idWZmZXJDYW52YXMud2lkdGggLSBuZXdWaXNpYmxlV2lkdGggLyAyOwogICAgICB9CgogICAgICBpZiAobmV3VmlzaWJsZVkgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMiA8IDApIHsKICAgICAgICBuZXdWaXNpYmxlWSA9IG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgICB9IGVsc2UgaWYgKG5ld1Zpc2libGVZICsgbmV3VmlzaWJsZUhlaWdodCAvIDIgPiB0aGlzLmJ1ZmZlckNhbnZhcy5oZWlnaHQpIHsKICAgICAgICBuZXdWaXNpYmxlWSA9IHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCAtIG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgICB9IC8vIOabtOaWsFJPSeWMuuWfnwogICAgICAvLyDorqHnrpflj6/op4HljLrln5/nmoTovrnnlYwKCgogICAgICB2YXIgdmlzaWJsZUxlZnQgPSBuZXdWaXNpYmxlWCAtIG5ld1Zpc2libGVXaWR0aCAvIDI7CiAgICAgIHZhciB2aXNpYmxlUmlnaHQgPSBuZXdWaXNpYmxlWCArIG5ld1Zpc2libGVXaWR0aCAvIDI7CiAgICAgIHZhciB2aXNpYmxlVG9wID0gbmV3VmlzaWJsZVkgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMjsKICAgICAgdmFyIHZpc2libGVCb3R0b20gPSBuZXdWaXNpYmxlWSArIG5ld1Zpc2libGVIZWlnaHQgLyAyOyAvLyDorqHnrpcgUk9JIOWMuuWfn+eahOi+ueeVjAoKICAgICAgdmFyIHJvaUxlZnQgPSB0aGlzLlJPSV94OwogICAgICB2YXIgcm9pUmlnaHQgPSB0aGlzLlJPSV94ICsgdGhpcy5ST0lfbGVuZ3RoOwogICAgICB2YXIgcm9pVG9wID0gdGhpcy5ST0lfeTsKICAgICAgdmFyIHJvaUJvdHRvbSA9IHRoaXMuUk9JX3kgKyB0aGlzLlJPSV9sZW5ndGg7IC8vIOWIpOaWrSBST0kg5Yy65Z+f5piv5ZCm5Zyo5Y+v6KeB5Yy65Z+f5YaFCgogICAgICB2YXIgaXNSb2lJblZpc2libGUgPSByb2lSaWdodCA+PSB2aXNpYmxlTGVmdCAmJiByb2lMZWZ0IDw9IHZpc2libGVSaWdodCAmJiByb2lCb3R0b20gPj0gdmlzaWJsZVRvcCAmJiByb2lUb3AgPD0gdmlzaWJsZUJvdHRvbTsgLy8g6K6h566XIFJPSSDljLrln5/lnKjlsY/luZXkuIrnmoTkvY3nva7vvIzkuK3lv4PngrnlnZDmoIcKCiAgICAgIHZhciByb2lTY3JlZW5YID0gKHRoaXMuUk9JX3ggLSB2aXNpYmxlTGVmdCkgKiAod2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGgpICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGggLyAyOwogICAgICB2YXIgcm9pU2NyZWVuWSA9ICh0aGlzLlJPSV95IC0gdmlzaWJsZVRvcCkgKiAod2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCkgKyB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJIZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0IC8gMjsgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnUk9JIOWMuuWfn+WcqOWxj+W5leS4iueahOS9jee9rjogJyArIHJvaVNjcmVlblggKyAnKicgKyByb2lTY3JlZW5ZICsgJ+mVv+W6piAnICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGggKyAnKicgKyB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJIZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0LCAnaW5mbycpOwoKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRSZWRCb3hMZW5ndGgnLCB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJXaWR0aCAvIG5ld1Zpc2libGVXaWR0aCwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UmVkQm94UG9zaXRpb24nLCByb2lTY3JlZW5YLCByb2lTY3JlZW5ZKTsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMubWFpbkNhbnZhczsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBjYW52YXMud2lkdGggPSB0aGlzLkNhbnZhc1dpZHRoOwogICAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5DYW52YXNIZWlnaHQ7CiAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5idWZmZXJDYW52YXMsIHZpc2libGVMZWZ0LCB2aXNpYmxlVG9wLCBuZXdWaXNpYmxlV2lkdGgsIG5ld1Zpc2libGVIZWlnaHQsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIHRoaXMudmlzaWJsZVggPSBuZXdWaXNpYmxlWDsKICAgICAgdGhpcy52aXNpYmxlWSA9IG5ld1Zpc2libGVZOwogICAgICB0aGlzLnZpc2libGVXaWR0aCA9IG5ld1Zpc2libGVXaWR0aDsKICAgICAgdGhpcy52aXNpYmxlSGVpZ2h0ID0gbmV3VmlzaWJsZUhlaWdodDsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRDdXJyZW50TWFpbkNhbnZhc0hhc0ltYWdlJywgdHJ1ZSk7IC8vIOWPkemAgee7meeUteiwg++8jOeUqOS6juWIpOaWreaYr+WQpuWPr+S7pei/m+ihjOW+queOr+aLjeaRhAogICAgICAvLyDlj5HpgIHmtojmga/nu5lRVOWuouaIt+err++8jOeUqOS6juS/oeaBr+WbvuaghwoKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzZW5kUmVkQm94U3RhdGU6JyArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCArICc6JyArIHRoaXMuUk9JX3ggKiB0aGlzLmNhbWVyYUJpbiArICc6JyArIHRoaXMuUk9JX3kgKiB0aGlzLmNhbWVyYUJpbik7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFZpc2libGVBcmVhOicgKyB0aGlzLnZpc2libGVYICsgJzonICsgdGhpcy52aXNpYmxlWSArICc6JyArIHRoaXMuc2NhbGUpOyAvLyDlpoLmnpzpgInmi6nkuobmmJ/ngrnvvIzliJnmoLnmja7pgInmi6nkvY3nva7vvIzlnKhST0nljLrln5/kuK3nu5jliLbkuIDkuKrlnIYKCiAgICAgIGlmICh0aGlzLkRyYXdTZWxlY3RTdGFyWCAhPSAtMSAmJiB0aGlzLkRyYXdTZWxlY3RTdGFyWSAhPSAtMSAmJiB0aGlzLnNob3dTZWxlY3RTdGFyKSB7CiAgICAgICAgdmFyIHJhZGl1cywgY2FudmFzU3RhclgsIGNhbnZhc1N0YXJZLCBjb2xvcjsgLy8g5aaC5p6c5pyJ5pif54K5CgogICAgICAgIGlmICh0aGlzLkRyYXdTZWxlY3RTdGFySEZSICE9IC0xKSB7CiAgICAgICAgICByYWRpdXMgPSB0aGlzLkRyYXdTZWxlY3RTdGFySEZSIC8gdGhpcy5zY2FsZSAqIDI7CiAgICAgICAgICBpZiAocmFkaXVzIDw9IDEpIHJhZGl1cyA9IDU7CiAgICAgICAgICBjYW52YXNTdGFyWCA9ICh0aGlzLkRyYXdTZWxlY3RTdGFyWCAvIHRoaXMuY2FtZXJhQmluICsgdGhpcy5ST0lfeCAtIHZpc2libGVMZWZ0KSAqIGN0eC5jYW52YXMud2lkdGggLyBuZXdWaXNpYmxlV2lkdGg7CiAgICAgICAgICBjYW52YXNTdGFyWSA9ICh0aGlzLkRyYXdTZWxlY3RTdGFyWSAvIHRoaXMuY2FtZXJhQmluICsgdGhpcy5ST0lfeSAtIHZpc2libGVUb3ApICogY3R4LmNhbnZhcy5oZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0OwogICAgICAgICAgY29sb3IgPSAnZ3JlZW4nOyAvLyDmnInmmJ/ngrnvvIznu5jliLbnu7/oibLnmoTlnIYKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5ZCm5YiZ77yM5Zyo6YCJ5oup55qE5L2N572u57uY5Yi25LiA5Liq5ZyGCiAgICAgICAgICByYWRpdXMgPSAxMCAvIHRoaXMuc2NhbGU7IC8vIOS9oOWPr+S7peagueaNrumcgOimgeiwg+aVtOi/meS4quWAvAoKICAgICAgICAgIGNhbnZhc1N0YXJYID0gKHRoaXMuRHJhd1NlbGVjdFN0YXJYIC8gdGhpcy5jYW1lcmFCaW4gKyB0aGlzLlJPSV94IC0gdmlzaWJsZUxlZnQpICogY3R4LmNhbnZhcy53aWR0aCAvIG5ld1Zpc2libGVXaWR0aDsKICAgICAgICAgIGNhbnZhc1N0YXJZID0gKHRoaXMuRHJhd1NlbGVjdFN0YXJZIC8gdGhpcy5jYW1lcmFCaW4gKyB0aGlzLlJPSV95IC0gdmlzaWJsZVRvcCkgKiBjdHguY2FudmFzLmhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQ7CiAgICAgICAgICBjb2xvciA9ICdyZWQnOyAvLyDml6DmmJ/ngrnvvIznu5jliLbnuqLoibLnmoTlnIYKICAgICAgICB9IC8vIOiOt+WPlue7mOWItuWchueahOS9jee9rueahOWbvuWDj+aVsOaNrgoKCiAgICAgICAgdmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoY2FudmFzU3RhclggLSByYWRpdXMsIGNhbnZhc1N0YXJZIC0gcmFkaXVzLCAyICogcmFkaXVzLCAyICogcmFkaXVzKTsgLy8g5Y+R6YCB5Zu+5YOP5pWw5o2u57uZ5pi+56S65qGGCgogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2VsZWN0U3RhckltYWdlJywgaW1hZ2VEYXRhKTsgLy8g5Zyo5oyH5a6a5L2N572u5byA5aeL57uY5Yi25ZyGCgogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHguYXJjKGNhbnZhc1N0YXJYLCBjYW52YXNTdGFyWSwgcmFkaXVzLCAwLCAyICogTWF0aC5QSSk7CiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7CiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDM7CiAgICAgICAgY3R4LnN0cm9rZSgpOwogICAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuZm9jdXNlclJPSVN0YXJzTGlzdCAmJiB0aGlzLmZvY3VzZXJST0lTdGFyc0xpc3QubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuYnVmZmVyQ3R4LnNhdmUoKTsgLy8g6K6+572u6KOB5Ymq5Yy65Z+f5Li6Uk9J5Yy65Z+fCgogICAgICAgIHRoaXMuYnVmZmVyQ3R4LmJlZ2luUGF0aCgpOwogICAgICAgIHRoaXMuYnVmZmVyQ3R4LnJlY3QodGhpcy5ST0lfeCwgdGhpcy5ST0lfeSwgdGhpcy5ST0lfd2lkdGgsIHRoaXMuUk9JX2hlaWdodCk7CiAgICAgICAgdGhpcy5idWZmZXJDdHguY2xpcCgpOwogICAgICAgIHRoaXMuYnVmZmVyQ3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDI1NSwgMCwgMC4yKSc7IC8vIOWNiumAj+aYjue7v+iJsgoKICAgICAgICB0aGlzLmJ1ZmZlckN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDAsIDI1NSwgMCwgMC40KSc7IC8vIOe7v+iJsui+ueahhgoKICAgICAgICB0aGlzLmJ1ZmZlckN0eC5saW5lV2lkdGggPSAxOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yOSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZm9jdXNlclJPSVN0YXJzTGlzdCksCiAgICAgICAgICAgIF9zdGVwOTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yOS5zKCk7ICEoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBzdGFyID0gX3N0ZXA5LnZhbHVlOwogICAgICAgICAgICB2YXIgc3RhclJhZGl1cyA9IHN0YXIuSEZSIC8gdGhpcy5jYW1lcmFCaW4gKyAyIHx8IDU7IC8vIOWmguaenOaciUhGUuWPguaVsOeUqOWug++8jOWQpuWImem7mOiupDXkuKrlg4/ntKAKCiAgICAgICAgICAgIHZhciBhYnNvbHV0ZVggPSB0aGlzLlJPSV94ICsgc3Rhci54IC8gdGhpcy5jYW1lcmFCaW47CiAgICAgICAgICAgIHZhciBhYnNvbHV0ZVkgPSB0aGlzLlJPSV95ICsgc3Rhci55IC8gdGhpcy5jYW1lcmFCaW47IC8vIOe7mOWItuWchuWciAoKICAgICAgICAgICAgdGhpcy5idWZmZXJDdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIHRoaXMuYnVmZmVyQ3R4LmFyYyhhYnNvbHV0ZVgsIGFic29sdXRlWSwgc3RhclJhZGl1cywgMCwgTWF0aC5QSSAqIDIpOwogICAgICAgICAgICB0aGlzLmJ1ZmZlckN0eC5maWxsKCk7CiAgICAgICAgICAgIHRoaXMuYnVmZmVyQ3R4LnN0cm9rZSgpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yOS5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjkuZigpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5mb2N1c2VyUk9JU3RhcnNMaXN0ID0gW107CiAgICAgICAgdGhpcy5idWZmZXJDdHgucmVzdG9yZSgpOyAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfmoIfms6jkuoYnICsgdGhpcy5mb2N1c2VyUk9JU3RhcnNMaXN0Lmxlbmd0aCArICfkuKrmmJ/ngrknLCAnaW5mbycpOwogICAgICB9CiAgICB9LAogICAgYWRkRXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCkge30sCiAgICAvLyDoioLmtYHlh73mlbAKICAgIHRocm90dGxlOiBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCBkZWxheSkgewogICAgICB2YXIgbGFzdEV4ZWN1dGVkID0gMDsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKCiAgICAgICAgaWYgKG5vdyAtIGxhc3RFeGVjdXRlZCA+PSBkZWxheSkgewogICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgICAgICB9CgogICAgICAgICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgICAgIGxhc3RFeGVjdXRlZCA9IG5vdzsKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgLy8gSW1hZ2VTb2Z0QVdCKGltZzgsIGdhaW5SLCBnYWluQiwgb2Zmc2V0KSB7CiAgICAvLyAgIC8vIOWIhuemu+mAmumBkwogICAgLy8gICBsZXQgY2hhbm5lbHMgPSBuZXcgY3YuTWF0VmVjdG9yKCk7CiAgICAvLyAgIGN2LnNwbGl0KGltZzgsIGNoYW5uZWxzKTsKICAgIC8vICAgY29uc3QgYiA9IGNoYW5uZWxzLmdldCgwKTsKICAgIC8vICAgY29uc3QgZyA9IGNoYW5uZWxzLmdldCgxKTsKICAgIC8vICAgY29uc3QgciA9IGNoYW5uZWxzLmdldCgyKTsKICAgIC8vICAgLy8g6Ieq6YCC5bqU55u05pa55Zu+5Z2H6KGh5YyWCiAgICAvLyAgIGNvbnN0IGNsYWhlID0gbmV3IGN2LkNMQUhFKDIuMCwgbmV3IGN2LlNpemUoOCwgOCkpOwogICAgLy8gICBjbGFoZS5hcHBseShiLCBiKTsKICAgIC8vICAgY2xhaGUuYXBwbHkoZywgZyk7CiAgICAvLyAgIGNsYWhlLmFwcGx5KHIsIHIpOwogICAgLy8gICAvLyDlupTnlKjlop7nm4rlkozlgY/nva4KICAgIC8vICAgci5jb252ZXJ0VG8ociwgLTEsIGdhaW5SLCBvZmZzZXQpOwogICAgLy8gICBiLmNvbnZlcnRUbyhiLCAtMSwgZ2FpbkIsIG9mZnNldCk7CiAgICAvLyAgIGcuY29udmVydFRvKGcsIC0xLCAxLCBvZmZzZXQpOyAvLyDlr7nnu7/oibLpgJrpgZPlupTnlKjlgY/nva7kvYbkuI3mlLnlj5jlop7nm4oKICAgIC8vICAgLy8g5pu05pawIGNoYW5uZWxzIOS4reeahOmAmumBk+aVsOaNrgogICAgLy8gICBjaGFubmVscy5zZXQoMCwgYik7CiAgICAvLyAgIGNoYW5uZWxzLnNldCgxLCBnKTsKICAgIC8vICAgY2hhbm5lbHMuc2V0KDIsIHIpOwogICAgLy8gICAvLyDlkIjlubbpgJrpgZMKICAgIC8vICAgbGV0IG1lcmdlZEltZyA9IG5ldyBjdi5NYXQoKTsKICAgIC8vICAgY3YubWVyZ2UoY2hhbm5lbHMsIG1lcmdlZEltZyk7CiAgICAvLyAgIC8vIOmHiuaUvui1hOa6kAogICAgLy8gICBiLmRlbGV0ZSgpOyAvLyDph4rmlL4gYgogICAgLy8gICBnLmRlbGV0ZSgpOyAvLyDph4rmlL4gZwogICAgLy8gICByLmRlbGV0ZSgpOyAvLyDph4rmlL4gcgogICAgLy8gICBjaGFubmVscy5kZWxldGUoKTsKICAgIC8vICAgY2xhaGUuZGVsZXRlKCk7IC8vIOmHiuaUviBjbGFoZQogICAgLy8gICByZXR1cm4gbWVyZ2VkSW1nOwogICAgLy8gfSwKICAgIC8vIEJpdDE2VG84X1N0cmV0Y2goaW1nMTYsIEIsIFcpIHsKICAgIC8vICAgY29uc29sZS5sb2coJ0JpdDE2VG84X1N0cmV0Y2ggfCBCID0gJyArIEIgKyAnLCBXID0gJyArIFcpOwogICAgLy8gICBsZXQgaW1nOCA9IG5ldyBjdi5NYXQoKTsKICAgIC8vICAgaW1nOC5jcmVhdGUoaW1nMTYucm93cywgaW1nMTYuY29scywgY3YuQ1ZfOFVDNCk7CiAgICAvLyAgIGltZzE2LmNvbnZlcnRUbyhpbWc4LCBjdi5DVl84VSwgMjU1LjAgLyAoVyAtIEIpLCAtQiAqIDI1NS4wIC8gKFcgLSBCKSk7CiAgICAvLyAgIGNvbnN0IHJlc3VsdCA9IGltZzguY2xvbmUoKTsgLy8g5YWL6ZqGIGltZzgg5Lul6L+U5Zue57uT5p6cCiAgICAvLyAgIGltZzguZGVsZXRlKCk7IC8vIOmHiuaUviBpbWc4CiAgICAvLyAgIHJldHVybiByZXN1bHQ7CiAgICAvLyB9LAogICAgQml0MTZUbzhfU3RyZXRjaDogZnVuY3Rpb24gQml0MTZUbzhfU3RyZXRjaChpbWcxNiwgQiwgVykgewogICAgICBjb25zb2xlLmxvZygnQml0MTZUbzhfU3RyZXRjaCB8IEIgPSAnICsgQiArICcsIFcgPSAnICsgVyk7CiAgICAgIHZhciBpbWc4ID0gbmV3IGN2Lk1hdChpbWcxNi5yb3dzLCBpbWcxNi5jb2xzLCBjdi5DVl84VUM0KTsKICAgICAgaW1nMTYuY29udmVydFRvKGltZzgsIGN2LkNWXzhVLCAyNTUuMCAvIChXIC0gQiksIC1CICogMjU1LjAgLyAoVyAtIEIpKTsKICAgICAgcmV0dXJuIGltZzg7CiAgICB9LAogICAgRHJhd0RldGVjdFN0YXJzOiBmdW5jdGlvbiBEcmF3RGV0ZWN0U3RhcnMoaW1hZ2UsIFN0YXJzKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdEcmF3IGNpcmNsZSBvbiB0aGUgQ2FwdHVyZSBJbWFnZSgnLCBpbWFnZS5jb2xzLCAnLCcsIGltYWdlLnJvd3MsICcpLicpOwoKICAgICAgaWYgKCEoaW1hZ2UgaW5zdGFuY2VvZiBjdi5NYXQpKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGltYWdlIGRhdGEnKTsKICAgICAgfQoKICAgICAgU3RhcnMuZm9yRWFjaChmdW5jdGlvbiAoc3RhcikgewogICAgICAgIHZhciBjZW50ZXJYID0gTWF0aC5yb3VuZChzdGFyLnggLyAoX3RoaXMxNC5tYWluQ2FtZXJhU2l6ZVggLyBpbWFnZS5jb2xzKSk7CiAgICAgICAgdmFyIGNlbnRlclkgPSBNYXRoLnJvdW5kKHN0YXIueSAvIChfdGhpczE0Lm1haW5DYW1lcmFTaXplWSAvIGltYWdlLnJvd3MpKTsKICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5yb3VuZChzdGFyLmhmcik7CiAgICAgICAgY29uc29sZS5sb2coJ0RyYXcgY2lyY2xlIGF0KCcsIGNlbnRlclgsICcsJywgY2VudGVyWSwgJykgd2l0aCByYWRpdXM6JywgcmFkaXVzKTsKICAgICAgICB2YXIgY2VudGVyID0gbmV3IGN2LlBvaW50KGNlbnRlclgsIGNlbnRlclkpOwogICAgICAgIHZhciBjb2xvciA9IG5ldyBjdi5TY2FsYXIoMjU1LCAwLCAwLCAyNTUpOwogICAgICAgIHZhciB0aGlja25lc3MgPSAyOyAvLyDlnIblnIjljprluqYKCiAgICAgICAgY3YuY2lyY2xlKGltYWdlLCBjZW50ZXIsIHJhZGl1cywgY29sb3IsIHRoaWNrbmVzcyk7IC8vIOa3u+WKoCBoZnIg5YC85Yiw5ZyG55qE5LiK5pa5CiAgICAgICAgLy8g56Gu5L+dIHN0YXIuaGZyIOaYr+S4gOS4quaVsOWtlwoKICAgICAgICB2YXIgaGZyVmFsdWUgPSBwYXJzZUZsb2F0KHN0YXIuaGZyKTsKCiAgICAgICAgaWYgKGlzTmFOKGhmclZhbHVlKSkgewogICAgICAgICAgaGZyVmFsdWUgPSAwOyAvLyDlpoLmnpwgc3Rhci5oZnIg5LiN6IO96L2s5o2i5Li65pWw5a2X77yM5YiZ6buY6K6k5YC86K6+5Li6MAogICAgICAgIH0gLy8g5L+d55WZ5Yiw5bCP5pWw54K55ZCOMuS9jQoKCiAgICAgICAgdmFyIHRleHQgPSBoZnJWYWx1ZS50b0ZpeGVkKDIpOwogICAgICAgIHZhciBmb250RmFjZSA9IGN2LkZPTlRfSEVSU0hFWV9TSU1QTEVYOwogICAgICAgIHZhciBmb250U2NhbGUgPSAxOwogICAgICAgIHZhciB0ZXh0Q29sb3IgPSBuZXcgY3YuU2NhbGFyKDI1NSwgMCwgMCwgMjU1KTsKICAgICAgICB2YXIgdGV4dFRoaWNrbmVzcyA9IDI7IC8vIOaJi+WKqOiuvue9ruaWh+acrOeahOS9jee9ru+8jOWBh+iuvuWtl+S9k+mrmOW6puWkp+e6puS4ujEw5YOP57SgCgogICAgICAgIHZhciB0ZXh0WCA9IGNlbnRlclggLSB0ZXh0Lmxlbmd0aCAqIDEwOyAvLyDkvLDnrpfmr4/kuKrlrZfnrKblrr3luqbkuLo15YOP57SgCgogICAgICAgIHZhciB0ZXh0WSA9IGNlbnRlclkgLSByYWRpdXMgLSAzOyAvLyDlnIbnmoTkuIrmlrkgMyDlg4/ntKAKICAgICAgICAvLyDlnKjlm77lg4/kuIrnu5jliLbmlofmnKwKCiAgICAgICAgY3YucHV0VGV4dChpbWFnZSwgdGV4dCwgbmV3IGN2LlBvaW50KHRleHRYLCB0ZXh0WSksIGZvbnRGYWNlLCBmb250U2NhbGUsIHRleHRDb2xvciwgdGV4dFRoaWNrbmVzcyk7CiAgICAgIH0pOwogICAgICB2YXIgaW1hZ2VEYXRhID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoaW1hZ2UuZGF0YSksIGltYWdlLmNvbHMsIGltYWdlLnJvd3MpOwogICAgICByZXR1cm4gaW1hZ2VEYXRhOwogICAgfSwKICAgIERyYXdQSEQyQm94OiBmdW5jdGlvbiBEcmF3UEhEMkJveChQSEQySW1hZ2VTaXplX1gsIFBIRDJJbWFnZVNpemVfWSwgQm94X1gsIEJveF9ZKSB7CiAgICAgIHZhciByYXRpb1pvb21YID0gUEhEMkltYWdlU2l6ZV9YIC8gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIHZhciByYXRpb1pvb21ZID0gUEhEMkltYWdlU2l6ZV9ZIC8gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB2YXIgQm94V2lkdGggPSAyMCAvIHJhdGlvWm9vbVg7CiAgICAgIHZhciBCb3hIZWlnaHQgPSAyMCAvIHJhdGlvWm9vbVk7CiAgICAgIHZhciBCb3hTdGFydFggPSBCb3hfWCAvIHJhdGlvWm9vbVggLSBCb3hXaWR0aCAvIDI7CiAgICAgIHZhciBCb3hTdGFydFkgPSBCb3hfWSAvIHJhdGlvWm9vbVkgLSBCb3hIZWlnaHQgLyAyOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1BIRDJCb3hQb3NpdGlvbicsIEJveFN0YXJ0WCwgQm94U3RhcnRZLCBCb3hXaWR0aCwgQm94SGVpZ2h0KTsKICAgIH0sCiAgICBEcmF3UEhEMkNyb3NzOiBmdW5jdGlvbiBEcmF3UEhEMkNyb3NzKFBIRDJJbWFnZVNpemVfWCwgUEhEMkltYWdlU2l6ZV9ZLCBDcm9zc19YLCBDcm9zc19ZKSB7CiAgICAgIHZhciByYXRpb1pvb21YID0gUEhEMkltYWdlU2l6ZV9YIC8gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIHZhciByYXRpb1pvb21ZID0gUEhEMkltYWdlU2l6ZV9ZIC8gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB2YXIgQ3Jvc3NTdGFydFggPSBDcm9zc19YIC8gcmF0aW9ab29tWDsKICAgICAgdmFyIENyb3NzU3RhcnRZID0gQ3Jvc3NfWSAvIHJhdGlvWm9vbVk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUEhEMkNyb3NzUG9zaXRpb24nLCBDcm9zc1N0YXJ0WCwgQ3Jvc3NTdGFydFkpOwogICAgfSwKICAgIERyYXdQSEQyTXVsdGlTdGFyczogZnVuY3Rpb24gRHJhd1BIRDJNdWx0aVN0YXJzKFBIRDJJbWFnZVNpemVfWCwgUEhEMkltYWdlU2l6ZV9ZLCBTdGFyX1gsIFN0YXJfWSkgewogICAgICB2YXIgcmF0aW9ab29tWCA9IFBIRDJJbWFnZVNpemVfWCAvIHdpbmRvdy5pbm5lcldpZHRoOwogICAgICB2YXIgcmF0aW9ab29tWSA9IFBIRDJJbWFnZVNpemVfWSAvIHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgdmFyIFN0YXJTdGFydFggPSBTdGFyX1ggLyByYXRpb1pvb21YIC0gMTIgLyAyOwogICAgICB2YXIgU3RhclN0YXJ0WSA9IFN0YXJfWSAvIHJhdGlvWm9vbVkgLSAxMiAvIDI7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUEhEMk11bHRpU3RhcnNQb3NpdGlvbicsIFN0YXJTdGFydFgsIFN0YXJTdGFydFkpOwogICAgfSwKICAgIC8vIEdldEF1dG9TdHJldGNoKGltZ0RhdGEsIG1vZGUsIGJpdERlcHRoID0gMTYpIHsKICAgIC8vICAgaWYgKGltZ0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAvLyAgICAgICByZXR1cm4geyBibGFja0xldmVsOiAwLCB3aGl0ZUxldmVsOiBiaXREZXB0aCA9PT0gOCA/IDI1NSA6IDY1NTM1IH07CiAgICAvLyAgIH0KICAgIC8vICAgY29uc3QgbGVuZ3RoID0gaW1nRGF0YS5sZW5ndGg7CiAgICAvLyAgIGxldCBtZWFuID0gMDsKICAgIC8vICAgbGV0IE0yID0gMDsKICAgIC8vICAgLy8g6K6h566X5Z2H5YC85ZKM5pa55beuCiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgIC8vICAgICAgIGNvbnN0IGRlbHRhID0gaW1nRGF0YVtpXSAtIG1lYW47CiAgICAvLyAgICAgICBtZWFuICs9IGRlbHRhIC8gKGkgKyAxKTsKICAgIC8vICAgICAgIE0yICs9IGRlbHRhICogKGltZ0RhdGFbaV0gLSBtZWFuKTsKICAgIC8vICAgfQogICAgLy8gICBjb25zdCB2YXJpYW5jZSA9IE0yIC8gbGVuZ3RoOwogICAgLy8gICBjb25zdCBzdGQgPSBNYXRoLnNxcnQodmFyaWFuY2UpOwogICAgLy8gICAvLyDmoLnmja7mqKHlvI/orr7nva7moIflh4blt67lgI3mlbAKICAgIC8vICAgbGV0IGEsIGI7CiAgICAvLyAgIHN3aXRjaCAobW9kZSkgewogICAgLy8gICAgICAgY2FzZSAwOiBhID0gMzsgYiA9IDU7IGJyZWFrOwogICAgLy8gICAgICAgY2FzZSAxOiBhID0gMjsgYiA9IDU7IGJyZWFrOwogICAgLy8gICAgICAgY2FzZSAyOiBhID0gMzsgYiA9IDg7IGJyZWFrOwogICAgLy8gICAgICAgZGVmYXVsdDogYSA9IDI7IGIgPSA4OwogICAgLy8gICB9CiAgICAvLyAgIC8vIOWKqOaAgemAguW6lOS9jea3sQogICAgLy8gICBjb25zdCBtYXhWYWx1ZSA9IGJpdERlcHRoID09PSA4ID8gMjU1IDogNjU1MzU7CiAgICAvLyAgIGxldCBieCA9IE1hdGgubWF4KDAsIG1lYW4gLSBzdGQgKiBhKTsKICAgIC8vICAgbGV0IHd4ID0gTWF0aC5taW4obWF4VmFsdWUsIG1lYW4gKyBzdGQgKiBiKTsKICAgIC8vICAgLy8g56Gu5L+dIGJsYWNrTGV2ZWwgPCB3aGl0ZUxldmVsCiAgICAvLyAgIGxldCBibGFja0xldmVsID0gTWF0aC5yb3VuZChieCk7CiAgICAvLyAgIGxldCB3aGl0ZUxldmVsID0gTWF0aC5yb3VuZCh3eCk7CiAgICAvLyAgIGlmIChibGFja0xldmVsID49IHdoaXRlTGV2ZWwpIHsKICAgIC8vICAgICAgIGJsYWNrTGV2ZWwgPSB3aGl0ZUxldmVsIC0gMTsKICAgIC8vICAgfQogICAgLy8gICByZXR1cm4geyBibGFja0xldmVsLCB3aGl0ZUxldmVsIH07CiAgICAvLyB9LAogICAgLy8gZmV0Y2hJbWFnZShpbWFnZVBhdGgpIHsKICAgIC8vICAgY29uc3QgdXJsID0gaW1hZ2VQYXRoOwogICAgLy8gICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgIC8vICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJzsgLy8g6K6+572u5ZON5bqU57G75Z6L5Li6IGJsb2IKICAgIC8vICAgeGhyLm9ubG9hZCA9ICgpID0+IHsKICAgIC8vICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAvLyAgICAgICBjb25zdCBpbWFnZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoeGhyLnJlc3BvbnNlKTsKICAgIC8vICAgICAgIC8vIOWcqOi/memHjO+8jOaCqOWPr+S7peWwhiBpbWFnZVVybCDorr7nva7liLDmn5DkuKogPGltZz4g5YWD57Sg5LiK77yM5oiW6ICF5YGa5YW25LuW5aSE55CGCiAgICAvLyAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3Nob3dDYXB0dXJlSW1hZ2UnKTsKICAgIC8vICAgICAgIHRoaXMuZGlzcGxheUltYWdlT25DYW52YXMoaW1hZ2VVcmwpOyAvLyDlsIblm77lg4/mmL7npLrlnKhDYW52YXPkuIoKICAgIC8vICAgICB9IGVsc2UgewogICAgLy8gICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHRoZSBpbWFnZS4gU3RhdHVzOicsIHhoci5zdGF0dXMpOwogICAgLy8gICAgIH0KICAgIC8vICAgfTsKICAgIC8vICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7CiAgICAvLyAgICAgY29uc29sZS5lcnJvcignVGhlcmUgd2FzIGFuIGVycm9yIGZldGNoaW5nIHRoZSBpbWFnZS4nKTsKICAgIC8vICAgfTsKICAgIC8vICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7CiAgICAvLyAgIHhoci5zZW5kKCk7CiAgICAvLyB9LAogICAgLy8gZGlzcGxheUltYWdlT25DYW52YXMoaW1hZ2VVcmwpIHsKICAgIC8vICAgY29uc3Qgc2hvd2NhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluQ2FtZXJhLWNhbnZhcycpOwogICAgLy8gICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnVGVzdENhbnZhcycpOwogICAgLy8gICBjb25zdCBzaG93Y3R4ID0gc2hvd2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgLy8gICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgIC8vICAgc2hvd2NhbnZhcy53aWR0aCA9IHRoaXMuQ2FudmFzV2lkdGg7CiAgICAvLyAgIHNob3djYW52YXMuaGVpZ2h0ID0gdGhpcy5DYW52YXNIZWlnaHQ7CiAgICAvLyAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBjYW52YXMgc2l6ZTonLCBzaG93Y2FudmFzLndpZHRoLCBzaG93Y2FudmFzLmhlaWdodCk7CiAgICAvLyAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpOwogICAgLy8gICBpbWcuc2V0QXR0cmlidXRlKCdjcm9zc09yaWdpbicsICcnKTsKICAgIC8vICAgaW1nLm9ubG9hZCA9ICgpID0+IHsKICAgIC8vICAgICB0aGlzLmhpc3RvZ3JhbUltYWdlID0gaW1nOwogICAgLy8gICAgIC8vIOiuoeeul+WbvuWDj+eahOe8qeaUvuavlOS+i+S7peS9v+WFtumTuua7oeWbuuWumuWkp+Wwj+eahCBDYW52YXMKICAgIC8vICAgICBjb25zdCBzY2FsZVdpZHRoID0gc2hvd2NhbnZhcy53aWR0aCAvIGltZy53aWR0aDsKICAgIC8vICAgICBjb25zdCBzY2FsZUhlaWdodCA9IHNob3djYW52YXMuaGVpZ2h0IC8gaW1nLmhlaWdodDsKICAgIC8vICAgICBjb25zdCB3aWR0aCA9IGltZy53aWR0aCAqIHNjYWxlV2lkdGg7CiAgICAvLyAgICAgY29uc3QgaGVpZ2h0ID0gaW1nLmhlaWdodCAqIHNjYWxlSGVpZ2h0OwogICAgLy8gICAgIC8vIOa4heepuiBDYW52YXMKICAgIC8vICAgICBzaG93Y3R4LmNsZWFyUmVjdCgwLCAwLCBzaG93Y2FudmFzLndpZHRoLCBzaG93Y2FudmFzLmhlaWdodCk7CiAgICAvLyAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBzaG93Y2FudmFzLndpZHRoLCBzaG93Y2FudmFzLmhlaWdodCk7CiAgICAvLyAgICAgLy8g5ZyoIENhbnZhcyDkuIrnu5jliLblm77lg48KICAgIC8vICAgICBzaG93Y3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgLy8gICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgIC8vICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgY3Jvc3NPcmlnaW46JywgaW1nLmNyb3NzT3JpZ2luKTsKICAgIC8vICAgICB0aGlzLmltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgIC8vICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgaW1hZ2VEYXRhOicsIHRoaXMuaW1hZ2VEYXRhKTsKICAgIC8vICAgICB0aGlzLk1ha2VIaXN0b2dyYW0odGhpcy5pbWFnZURhdGEpOwogICAgLy8gICB9OwogICAgLy8gICBpbWcuc3JjID0gaW1hZ2VVcmw7CiAgICAvLyB9LAogICAgLy8gTWFrZUhpc3RvZ3JhbShpbWFnZURhdGEpIHsKICAgIC8vICAgY29uc29sZS5sb2coJ01ha2VIaXN0b2dyYW0nKTsKICAgIC8vICAgLy8g6K6h566X5LiJ5Liq6YCa6YGT55qE55u05pa55Zu+CiAgICAvLyAgIHRoaXMuaGlzdG9ncmFtRGF0YSA9IHRoaXMuY2FsY3VsYXRlSGlzdG9ncmFtKGltYWdlRGF0YSk7CiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd0hpc3RvZ3JhbScsIHRoaXMuaGlzdG9ncmFtRGF0YSk7CiAgICAvLyB9LAogICAgY2FsY3VsYXRlSGlzdG9ncmFtOiBmdW5jdGlvbiBjYWxjdWxhdGVIaXN0b2dyYW0oaW1hZ2VEYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBjYWxjdWxhdGVIaXN0b2dyYW0nKTsKICAgICAgdmFyIGhpc3RvZ3JhbSA9IFtBcnJheSgyNTYpLmZpbGwoMCksIC8vIOWtmOWCqOiTneiJsumAmumBk+ebtOaWueWbvgogICAgICBBcnJheSgyNTYpLmZpbGwoMCksIC8vIOWtmOWCqOe7v+iJsumAmumBk+ebtOaWueWbvgogICAgICBBcnJheSgyNTYpLmZpbGwoMCkgLy8g5a2Y5YKo57qi6Imy6YCa6YGT55u05pa55Zu+CiAgICAgIF07IC8vIOWIhuWIq+iuoeeul+S4ieS4qumAmumBk+eahOebtOaWueWbvgoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgKz0gNCkgewogICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07CiAgICAgICAgdmFyIGcgPSBpbWFnZURhdGEuZGF0YVtpICsgMV07CiAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07IC8vIOabtOaWsOavj+S4qumAmumBk+eahOebtOaWueWbvgoKICAgICAgICBoaXN0b2dyYW1bMF1bYl0rKzsKICAgICAgICBoaXN0b2dyYW1bMV1bZ10rKzsKICAgICAgICBoaXN0b2dyYW1bMl1bcl0rKzsKICAgICAgfQoKICAgICAgcmV0dXJuIGhpc3RvZ3JhbTsKICAgIH0sCiAgICBhcHBseUhpc3RTdHJldGNoOiBmdW5jdGlvbiBhcHBseUhpc3RTdHJldGNoKE1pbiwgTWF4KSB7CiAgICAgIHRoaXMuY3VycmVudEhpc3RvZ3JhbU1pbiA9IE1pbjsKICAgICAgdGhpcy5jdXJyZW50SGlzdG9ncmFtTWF4ID0gTWF4OwoKICAgICAgaWYgKHRoaXMuSW1hZ2VBcnJheUJ1ZmZlcikgewogICAgICAgIHRoaXMucHJvY2Vzc0ltYWdlKHRoaXMuSW1hZ2VBcnJheUJ1ZmZlciwgTWluLCBNYXgsIHsKICAgICAgICAgIGNhbGN1bGF0ZUhpc3RvZ3JhbTogZmFsc2UKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDaGFuZ2VEaWFsUG9zaXRpb24nLCBNaW4sIE1heCk7CiAgICB9LAogICAgY2FsY1doaXRlQmFsYW5jZUdhaW5zOiBmdW5jdGlvbiBjYWxjV2hpdGVCYWxhbmNlR2FpbnMoKSB7CiAgICAgIC8vIGNvbnN0IEdhaW5zID0gdGhpcy5jYWxjdWxhdGVXaGl0ZUJhbGFuY2VHYWlucyh0aGlzLmhpc3RvZ3JhbURhdGEsIHRoaXMuSW1hZ2VPZmZzZXQpOwogICAgICB0aGlzLmNhbGN1bGF0ZUdhaW4gPSB0cnVlOwogICAgICB0aGlzLnByb2Nlc3NJbWFnZSh0aGlzLkltYWdlQXJyYXlCdWZmZXIsIHRoaXMuY3VycmVudEhpc3RvZ3JhbU1pbiwgdGhpcy5jdXJyZW50SGlzdG9ncmFtTWF4LCB7CiAgICAgICAgY2FsY3VsYXRlSGlzdG9ncmFtOiBmYWxzZQogICAgICB9KTsKICAgICAgdGhpcy5JbWFnZUdhaW5SID0gR2FpbnMuR2FpblI7CiAgICAgIHRoaXMuSW1hZ2VHYWluQiA9IEdhaW5zLkdhaW5COwogICAgICB2YXIgR2FpblJJbmRleCA9IHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnSW1hZ2VHYWluUic7CiAgICAgIH0pOwoKICAgICAgaWYgKEdhaW5SSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8g56Gu5L+d5om+5Yiw5LqG5a+55bqU55qE6YWN572u6aG5CiAgICAgICAgLy8g5pu05pawIEV4cFRpbWUxIOmFjee9rumhueeahOWAvAogICAgICAgIHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zW0dhaW5SSW5kZXhdLnZhbHVlID0gdGhpcy5JbWFnZUdhaW5SOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlR2FpblIgY29uZmlndXJhdGlvbiBpdGVtIG5vdCBmb3VuZC4nKTsKICAgICAgfQoKICAgICAgdmFyIEdhaW5CSW5kZXggPSB0aGlzLk1haW5DYW1lcmFDb25maWdJdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ0ltYWdlR2FpbkInOwogICAgICB9KTsKCiAgICAgIGlmIChHYWluQkluZGV4ICE9PSAtMSkgewogICAgICAgIC8vIOehruS/neaJvuWIsOS6huWvueW6lOeahOmFjee9rumhuQogICAgICAgIC8vIOabtOaWsCBFeHBUaW1lMSDphY3nva7pobnnmoTlgLwKICAgICAgICB0aGlzLk1haW5DYW1lcmFDb25maWdJdGVtc1tHYWluQkluZGV4XS52YWx1ZSA9IHRoaXMuSW1hZ2VHYWluQjsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdJbWFnZUdhaW5CIGNvbmZpZ3VyYXRpb24gaXRlbSBub3QgZm91bmQuJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBjYWxjdWxhdGVXaGl0ZUJhbGFuY2VHYWlucyhoaXN0b2dyYW0sIG9mZnNldCkgewogICAgLy8gICBsZXQgc3VtUiA9IDAsIHN1bUcgPSAwLCBzdW1CID0gMDsKICAgIC8vICAgbGV0IGNvdW50UiA9IDAsIGNvdW50RyA9IDAsIGNvdW50QiA9IDA7CiAgICAvLyAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyBpKyspIHsKICAgIC8vICAgLy8gICBzdW1SICs9IGhpc3RvZ3JhbVsyXVtpXSAqIGk7CiAgICAvLyAgIC8vICAgc3VtRyArPSBoaXN0b2dyYW1bMV1baV0gKiBpOwogICAgLy8gICAvLyAgIHN1bUIgKz0gaGlzdG9ncmFtWzBdW2ldICogaTsKICAgIC8vICAgLy8gICBjb3VudFIgKz0gaGlzdG9ncmFtWzJdW2ldOwogICAgLy8gICAvLyAgIGNvdW50RyArPSBoaXN0b2dyYW1bMV1baV07CiAgICAvLyAgIC8vICAgY291bnRCICs9IGhpc3RvZ3JhbVswXVtpXTsKICAgIC8vICAgLy8gfQogICAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7CiAgICAvLyAgICAgLy8gU3VidHJhY3Qgb2Zmc2V0IGZyb20gcGl4ZWwgdmFsdWUKICAgIC8vICAgICBjb25zdCBhZGp1c3RlZFIgPSBNYXRoLm1heChpIC0gb2Zmc2V0LCAwKTsKICAgIC8vICAgICBjb25zdCBhZGp1c3RlZEcgPSBNYXRoLm1heChpIC0gb2Zmc2V0LCAwKTsKICAgIC8vICAgICBjb25zdCBhZGp1c3RlZEIgPSBNYXRoLm1heChpIC0gb2Zmc2V0LCAwKTsKICAgIC8vICAgICBzdW1SICs9IGhpc3RvZ3JhbVsyXVtpXSAqIGFkanVzdGVkUjsKICAgIC8vICAgICBzdW1HICs9IGhpc3RvZ3JhbVsxXVtpXSAqIGFkanVzdGVkRzsKICAgIC8vICAgICBzdW1CICs9IGhpc3RvZ3JhbVswXVtpXSAqIGFkanVzdGVkQjsKICAgIC8vICAgICBjb3VudFIgKz0gaGlzdG9ncmFtWzJdW2ldOwogICAgLy8gICAgIGNvdW50RyArPSBoaXN0b2dyYW1bMV1baV07CiAgICAvLyAgICAgY291bnRCICs9IGhpc3RvZ3JhbVswXVtpXTsKICAgIC8vICAgfQogICAgLy8gICBjb25zdCBtZWFuUiA9IHN1bVIgLyBjb3VudFI7CiAgICAvLyAgIGNvbnN0IG1lYW5HID0gc3VtRyAvIGNvdW50RzsKICAgIC8vICAgY29uc3QgbWVhbkIgPSBzdW1CIC8gY291bnRCOwogICAgLy8gICAvLyBDYWxjdWxhdGUgZ2FpbnMKICAgIC8vICAgY29uc3QgR2FpblIgPSBtZWFuRyAvIG1lYW5SOwogICAgLy8gICBjb25zdCBHYWluQiA9IG1lYW5HIC8gbWVhbkI7CiAgICAvLyAgIGNvbnNvbGUubG9nKGBHYWluUjogJHtHYWluUn0sIEdhaW5COiAke0dhaW5CfWApOwogICAgLy8gICByZXR1cm4geyBHYWluUiwgR2FpbkIgfTsKICAgIC8vIH0sCiAgICBjYWxjdWxhdGVXaGl0ZUJhbGFuY2VHYWluczogZnVuY3Rpb24gY2FsY3VsYXRlV2hpdGVCYWxhbmNlR2FpbnMoKSB7CiAgICAgIGlmICghKHRoaXMuT3JpZ2luYWxJbWFnZSBpbnN0YW5jZW9mIEltYWdlRGF0YSkpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW1hZ2UgZGF0YScpOwogICAgICB9IC8vIOWIm+W7uiBjdi5NYXQg5a+56LGhCgoKICAgICAgdmFyIGltZzggPSBjdi5tYXRGcm9tSW1hZ2VEYXRhKHRoaXMuT3JpZ2luYWxJbWFnZSk7IC8vIOWIhuWJsumAmumBkwoKICAgICAgdmFyIGNoYW5uZWxzID0gbmV3IGN2Lk1hdFZlY3RvcigpOwogICAgICBjdi5zcGxpdChpbWc4LCBjaGFubmVscyk7IC8vIOiOt+WPluWQhOmAmumBkwoKICAgICAgdmFyIGIgPSBjaGFubmVscy5nZXQoMCk7CiAgICAgIHZhciBnID0gY2hhbm5lbHMuZ2V0KDEpOwogICAgICB2YXIgciA9IGNoYW5uZWxzLmdldCgyKTsgLy8g6K6h566X5Lit5L2N5pWwCgogICAgICB2YXIgbWVkaWFuQiA9IG5ldyBjdi5NYXQoKTsKICAgICAgdmFyIG1lZGlhbkcgPSBuZXcgY3YuTWF0KCk7CiAgICAgIHZhciBtZWRpYW5SID0gbmV3IGN2Lk1hdCgpOwogICAgICBjdi5tZWRpYW5CbHVyKGIsIG1lZGlhbkIsIDUpOwogICAgICBjdi5tZWRpYW5CbHVyKGcsIG1lZGlhbkcsIDUpOwogICAgICBjdi5tZWRpYW5CbHVyKHIsIG1lZGlhblIsIDUpOyAvLyDorqHnrpflubPlnYfkuq7luqYKCiAgICAgIHZhciBhdmdCID0gY3YubWVhbihtZWRpYW5CKVswXTsKICAgICAgdmFyIGF2Z0cgPSBjdi5tZWFuKG1lZGlhbkcpWzBdOwogICAgICB2YXIgYXZnUiA9IGN2Lm1lYW4obWVkaWFuUilbMF07IC8vIOiuoeeul+WinuebigoKICAgICAgdmFyIGdhaW5SID0gTWF0aC5taW4oTWF0aC5tYXgoYXZnRyAvIGF2Z1IsIDAuMSksIDMpOwogICAgICB2YXIgZ2FpbkIgPSBNYXRoLm1pbihNYXRoLm1heChhdmdHIC8gYXZnQiwgMC4xKSwgMyk7IC8vIOmHiuaUvuWGheWtmAoKICAgICAgYi5kZWxldGUoKTsKICAgICAgZy5kZWxldGUoKTsKICAgICAgci5kZWxldGUoKTsKICAgICAgbWVkaWFuQi5kZWxldGUoKTsKICAgICAgbWVkaWFuRy5kZWxldGUoKTsKICAgICAgbWVkaWFuUi5kZWxldGUoKTsKICAgICAgY2hhbm5lbHMuZGVsZXRlKCk7CiAgICAgIGltZzguZGVsZXRlKCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgR2FpblI6IGdhaW5SLAogICAgICAgIEdhaW5COiBnYWluQgogICAgICB9OwogICAgfSwKICAgIGxvYWRPcGVuQ3Y6IGZ1bmN0aW9uIGxvYWRPcGVuQ3YoKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKHR5cGVvZiBjdiA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIC8vIOWmguaenCBjdiDmnKrlrprkuYnvvIzlsJ3or5XliqDovb0gT3BlbkNWLmpzCiAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAgICAgICBzY3JpcHQuc3JjID0gJy9vcGVuY3YuanMnOyAvLyDkvb/nlKggcHVibGljIOaWh+S7tuWkueS4reeahOi3r+W+hAoKICAgICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7CgogICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfTsKCiAgICAgICAgICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgfTsKCiAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWmguaenCBjdiDlt7LlrprkuYnvvIznm7TmjqXop6PmnpAKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIGxvYWRPcGVuQ3YoKSB7CiAgICAvLyAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAvLyAgICAgaWYgKHR5cGVvZiBjdiA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgIC8vICAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgLy8gICAgICAgc2NyaXB0LnNyYyA9ICdodHRwczovL2RvY3Mub3BlbmN2Lm9yZy80LjUuNS9vcGVuY3YuanMnOwogICAgLy8gICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKICAgIC8vICAgICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7CiAgICAvLyAgICAgICAgIGlmICh0eXBlb2YgY3YgIT09ICd1bmRlZmluZWQnKSB7CiAgICAvLyAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgLy8gICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIE9wZW5DVi5qcycpKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgc2NyaXB0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IHsKICAgIC8vICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgIC8vICAgICB9IGVsc2UgewogICAgLy8gICAgICAgcmVzb2x2ZSgpOwogICAgLy8gICAgIH0KICAgIC8vICAgfSk7CiAgICAvLyB9LAogICAgb25DdlJlYWR5OiBmdW5jdGlvbiBvbkN2UmVhZHkoKSB7CiAgICAgIC8vIFRlc3QgaWYgc29tZSBvZiBvcGVuY3YgbWV0aG9kIGNhbiB3b3JrLgogICAgICBpZiAoY3YpIHsKICAgICAgICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgT3BlbkNWLmpzIGlzIHJlYWR5LiIpOwogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ09wZW5DVi5qcyBpcyByZWFkeS4nLCAnaW5mbycpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJRSFlDQ0QgfCBGYWlsZWQgdG8gbG9hZCBPcGVuQ1YuanMiKTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdGYWlsZWQgdG8gbG9hZCBPcGVuQ1YuanMuJywgJ2Vycm9yJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuY3ZSZWFkeSA9IHRydWU7CiAgICB9LAogICAgbG9hZEltYWdlVG9DYW52YXNNYWluQ2FtZXJhOiBmdW5jdGlvbiBsb2FkSW1hZ2VUb0NhbnZhc01haW5DYW1lcmEoKSB7CiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbWVyYS1jYW52YXMnKTsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKCiAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDojrflj5borr7lpIflg4/ntKDmr5QKICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7IC8vIOiwg+aVtOeUu+W4g+WwuuWvuOS7pemAguW6lOmrmOa4heaYvuekugoKICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aCAqIGRldmljZVBpeGVsUmF0aW87CiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodCAqIGRldmljZVBpeGVsUmF0aW87CiAgICAgICAgY3R4LnNjYWxlKGRldmljZVBpeGVsUmF0aW8sIGRldmljZVBpeGVsUmF0aW8pOyAvLyDnvKnmlL5jdHjku6XpgILlupTpq5jmuIXnlLvluIMKICAgICAgICAvLyDnu5jliLblm77lg48KCiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7CiAgICAgIH07CgogICAgICBpbWFnZS5zcmMgPSBCYWNrZ3JvdW5kSW1hZ2U7CiAgICB9LAogICAgbG9hZEltYWdlVG9DYW52YXNHdWlkZXJDYW1lcmE6IGZ1bmN0aW9uIGxvYWRJbWFnZVRvQ2FudmFzR3VpZGVyQ2FtZXJhKCkgewogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2d1aWRlckNhbWVyYS1jYW52YXMnKTsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKCiAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDojrflj5borr7lpIflg4/ntKDmr5QKICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7IC8vIOiwg+aVtOeUu+W4g+WwuuWvuOS7pemAguW6lOmrmOa4heaYvuekugoKICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aCAqIGRldmljZVBpeGVsUmF0aW87CiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodCAqIGRldmljZVBpeGVsUmF0aW87CiAgICAgICAgY3R4LnNjYWxlKGRldmljZVBpeGVsUmF0aW8sIGRldmljZVBpeGVsUmF0aW8pOyAvLyDnvKnmlL5jdHjku6XpgILlupTpq5jmuIXnlLvluIMKICAgICAgICAvLyDnu5jliLblm77lg48KCiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7CiAgICAgIH07CgogICAgICBpbWFnZS5zcmMgPSBCYWNrZ3JvdW5kSW1hZ2U7CiAgICB9LAogICAgc2hvd0d1aWRlckNhbWVyYUNhbnZhczogZnVuY3Rpb24gc2hvd0d1aWRlckNhbWVyYUNhbnZhcygpIHsKICAgICAgLy8g5Yqo5oCB5pu05pawei1pbmRleAogICAgICB0aGlzLmNhbnZhc1pJbmRleFN0ZWwgPSAtMTA7CiAgICAgIHRoaXMuY2FudmFzWkluZGV4TWFpbkNhbWVyYSA9IC0xMTsKICAgICAgdGhpcy5jYW52YXNaSW5kZXhHdWlkZXJDYW1lcmEgPSAwOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFBhcnNpbmdQcm9ncmVzcycsIGZhbHNlKTsgLy8gdGhpcy5jb252ZXJ0VG9HcmF5c2NhbGUoKTsKICAgIH0sCiAgICBzaG93U3RlbENhbnZhczogZnVuY3Rpb24gc2hvd1N0ZWxDYW52YXMoKSB7CiAgICAgIGlmICh0aGlzLmlzUG9sYXJBeGlzTW9kZSkgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UGFyc2luZ1Byb2dyZXNzJywgdHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRQYXJzaW5nUHJvZ3Jlc3MnLCBmYWxzZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2FudmFzWkluZGV4U3RlbCA9IDA7CiAgICAgIHRoaXMuY2FudmFzWkluZGV4TWFpbkNhbWVyYSA9IC0xMDsKICAgICAgdGhpcy5jYW52YXNaSW5kZXhHdWlkZXJDYW1lcmEgPSAtMTE7CiAgICB9LAogICAgc2hvd01haW5DYW1lcmFDYW52YXM6IGZ1bmN0aW9uIHNob3dNYWluQ2FtZXJhQ2FudmFzKCkgewogICAgICB0aGlzLmNhbnZhc1pJbmRleFN0ZWwgPSAtMTA7CiAgICAgIHRoaXMuY2FudmFzWkluZGV4TWFpbkNhbWVyYSA9IDA7CiAgICAgIHRoaXMuY2FudmFzWkluZGV4R3VpZGVyQ2FtZXJhID0gLTExOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFBhcnNpbmdQcm9ncmVzcycsIGZhbHNlKTsKICAgIH0sCiAgICBoYW5kbGVCdXR0b25UZXN0Q2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUJ1dHRvblRlc3RDbGljaygpIHsKICAgICAgLy8gdGhpcy5jaGFuZ2VPcmRlcigpOwogICAgICBpZiAodGhpcy5jdXJyZW50Y2FudmFzID09PSAnU3RlbCcpIHsKICAgICAgICB0aGlzLmN1cnJlbnRjYW52YXMgPSAnTWFpbkNhbWVyYSc7CiAgICAgICAgdGhpcy5zaG93TWFpbkNhbWVyYUNhbnZhcygpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudGNhbnZhcyA9PT0gJ01haW5DYW1lcmEnKSB7CiAgICAgICAgdGhpcy5jdXJyZW50Y2FudmFzID0gJ0d1aWRlckNhbWVyYSc7CiAgICAgICAgdGhpcy5zaG93R3VpZGVyQ2FtZXJhQ2FudmFzKCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Y2FudmFzID09PSAnR3VpZGVyQ2FtZXJhJykgewogICAgICAgIHRoaXMuY3VycmVudGNhbnZhcyA9ICdTdGVsJzsKICAgICAgICB0aGlzLnNob3dTdGVsQ2FudmFzKCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRQbHVnaW5zTWVudUl0ZW1zOiBmdW5jdGlvbiBnZXRQbHVnaW5zTWVudUl0ZW1zKCkgewogICAgICB2YXIgcmVzID0gW107CgogICAgICBmb3IgKHZhciBpIGluIHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKCkpIHsKICAgICAgICB2YXIgcGx1Z2luID0gdGhpcy4kc3RlbGxhcml1bVdlYlBsdWdpbnMoKVtpXTsKCiAgICAgICAgaWYgKHBsdWdpbi5tZW51SXRlbXMpIHsKICAgICAgICAgIHJlcyA9IHJlcy5jb25jYXQocGx1Z2luLm1lbnVJdGVtcyk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmVzOwogICAgfSwKICAgIGdldFBsdWdpbnNNZW51Q29tcG9uZW50czogZnVuY3Rpb24gZ2V0UGx1Z2luc01lbnVDb21wb25lbnRzKCkgewogICAgICB2YXIgcmVzID0gW107CgogICAgICBmb3IgKHZhciBpIGluIHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKCkpIHsKICAgICAgICB2YXIgcGx1Z2luID0gdGhpcy4kc3RlbGxhcml1bVdlYlBsdWdpbnMoKVtpXTsKCiAgICAgICAgaWYgKHBsdWdpbi5tZW51Q29tcG9uZW50cykgewogICAgICAgICAgcmVzID0gcmVzLmNvbmNhdChwbHVnaW4ubWVudUNvbXBvbmVudHMpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlczsKICAgIH0sCiAgICB0b2dnbGVTdG9yZVZhbHVlOiBmdW5jdGlvbiB0b2dnbGVTdG9yZVZhbHVlKHN0b3JlVmFyTmFtZSkgewogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RvZ2dsZUJvb2wnLCBzdG9yZVZhck5hbWUpOwogICAgfSwKICAgIGdldFN0b3JlVmFsdWU6IGZ1bmN0aW9uIGdldFN0b3JlVmFsdWUoc3RvcmVWYXJOYW1lKSB7CiAgICAgIHJldHVybiBfLmdldCh0aGlzLiRzdG9yZS5zdGF0ZSwgc3RvcmVWYXJOYW1lKTsKICAgIH0sCiAgICBzZXRTdGF0ZUZyb21RdWVyeUFyZ3M6IGZ1bmN0aW9uIHNldFN0YXRlRnJvbVF1ZXJ5QXJncygpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgb2JzZXJ2aW5nIHBhbmVsIG11c3QgYmUgZGlzcGxheWVkCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VmFsdWUnLCB7CiAgICAgICAgdmFyTmFtZTogJ3Nob3dTaWRlUGFuZWwnLAogICAgICAgIG5ld1ZhbHVlOiB0aGlzLiRyb3V0ZS5wYXRoLnN0YXJ0c1dpdGgoJy9wLycpCiAgICAgIH0pOyAvLyBTZXQgdGhlIGNvcmUncyBzdGF0ZSBmcm9tIFVSTCBxdWVyeSBhcmd1bWVudHMgc3VjaAogICAgICAvLyBhcyBkYXRlLCBsb2NhdGlvbiwgdmlldyBkaXJlY3Rpb24gJiBmb3YKCiAgICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5pbml0RG9uZSkgewogICAgICAgIHRoaXMuJHN0ZWwuY29yZS50aW1lX3NwZWVkID0gMTsKICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CgogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5kYXRlKSB7CiAgICAgICAgICBkID0gbmV3IE1vbWVudCh0aGlzLiRyb3V0ZS5xdWVyeS5kYXRlKS50b0RhdGUoKTsKICAgICAgICAgIHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlci51dGMgPSBkLmdldE1KRCgpOwogICAgICAgICAgdGhpcy5zdGFydFRpbWVJc1NldCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkubG5nICYmIHRoaXMuJHJvdXRlLnF1ZXJ5LmxhdCkgewogICAgICAgICAgdmFyIHBvcyA9IHsKICAgICAgICAgICAgbGF0OiBOdW1iZXIodGhpcy4kcm91dGUucXVlcnkubGF0KSwKICAgICAgICAgICAgbG5nOiBOdW1iZXIodGhpcy4kcm91dGUucXVlcnkubG5nKSwKICAgICAgICAgICAgYWx0OiB0aGlzLiRyb3V0ZS5xdWVyeS5lbGV2ID8gTnVtYmVyKHRoaXMuJHJvdXRlLnF1ZXJ5LmVsZXYpIDogMCwKICAgICAgICAgICAgYWNjdXJhY3k6IDEKICAgICAgICAgIH07CiAgICAgICAgICBzd2guZ2VvQ29kZVBvc2l0aW9uKHBvcywgdGhhdCkudGhlbihmdW5jdGlvbiAobG9jKSB7CiAgICAgICAgICAgIHRoYXQuJHN0b3JlLmNvbW1pdCgnc2V0Q3VycmVudExvY2F0aW9uJywgbG9jKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlci55YXcgPSB0aGlzLiRyb3V0ZS5xdWVyeS5heiA/IE51bWJlcih0aGlzLiRyb3V0ZS5xdWVyeS5heikgKiBNYXRoLlBJIC8gMTgwIDogMDsKICAgICAgICB0aGlzLiRzdGVsLmNvcmUub2JzZXJ2ZXIucGl0Y2ggPSB0aGlzLiRyb3V0ZS5xdWVyeS5hbHQgPyBOdW1iZXIodGhpcy4kcm91dGUucXVlcnkuYWx0KSAqIE1hdGguUEkgLyAxODAgOiAzMCAqIE1hdGguUEkgLyAxODA7CiAgICAgICAgdGhpcy4kc3RlbC5jb3JlLmZvdiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZvdiA/IE51bWJlcih0aGlzLiRyb3V0ZS5xdWVyeS5mb3YpICogTWF0aC5QSSAvIDE4MCA6IDEyMCAqIE1hdGguUEkgLyAxODA7CiAgICAgICAgdGhpcy5pbml0RG9uZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoLnN0YXJ0c1dpdGgoJy9za3lzb3VyY2UvJykpIHsKICAgICAgICB2YXIgbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudCh0aGlzLiRyb3V0ZS5wYXRoLnN1YnN0cmluZygxMSkpOwogICAgICAgIGNvbnNvbGUubG9nKCdXaWxsIHNlbGVjdCBvYmplY3Q6ICcgKyBuYW1lKTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdXaWxsIHNlbGVjdCBvYmplY3Q6ICcgKyBuYW1lLCAnaW5mbycpOwogICAgICAgIHJldHVybiBzd2gubG9va3VwU2t5U291cmNlQnlOYW1lKG5hbWUpLnRoZW4oZnVuY3Rpb24gKHNzKSB7CiAgICAgICAgICBpZiAoIXNzKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgb2JqID0gc3doLnNreVNvdXJjZTJTd2VPYmooc3MpOwoKICAgICAgICAgIGlmICghb2JqKSB7CiAgICAgICAgICAgIG9iaiA9IF90aGlzMTUuJHN0ZWwuY3JlYXRlT2JqKHNzLm1vZGVsLCBzcyk7CgogICAgICAgICAgICBfdGhpczE1LiRzZWxlY3Rpb25MYXllci5hZGQob2JqKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIW9iaikgewogICAgICAgICAgICBjb25zb2xlLndhcm5pbmcoIkNhbid0IGZpbmQgb2JqZWN0IGluIFNXRTogIiArIHNzLm5hbWVzWzBdKTsKICAgICAgICAgIH0KCiAgICAgICAgICBzd2guc2V0U3dlT2JqQXNTZWxlY3Rpb24ob2JqKTsKICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgY29uc29sZS5sb2coIkNvdWxkbid0IGZpbmQgc2t5c291cmNlIGZvciBuYW1lOiAiICsgbmFtZSk7CgogICAgICAgICAgX3RoaXMxNS5TZW5kQ29uc29sZUxvZ01zZygiQ291bGRuJ3QgZmluZCBza3lzb3VyY2UgZm9yIG5hbWU6ICIgKyBuYW1lLCAnZXJyb3InKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGxvb2thdGNpcmNsZTogZnVuY3Rpb24gbG9va2F0Y2lyY2xlKCkgewogICAgICAvLyBnbFN0ZWwuY29yZS5zZWxlY3Rpb24gPSBnbFRlc3RDaXJjbGU7CiAgICAgIGdsU3RlbC5wb2ludEFuZExvY2soZ2xUZXN0Q2lyY2xlKTsKICAgIH0sCiAgICBzZXRHbG9hYmFsU3RlbDogZnVuY3Rpb24gc2V0R2xvYWJhbFN0ZWwoc3RlbCkgewogICAgICByZXR1cm4gc3RlbDsKICAgIH0sCiAgICBzZXRHbG9iYWxMYXllcjogZnVuY3Rpb24gc2V0R2xvYmFsTGF5ZXIoc3RlbCkgewogICAgICByZXR1cm4gc3RlbC5jcmVhdGVMYXllcih7CiAgICAgICAgaWQ6ICd0ZXN0TGF5ZXJTdGFycycsCiAgICAgICAgejogNywKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWdkOagh+mqjOivgeaWueazlQogICAgaXNWYWxpZENvb3JkaW5hdGU6IGZ1bmN0aW9uIGlzVmFsaWRDb29yZGluYXRlKGNvb3JkKSB7CiAgICAgIC8vIOWmguaenOaYr+Wtl+espuS4su+8jOWwneivlei9rOaNouS4uuaVsOWtlwogICAgICBpZiAodHlwZW9mIGNvb3JkID09PSAnc3RyaW5nJykgewogICAgICAgIGNvb3JkID0gcGFyc2VGbG9hdChjb29yZCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0eXBlb2YgY29vcmQgPT09ICdudW1iZXInICYmICFpc05hTihjb29yZCkgJiYgaXNGaW5pdGUoY29vcmQpICYmIGNvb3JkID49IC0zNjAgJiYgY29vcmQgPD0gMzYwOwogICAgfSwKICAgIHZlYzNfZnJvbV9zcGhlOiBmdW5jdGlvbiB2ZWMzX2Zyb21fc3BoZShyYV9kZWdyZWUsIGRlY19kZWdyZWUsIG91dCkgewogICAgICAvLyDnoa7kv53lnZDmoIfmmK/mlbDlrZfnsbvlnosKICAgICAgdmFyIHJhID0gcmFfZGVncmVlOwogICAgICB2YXIgZGVjID0gZGVjX2RlZ3JlZTsKCiAgICAgIGlmICh0eXBlb2YgcmEgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgcmEgPSBwYXJzZUZsb2F0KHJhKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBkZWMgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgZGVjID0gcGFyc2VGbG9hdChkZWMpOwogICAgICB9IC8vIOa3u+WKoOWdkOagh+mqjOivgQoKCiAgICAgIGlmICghdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZShyYSkgfHwgIXRoaXMuaXNWYWxpZENvb3JkaW5hdGUoZGVjKSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+aXoOaViOeahOWdkOagh+i+k+WFpTonLCB7CiAgICAgICAgICByYV9kZWdyZWU6IHJhX2RlZ3JlZSwKICAgICAgICAgIGRlY19kZWdyZWU6IGRlY19kZWdyZWUsCiAgICAgICAgICBjb252ZXJ0ZWQ6IHsKICAgICAgICAgICAgcmE6IHJhLAogICAgICAgICAgICBkZWM6IGRlYwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgY3AgPSBNYXRoLmNvcyhkZWMgKiBNYXRoLlBJIC8gMTgwKTsKICAgICAgICBvdXRbMF0gPSBNYXRoLmNvcyhyYSAqIE1hdGguUEkgLyAxODApICogY3A7CiAgICAgICAgb3V0WzFdID0gTWF0aC5zaW4ocmEgKiBNYXRoLlBJIC8gMTgwKSAqIGNwOwogICAgICAgIG91dFsyXSA9IE1hdGguc2luKGRlYyAqIE1hdGguUEkgLyAxODApOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WdkOagh+i9rOaNouWHuumUmTonLCBlcnJvciwgewogICAgICAgICAgcmFfZGVncmVlOiByYV9kZWdyZWUsCiAgICAgICAgICBkZWNfZGVncmVlOiBkZWNfZGVncmVlLAogICAgICAgICAgY29udmVydGVkOiB7CiAgICAgICAgICAgIHJhOiByYSwKICAgICAgICAgICAgZGVjOiBkZWMKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHRlc3RBZGRDaXJjbGU6IGZ1bmN0aW9uIHRlc3RBZGRDaXJjbGUoc3RlbCwgbGF5ZXIpIHsKICAgICAgY29uc29sZS5sb2coIkFkZCBhIGNpcmNsZSBzdGFyIG5lYXIgcG9sYXJpcyIpOyAvLyDkuLrkuLTml7blr7nosaHliJvlu7rluKbmnInlkI3np7DnmoTphY3nva4KCiAgICAgIHZhciBjaXJjbGVDb25maWcgPSB7CiAgICAgICAgaWQ6ICd0ZXN0X2NpcmNsZV8nICsgRGF0ZS5ub3coKSwKICAgICAgICBtb2RlbF9kYXRhOiB7fSwKICAgICAgICBuYW1lczogWydUZXN0IENpcmNsZSddLAogICAgICAgIC8vIOa3u+WKoOWQjeensAogICAgICAgIHR5cGVzOiBbJ1RlbXBvcmFyeSddLAogICAgICAgIG1vZGVsOiAndGVtcG9yYXJ5JwogICAgICB9OwogICAgICB2YXIgY2lyY2xlID0gc3RlbC5jcmVhdGVPYmooJ2NpcmNsZScsIGNpcmNsZUNvbmZpZyk7CiAgICAgIGNpcmNsZS51cGRhdGUoKTsKICAgICAgbGF5ZXIuYWRkKGNpcmNsZSk7IC8vIOeOsOWcqOWPr+S7peWuieWFqOWcsOmAieaLqeWvueixoe+8jOWboOS4uuWug+acieWQjeensAoKICAgICAgc3RlbC5jb3JlLnNlbGVjdGlvbiA9IGNpcmNsZTsKICAgICAgc3RlbC5wb2ludEFuZExvY2soY2lyY2xlKTsgLy8gQ2lyY2xlIFByb3BlcnR5CgogICAgICB2YXIgbW0gPSBjaXJjbGUucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKDIuNTI5NzEsIDg5LjI2NDEsIG1tKTsKICAgICAgY2lyY2xlLnBvcyA9IG1tOwogICAgICBjb25zb2xlLmxvZygiY2lyY2xlIHBvczoiICsgbW0pOwogICAgICBjaXJjbGUubGFiZWwgPSAiIjsKICAgICAgY2lyY2xlLmZyYW1lID0gMTsKICAgICAgY2lyY2xlLnNpemUgPSBbMC4wNSwgMC4wNV07CiAgICAgIGNpcmNsZS5jb2xvciA9IFswLCAxLCAwLCAwLjI1XTsKICAgICAgY2lyY2xlLmJvcmRlcl9jb2xvciA9IFswLCAxLCAwLCAxXTsKICAgICAgcmV0dXJuIGNpcmNsZTsKICAgIH0sCiAgICBVcGRhdGVDaXJjbGVQb3M6IGZ1bmN0aW9uIFVwZGF0ZUNpcmNsZVBvcyhSYV9kZWdyZWUsIERlY19kZWdyZWUpIHsKICAgICAgdmFyIG1tID0gZ2xUZXN0Q2lyY2xlLnBvczsKICAgICAgdGhpcy52ZWMzX2Zyb21fc3BoZShSYV9kZWdyZWUsIERlY19kZWdyZWUsIG1tKTsKICAgICAgZ2xUZXN0Q2lyY2xlLnBvcyA9IG1tOwogICAgfSwKICAgIFVwZGF0ZVRlbGVzY29wZVN0YXR1czogZnVuY3Rpb24gVXBkYXRlVGVsZXNjb3BlU3RhdHVzKHN0YXR1cykgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ01vdW50U3RhdHVzJywgc3RhdHVzKTsKCiAgICAgIGlmIChzdGF0dXMgPT09ICdTbGV3aW5nJykgewogICAgICAgIGdsVGVzdENpcmNsZS5jb2xvciA9IFsxLCAwLCAwLCAwLjI1XTsKICAgICAgICBnbFRlc3RDaXJjbGUuYm9yZGVyX2NvbG9yID0gWzEsIDAsIDAsIDFdOwogICAgICB9IGVsc2UgewogICAgICAgIGdsVGVzdENpcmNsZS5jb2xvciA9IFswLCAxLCAwLCAwLjI1XTsKICAgICAgICBnbFRlc3RDaXJjbGUuYm9yZGVyX2NvbG9yID0gWzAsIDEsIDAsIDFdOwogICAgICB9CiAgICB9LAogICAgVXBkYXRlTWFpbkNhbWVyYVN0YXR1czogZnVuY3Rpb24gVXBkYXRlTWFpbkNhbWVyYVN0YXR1cyhzdGF0dXMpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhU3RhdHVzJywgc3RhdHVzKTsKICAgIH0sCiAgICAvLyDnu5jliLbop4blnLrlpJrovrnlvaLvvIjln7rkuo7kupTkuKpSQS9ERUPlnZDmoIfnmoTpl63njq/vvIkKICAgIEFkZEZpZWxkT2ZWaWV3UG9seWdvbjogZnVuY3Rpb24gQWRkRmllbGRPZlZpZXdQb2x5Z29uKHN0ZWwsIGxheWVyLCBjb29yZGluYXRlcywgY29sb3IsIG5hbWUpIHsKICAgICAgY29uc29sZS5sb2coIlx1NUYwMFx1NTlDQlx1NTIxQlx1NUVGQVx1ODlDNlx1NTczQVx1NTkxQVx1OEZCOVx1NUY2MjogIi5jb25jYXQobmFtZSksIHsKICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsCiAgICAgICAgY29sb3I6IGNvbG9yCiAgICAgIH0pOwoKICAgICAgdHJ5IHsKICAgICAgICAvLyDpqozor4HovpPlhaXlj4LmlbAKICAgICAgICBpZiAoIWNvb3JkaW5hdGVzIHx8ICFBcnJheS5pc0FycmF5KGNvb3JkaW5hdGVzKSkgewogICAgICAgICAgY29uc29sZS5lcnJvcign6KeG5Zy65Z2Q5qCH5b+F6aG75piv5pWw57uEJyk7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggIT09IDUpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1ODlDNlx1NTczQVx1NTc1MFx1NjgwN1x1NUZDNVx1OTg3Qlx1NjYyRjVcdTRFMkFcdTcwQjlcdUZGMENcdTVGNTNcdTUyNERcdTY3MDkiLmNvbmNhdChjb29yZGluYXRlcy5sZW5ndGgsICJcdTRFMkFcdTcwQjkiKSk7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9IC8vIOmqjOivgeavj+S4quWdkOagh+eCuQoKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGNvb3JkID0gY29vcmRpbmF0ZXNbaV07CgogICAgICAgICAgaWYgKCFjb29yZCB8fCB0eXBlb2YgY29vcmQucmEgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBjb29yZC5kZWMgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1NTc1MFx1NjgwN1x1NzBCOSIuY29uY2F0KGksICJcdTY4M0NcdTVGMEZcdTk1MTlcdThCRUZcdUZGMENcdTk3MDBcdTg5ODFcdTUzMDVcdTU0MkJyYVx1NTQ4Q2RlY1x1NUM1RVx1NjAyNzoiKSwgY29vcmQpOwogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgIH0gLy8g6aqM6K+B5Z2Q5qCH5YC8CgoKICAgICAgICAgIGlmICghdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZShjb29yZC5yYSkgfHwgIXRoaXMuaXNWYWxpZENvb3JkaW5hdGUoY29vcmQuZGVjKSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJcdTU3NTBcdTY4MDdcdTcwQjkiLmNvbmNhdChpLCAiXHU3Njg0XHU1MDNDXHU2NUUwXHU2NTQ4OiIpLCBjb29yZCk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgfQogICAgICAgIH0gLy8g6K6+572u6buY6K6k6aKc6ImyCgoKICAgICAgICB2YXIgZGVmYXVsdENvbG9yID0gewogICAgICAgICAgc3Ryb2tlOiAiI0ZGRkZGRiIsCiAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLAogICAgICAgICAgZmlsbDogIiMxRTkwRkYiLAogICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMjUKICAgICAgICB9OwoKICAgICAgICB2YXIgZmluYWxDb2xvciA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdENvbG9yKSwgY29sb3IpOwoKICAgICAgICBjb25zb2xlLmxvZygn5pyA57uI6aKc6Imy6YWN572uOicsIGZpbmFsQ29sb3IpOyAvLyDliJvlu7rlpJrovrnlvaLlr7nosaEKCiAgICAgICAgdmFyIHBvbHlnb25Db25maWcgPSB7CiAgICAgICAgICBpZDogJ2ZpZWxkX29mX3ZpZXdfJyArIERhdGUubm93KCksCiAgICAgICAgICBtb2RlbF9kYXRhOiB7fSwKICAgICAgICAgIG5hbWVzOiBbbmFtZSB8fCAnRmllbGQgb2YgVmlldyddLAogICAgICAgICAgdHlwZXM6IFsnRmllbGRPZlZpZXcnXSwKICAgICAgICAgIG1vZGVsOiAnZmllbGRfb2ZfdmlldycKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKCfliJvlu7pHZW9KU09O5aSa6L655b2i5a+56LGhJyk7CiAgICAgICAgdmFyIHBvbHlnb24gPSBzdGVsLmNyZWF0ZU9iaignZ2VvanNvbicsIHsKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24iLAogICAgICAgICAgICAiZmVhdHVyZXMiOiBbewogICAgICAgICAgICAgICJ0eXBlIjogIkZlYXR1cmUiLAogICAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICAgInN0cm9rZSI6IGZpbmFsQ29sb3Iuc3Ryb2tlLAogICAgICAgICAgICAgICAgInN0cm9rZS1vcGFjaXR5IjogZmluYWxDb2xvci5zdHJva2VPcGFjaXR5LAogICAgICAgICAgICAgICAgImZpbGwiOiBmaW5hbENvbG9yLmZpbGwsCiAgICAgICAgICAgICAgICAiZmlsbC1vcGFjaXR5IjogZmluYWxDb2xvci5maWxsT3BhY2l0eSwKICAgICAgICAgICAgICAgICJuYW1lIjogbmFtZSB8fCAnRmllbGQgb2YgVmlldycKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJnZW9tZXRyeSI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb24iLAogICAgICAgICAgICAgICAgImNvb3JkaW5hdGVzIjogW1svLyDkupTkuKrlnZDmoIfngrnvvIzlvaLmiJDpl63njq8KICAgICAgICAgICAgICAgIFtjb29yZGluYXRlc1swXS5yYSwgY29vcmRpbmF0ZXNbMF0uZGVjXSwgW2Nvb3JkaW5hdGVzWzFdLnJhLCBjb29yZGluYXRlc1sxXS5kZWNdLCBbY29vcmRpbmF0ZXNbMl0ucmEsIGNvb3JkaW5hdGVzWzJdLmRlY10sIFtjb29yZGluYXRlc1szXS5yYSwgY29vcmRpbmF0ZXNbM10uZGVjXSwgW2Nvb3JkaW5hdGVzWzRdLnJhLCBjb29yZGluYXRlc1s0XS5kZWNdLCBbY29vcmRpbmF0ZXNbMF0ucmEsIGNvb3JkaW5hdGVzWzBdLmRlY10gLy8g6Zet5ZCI5aSa6L655b2iCiAgICAgICAgICAgICAgICBdXQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFwb2x5Z29uKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdHZW9KU09O5aSa6L655b2i5a+56LGh5Yib5bu65aSx6LSlJyk7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCflpJrovrnlvaLlr7nosaHliJvlu7rmiJDlip/vvIzlvIDlp4vmm7TmlrDlkozmt7vliqDliLDlm77lsYInKTsgLy8g6K6+572u5a+56LGh5bGe5oCnCgogICAgICAgIHBvbHlnb24udXBkYXRlKCk7CiAgICAgICAgbGF5ZXIuYWRkKHBvbHlnb24pOwogICAgICAgIGNvbnNvbGUubG9nKCflpJrovrnlvaLlt7Lmt7vliqDliLDlm77lsYInKTsgLy8g5re75Yqg5qCH562+77yI5Y+v6YCJ77yJCgogICAgICAgIGlmIChuYW1lKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn5re75Yqg5aSa6L655b2i5qCH562+Jyk7IC8vIOiuoeeul+inhuWcuuS4reW/g+eCuQoKICAgICAgICAgIHZhciBjZW50ZXJSYSA9IGNvb3JkaW5hdGVzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjb29yZCkgewogICAgICAgICAgICByZXR1cm4gc3VtICsgY29vcmQucmE7CiAgICAgICAgICB9LCAwKSAvIGNvb3JkaW5hdGVzLmxlbmd0aDsKICAgICAgICAgIHZhciBjZW50ZXJEZWMgPSBjb29yZGluYXRlcy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY29vcmQpIHsKICAgICAgICAgICAgcmV0dXJuIHN1bSArIGNvb3JkLmRlYzsKICAgICAgICAgIH0sIDApIC8gY29vcmRpbmF0ZXMubGVuZ3RoOwogICAgICAgICAgdmFyIGxhYmVsQ2lyY2xlID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHN0ZWwsIGxheWVyLCA0LCBuYW1lKTsKCiAgICAgICAgICBpZiAobGFiZWxDaXJjbGUpIHsKICAgICAgICAgICAgdmFyIGxhYmVsTW0gPSBsYWJlbENpcmNsZS5wb3M7CiAgICAgICAgICAgIHRoaXMudmVjM19mcm9tX3NwaGUoY2VudGVyUmEsIGNlbnRlckRlYyArIDAuMDIsIGxhYmVsTW0pOyAvLyDlnKjop4blnLrkuIrmlrnmmL7npLrlkI3np7AKCiAgICAgICAgICAgIGxhYmVsQ2lyY2xlLnBvcyA9IGxhYmVsTW07CiAgICAgICAgICAgIGxhYmVsQ2lyY2xlLmNvbG9yID0gWzEsIDEsIDEsIDAuOF07IC8vIOeZveiJsu+8jOWNiumAj+aYjgoKICAgICAgICAgICAgbGFiZWxDaXJjbGUuYm9yZGVyX2NvbG9yID0gWzAsIDAsIDAsIDAuNV07IC8vIOm7keiJsui+ueahhu+8jOWNiumAj+aYjgoKICAgICAgICAgICAgbGFiZWxDaXJjbGUuc2l6ZSA9IFswLjAxLCAwLjAxXTsgLy8g5b6I5bCP55qE5ZyG5ZyI5L2c5Li65ZCN56ew5qCH562+CiAgICAgICAgICAgIC8vIOWwhuagh+etvuS4juWkmui+ueW9ouWFs+iBlAoKICAgICAgICAgICAgcG9seWdvbi5sYWJlbENpcmNsZSA9IGxhYmVsQ2lyY2xlOwogICAgICAgICAgICBjb25zb2xlLmxvZygn5qCH562+5bey5re75Yqg5Yiw5aSa6L655b2iJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLndhcm4oJ+agh+etvuWIm+W7uuWksei0pScpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coIlx1ODlDNlx1NTczQVx1NTkxQVx1OEZCOVx1NUY2Mlx1NTIxQlx1NUVGQVx1NUI4Q1x1NjIxMDogIi5jb25jYXQobmFtZSB8fCAnRmllbGQgb2YgVmlldycpLCB7CiAgICAgICAgICBjb29yZGluYXRlczogY29vcmRpbmF0ZXMsCiAgICAgICAgICBjb2xvcjogZmluYWxDb2xvciwKICAgICAgICAgIHBvbHlnb246IHBvbHlnb24KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcG9seWdvbjsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliJvlu7rop4blnLrlpJrovrnlvaLml7blh7rplJk6JywgZXJyb3IpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+mUmeivr+WghuagiDonLCBlcnJvci5zdGFjayk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICAvLyDliKDpmaTmjIflrprnmoTop4blnLrlpJrovrnlvaIKICAgIFJlbW92ZUZpZWxkT2ZWaWV3UG9seWdvbjogZnVuY3Rpb24gUmVtb3ZlRmllbGRPZlZpZXdQb2x5Z29uKHBvbHlnb24pIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIXBvbHlnb24pIHsKICAgICAgICAgIGNvbnNvbGUud2Fybign6KaB5Yig6Zmk55qE5aSa6L655b2i5a+56LGh5Li656m6Jyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSAvLyDliKDpmaTlhbPogZTnmoTmoIfnrb4KCgogICAgICAgIGlmIChwb2x5Z29uLmxhYmVsQ2lyY2xlKSB7CiAgICAgICAgICBnbExheWVyLnJlbW92ZShwb2x5Z29uLmxhYmVsQ2lyY2xlKTsKICAgICAgICB9IC8vIOWIoOmZpOWkmui+ueW9ogoKCiAgICAgICAgZ2xMYXllci5yZW1vdmUocG9seWdvbik7CiAgICAgICAgY29uc29sZS5sb2coJ+inhuWcuuWkmui+ueW9ouW3suWIoOmZpDonLCBwb2x5Z29uKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliKDpmaTop4blnLrlpJrovrnlvaLml7blh7rplJk6JywgZXJyb3IpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8vIOWIoOmZpOaJgOacieinhuWcuuWkmui+ueW9ogogICAgUmVtb3ZlQWxsRmllbGRPZlZpZXdQb2x5Z29uczogZnVuY3Rpb24gUmVtb3ZlQWxsRmllbGRPZlZpZXdQb2x5Z29ucygpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgdHJ5IHsKICAgICAgICAvLyDlpoLmnpzmnInlpJrovrnlvaLmlbDnu4TvvIzpgY3ljobliKDpmaQKICAgICAgICBpZiAodGhpcy5maWVsZE9mVmlld1BvbHlnb25zICYmIEFycmF5LmlzQXJyYXkodGhpcy5maWVsZE9mVmlld1BvbHlnb25zKSkgewogICAgICAgICAgdGhpcy5maWVsZE9mVmlld1BvbHlnb25zLmZvckVhY2goZnVuY3Rpb24gKHBvbHlnb24pIHsKICAgICAgICAgICAgX3RoaXMxNi5SZW1vdmVGaWVsZE9mVmlld1BvbHlnb24ocG9seWdvbik7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZmllbGRPZlZpZXdQb2x5Z29ucyA9IFtdOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ+aJgOacieinhuWcuuWkmui+ueW9ouW3suWIoOmZpCcpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIoOmZpOaJgOacieinhuWcuuWkmui+ueW9ouaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgLy8g5pu05paw6KeG5Zy65aSa6L655b2i55qE5L2N572uCiAgICBVcGRhdGVGaWVsZE9mVmlld1BvbHlnb25Qb3NpdGlvbjogZnVuY3Rpb24gVXBkYXRlRmllbGRPZlZpZXdQb2x5Z29uUG9zaXRpb24ocG9seWdvbiwgbmV3Q29vcmRpbmF0ZXMpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIXBvbHlnb24gfHwgIW5ld0Nvb3JkaW5hdGVzIHx8ICFBcnJheS5pc0FycmF5KG5ld0Nvb3JkaW5hdGVzKSB8fCBuZXdDb29yZGluYXRlcy5sZW5ndGggIT09IDUpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOinhuWcuuWkmui+ueW9ouS9jee9ruaXtuWPguaVsOaXoOaViCcpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gLy8g6aqM6K+B5paw5Z2Q5qCHCgoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0Nvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY29vcmQgPSBuZXdDb29yZGluYXRlc1tpXTsKCiAgICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZENvb3JkaW5hdGUoY29vcmQucmEpIHx8ICF0aGlzLmlzVmFsaWRDb29yZGluYXRlKGNvb3JkLmRlYykpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiXHU2NUIwXHU1NzUwXHU2ODA3XHU3MEI5Ii5jb25jYXQoaSwgIlx1NzY4NFx1NTAzQ1x1NjVFMFx1NjU0ODoiKSwgY29vcmQpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyDmm7TmlrDlpJrovrnlvaLmlbDmja4KCgogICAgICAgIHBvbHlnb24uZGF0YS5mZWF0dXJlc1swXS5nZW9tZXRyeS5jb29yZGluYXRlc1swXSA9IFtbbmV3Q29vcmRpbmF0ZXNbMF0ucmEsIG5ld0Nvb3JkaW5hdGVzWzBdLmRlY10sIFtuZXdDb29yZGluYXRlc1sxXS5yYSwgbmV3Q29vcmRpbmF0ZXNbMV0uZGVjXSwgW25ld0Nvb3JkaW5hdGVzWzJdLnJhLCBuZXdDb29yZGluYXRlc1syXS5kZWNdLCBbbmV3Q29vcmRpbmF0ZXNbM10ucmEsIG5ld0Nvb3JkaW5hdGVzWzNdLmRlY10sIFtuZXdDb29yZGluYXRlc1s0XS5yYSwgbmV3Q29vcmRpbmF0ZXNbNF0uZGVjXSwgW25ld0Nvb3JkaW5hdGVzWzBdLnJhLCBuZXdDb29yZGluYXRlc1swXS5kZWNdIC8vIOmXreWQiAogICAgICAgIF07CiAgICAgICAgcG9seWdvbi51cGRhdGUoKTsgLy8g5pu05paw5qCH562+5L2N572u77yI5aaC5p6c5a2Y5Zyo77yJCgogICAgICAgIGlmIChwb2x5Z29uLmxhYmVsQ2lyY2xlKSB7CiAgICAgICAgICB2YXIgY2VudGVyUmEgPSBuZXdDb29yZGluYXRlcy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY29vcmQpIHsKICAgICAgICAgICAgcmV0dXJuIHN1bSArIGNvb3JkLnJhOwogICAgICAgICAgfSwgMCkgLyBuZXdDb29yZGluYXRlcy5sZW5ndGg7CiAgICAgICAgICB2YXIgY2VudGVyRGVjID0gbmV3Q29vcmRpbmF0ZXMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGNvb3JkKSB7CiAgICAgICAgICAgIHJldHVybiBzdW0gKyBjb29yZC5kZWM7CiAgICAgICAgICB9LCAwKSAvIG5ld0Nvb3JkaW5hdGVzLmxlbmd0aDsKICAgICAgICAgIHZhciBsYWJlbE1tID0gcG9seWdvbi5sYWJlbENpcmNsZS5wb3M7CiAgICAgICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKGNlbnRlclJhLCBjZW50ZXJEZWMgKyAwLjAyLCBsYWJlbE1tKTsKICAgICAgICAgIHBvbHlnb24ubGFiZWxDaXJjbGUucG9zID0gbGFiZWxNbTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCfop4blnLrlpJrovrnlvaLkvY3nva7lt7Lmm7TmlrA6JywgbmV3Q29vcmRpbmF0ZXMpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOinhuWcuuWkmui+ueW9ouS9jee9ruaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgVXBkYXRlTWFpbkNhbWVyYVRlbXBlcmF0dXJlOiBmdW5jdGlvbiBVcGRhdGVNYWluQ2FtZXJhVGVtcGVyYXR1cmUodmFsdWUpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ01haW4gQ2FtZXJhIFRlbXBlcmF0dXJlOicsIHZhbHVlICsgJ8KwJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYVRlbXBlcmF0dXJlJywgdmFsdWUpOwogICAgfSwKICAgIHNldFBvbGFyUG9pbnRBbHRpdHVkZTogZnVuY3Rpb24gc2V0UG9sYXJQb2ludEFsdGl0dWRlKEFsdGl0dWRlKSB7CiAgICAgIHRoaXMuUG9sYXJQb2ludF9BbHRpdHVkZSA9IEFsdGl0dWRlOwogICAgICBjb25zb2xlLmxvZygnUG9sYXIgUG9pbnQgQWx0aXR1ZGU6JywgdGhpcy5Qb2xhclBvaW50X0FsdGl0dWRlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnUG9sYXIgUG9pbnQgQWx0aXR1ZGU6JyArIHRoaXMuUG9sYXJQb2ludF9BbHRpdHVkZSwgJ2luZm8nKTsKICAgIH0sCiAgICBBZGRNYXJrQ2lyY2xlOiBmdW5jdGlvbiBBZGRNYXJrQ2lyY2xlKHN0ZWwsIGxheWVyLCBmcmFtZSwgbGFiZWwpIHsKICAgICAgY29uc29sZS5sb2coIlx1NUYwMFx1NTlDQlx1NTIxQlx1NUVGQVx1NjgwN1x1OEJCMFx1NTcwNlx1NTcwODogIi5jb25jYXQobGFiZWwpKTsKCiAgICAgIHRyeSB7CiAgICAgICAgLy8g5Li65Li05pe25a+56LGh5Yib5bu65bim5pyJ5ZCN56ew55qE6YWN572uCiAgICAgICAgdmFyIGNpcmNsZUNvbmZpZyA9IHsKICAgICAgICAgIGlkOiAndGVtcF9jaXJjbGVfJyArIERhdGUubm93KCksCiAgICAgICAgICBtb2RlbF9kYXRhOiB7fSwKICAgICAgICAgIG5hbWVzOiBbbGFiZWwgfHwgJ1RlbXBvcmFyeSBNYXJrZXInXSwKICAgICAgICAgIC8vIOa3u+WKoOWQjeensAogICAgICAgICAgdHlwZXM6IFsnVGVtcG9yYXJ5J10sCiAgICAgICAgICBtb2RlbDogJ3RlbXBvcmFyeScKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKCfliJvlu7rlnIblvaLlr7nosaEnKTsKICAgICAgICB2YXIgY2lyY2xlID0gc3RlbC5jcmVhdGVPYmooJ2NpcmNsZScsIGNpcmNsZUNvbmZpZyk7CgogICAgICAgIGlmICghY2lyY2xlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCflnIblvaLlr7nosaHliJvlu7rlpLHotKUnKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ+WchuW9ouWvueixoeWIm+W7uuaIkOWKn++8jOW8gOWni+iuvue9ruWxnuaApycpOwogICAgICAgIGNpcmNsZS51cGRhdGUoKTsKICAgICAgICBsYXllci5hZGQoY2lyY2xlKTsgLy8g6K6+572u6buY6K6k5L2N572u77yI5YyX5p6B5pif6ZmE6L+R77yJCgogICAgICAgIHZhciBtbSA9IGNpcmNsZS5wb3M7CiAgICAgICAgdGhpcy52ZWMzX2Zyb21fc3BoZSgyLjUyOTcxLCA4OS4yNjQxLCBtbSk7CiAgICAgICAgY2lyY2xlLnBvcyA9IG1tOyAvLyDorr7nva7lnIblvaLlsZ7mgKcKCiAgICAgICAgY2lyY2xlLmxhYmVsID0gbGFiZWw7CiAgICAgICAgY2lyY2xlLmZyYW1lID0gZnJhbWU7CiAgICAgICAgY2lyY2xlLnNpemUgPSBbMC4wNCwgMC4wNF07CiAgICAgICAgY2lyY2xlLmNvbG9yID0gWzEsIDEsIDEsIDAuNV07CiAgICAgICAgY2lyY2xlLmJvcmRlcl9jb2xvciA9IFsxLCAxLCAxLCAxXTsKICAgICAgICBjb25zb2xlLmxvZygiXHU2ODA3XHU4QkIwXHU1NzA2XHU1NzA4XHU1MjFCXHU1RUZBXHU1QjhDXHU2MjEwOiAiLmNvbmNhdChsYWJlbCksIHsKICAgICAgICAgIHBvczogbW0sCiAgICAgICAgICBzaXplOiBjaXJjbGUuc2l6ZSwKICAgICAgICAgIGNvbG9yOiBjaXJjbGUuY29sb3IsCiAgICAgICAgICBib3JkZXJfY29sb3I6IGNpcmNsZS5ib3JkZXJfY29sb3IKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gY2lyY2xlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIm+W7uuagh+iusOWchuWciOaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5aCG5qCIOicsIGVycm9yLnN0YWNrKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIEFkZE1hcmtSZWN0YW5nbGU6IGZ1bmN0aW9uIEFkZE1hcmtSZWN0YW5nbGUoc3RlbCwgbGF5ZXIsIFJhRGVjKSB7CiAgICAgIHZhciBsaW5lID0gc3RlbC5jcmVhdGVPYmooJ2dlb2pzb24nLCB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24iLAogICAgICAgICAgImZlYXR1cmVzIjogW3sKICAgICAgICAgICAgInR5cGUiOiAiRmVhdHVyZSIsCiAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICJzdHJva2UiOiAiI0ZGRkZGRiIsCiAgICAgICAgICAgICAgInN0cm9rZS1vcGFjaXR5IjogMSwKICAgICAgICAgICAgICAiZmlsbCI6ICIjMUU5MEZGIiwKICAgICAgICAgICAgICAiZmlsbC1vcGFjaXR5IjogMC4yNQogICAgICAgICAgICB9LAogICAgICAgICAgICAiZ2VvbWV0cnkiOiB7CiAgICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvbiIsCiAgICAgICAgICAgICAgImNvb3JkaW5hdGVzIjogW1svLyBbMTM5Ljc2LCAzNS41Ml0sIFsxMzkuMzIsIDMzLjQxXSwgWzE0MC45MiwgMzMuMDhdLCBbMTQxLjM1LCAzNS4xOV0sIFsxMzkuNzYsIDM1LjUyXQogICAgICAgICAgICAgIFtwYXJzZUZsb2F0KFJhRGVjWzBdLlJhKSwgcGFyc2VGbG9hdChSYURlY1swXS5EZWMpXSwgW3BhcnNlRmxvYXQoUmFEZWNbMV0uUmEpLCBwYXJzZUZsb2F0KFJhRGVjWzFdLkRlYyldLCBbcGFyc2VGbG9hdChSYURlY1syXS5SYSksIHBhcnNlRmxvYXQoUmFEZWNbMl0uRGVjKV0sIFtwYXJzZUZsb2F0KFJhRGVjWzNdLlJhKSwgcGFyc2VGbG9hdChSYURlY1szXS5EZWMpXSwgW3BhcnNlRmxvYXQoUmFEZWNbMF0uUmEpLCBwYXJzZUZsb2F0KFJhRGVjWzBdLkRlYyldXV0KICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBsaW5lLnVwZGF0ZSgpOwogICAgICBsYXllci5hZGQobGluZSk7CiAgICAgIHJldHVybiBsaW5lOwogICAgfSwKICAgIC8vIOi+heWKqeaWueazle+8muWwhuWNgeWFrei/m+WItuminOiJsui9rOaNouS4ulJHQgogICAgaGV4VG9SZ2I6IGZ1bmN0aW9uIGhleFRvUmdiKGhleCkgewogICAgICAvLyDnp7vpmaQj5Y+3CiAgICAgIGhleCA9IGhleC5yZXBsYWNlKCcjJywgJycpOyAvLyDop6PmnpBSR0LlgLwKCiAgICAgIHZhciByID0gcGFyc2VJbnQoaGV4LnN1YnN0cigwLCAyKSwgMTYpOwogICAgICB2YXIgZyA9IHBhcnNlSW50KGhleC5zdWJzdHIoMiwgMiksIDE2KTsKICAgICAgdmFyIGIgPSBwYXJzZUludChoZXguc3Vic3RyKDQsIDIpLCAxNik7CiAgICAgIHJldHVybiB7CiAgICAgICAgcjogciwKICAgICAgICBnOiBnLAogICAgICAgIGI6IGIKICAgICAgfTsKICAgIH0sCiAgICAvLyDmm7TmlrDop4blnLrmlrnms5UKICAgIHVwZGF0ZUZpZWxkT2ZWaWV3OiBmdW5jdGlvbiB1cGRhdGVGaWVsZE9mVmlldyhmaWVsZCkgewogICAgICBpZiAoIWZpZWxkIHx8ICFmaWVsZC5maWVsZEluZm8pIHJldHVybjsKICAgICAgdmFyIGluZm8gPSBmaWVsZC5maWVsZEluZm87IC8vIOiuoeeul+inhuWcuueahOWbm+S4quinkueCuQoKICAgICAgdmFyIGNvcm5lcnMgPSBbewogICAgICAgIFJhOiBpbmZvLm1heFJhLAogICAgICAgIERlYzogaW5mby5tYXhEZWMKICAgICAgfSwgewogICAgICAgIFJhOiBpbmZvLm1pblJhLAogICAgICAgIERlYzogaW5mby5tYXhEZWMKICAgICAgfSwgewogICAgICAgIFJhOiBpbmZvLm1pblJhLAogICAgICAgIERlYzogaW5mby5taW5EZWMKICAgICAgfSwgewogICAgICAgIFJhOiBpbmZvLm1heFJhLAogICAgICAgIERlYzogaW5mby5taW5EZWMKICAgICAgfSwgewogICAgICAgIFJhOiBpbmZvLm1heFJhLAogICAgICAgIERlYzogaW5mby5tYXhEZWMKICAgICAgfSAvLyDpl63lkIjlpJrovrnlvaIKICAgICAgXTsgLy8g5pu05pawR2VvSlNPTuaVsOaNrgoKICAgICAgZmllbGQuZGF0YSA9IHsKICAgICAgICAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiIsCiAgICAgICAgImZlYXR1cmVzIjogW3sKICAgICAgICAgICJ0eXBlIjogIkZlYXR1cmUiLAogICAgICAgICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICJzdHJva2UiOiBpbmZvLmNvbG9yLAogICAgICAgICAgICAic3Ryb2tlT3BhY2l0eSI6IDAuOCwKICAgICAgICAgICAgImZpbGwiOiBpbmZvLmNvbG9yLAogICAgICAgICAgICAiZmlsbE9wYWNpdHkiOiAwLjIKICAgICAgICAgIH0sCiAgICAgICAgICAiZ2VvbWV0cnkiOiB7CiAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb24iLAogICAgICAgICAgICAiY29vcmRpbmF0ZXMiOiBbW3BhcnNlRmxvYXQoY29ybmVyc1swXS5SYSksIHBhcnNlRmxvYXQoY29ybmVyc1swXS5EZWMpXSwgW3BhcnNlRmxvYXQoY29ybmVyc1sxXS5SYSksIHBhcnNlRmxvYXQoY29ybmVyc1sxXS5EZWMpXSwgW3BhcnNlRmxvYXQoY29ybmVyc1syXS5SYSksIHBhcnNlRmxvYXQoY29ybmVyc1syXS5EZWMpXSwgW3BhcnNlRmxvYXQoY29ybmVyc1szXS5SYSksIHBhcnNlRmxvYXQoY29ybmVyc1szXS5EZWMpXSwgW3BhcnNlRmxvYXQoY29ybmVyc1s0XS5SYSksIHBhcnNlRmxvYXQoY29ybmVyc1s0XS5EZWMpXV0KICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9OwogICAgICBmaWVsZC51cGRhdGUoKTsKICAgIH0sCiAgICAvLyDlkK/liqjop4blnLrmm7TmlrDlrprml7blmagKICAgIHN0YXJ0RmllbGRVcGRhdGVUaW1lcjogZnVuY3Rpb24gc3RhcnRGaWVsZFVwZGF0ZVRpbWVyKCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5maWVsZFVwZGF0ZVRpbWVyKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmZpZWxkVXBkYXRlVGltZXIpOwogICAgICB9CgogICAgICB0aGlzLmZpZWxkVXBkYXRlVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g5pu05paw5qCh5YeG54K56KeG5Zy6CiAgICAgICAgaWYgKF90aGlzMTcuY2FsaWJyYXRpb25DaXJjbGVzKSB7CiAgICAgICAgICBfdGhpczE3LmNhbGlicmF0aW9uQ2lyY2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgICBpZiAoZmllbGQuZmllbGRJbmZvKSB7CiAgICAgICAgICAgICAgX3RoaXMxNy51cGRhdGVGaWVsZE9mVmlldyhmaWVsZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gLy8g5pu05paw6LCD5pW054K56KeG5Zy6CgoKICAgICAgICBpZiAoX3RoaXMxNy5hZGp1c3RtZW50Q2lyY2xlcykgewogICAgICAgICAgX3RoaXMxNy5hZGp1c3RtZW50Q2lyY2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgICBpZiAoZmllbGQuZmllbGRJbmZvKSB7CiAgICAgICAgICAgICAgX3RoaXMxNy51cGRhdGVGaWVsZE9mVmlldyhmaWVsZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgMzAwMCk7IC8vIOavjzPnp5Lmm7TmlrDkuIDmrKEKICAgIH0sCiAgICAvLyDlgZzmraLop4blnLrmm7TmlrDlrprml7blmagKICAgIHN0b3BGaWVsZFVwZGF0ZVRpbWVyOiBmdW5jdGlvbiBzdG9wRmllbGRVcGRhdGVUaW1lcigpIHsKICAgICAgaWYgKHRoaXMuZmllbGRVcGRhdGVUaW1lcikgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5maWVsZFVwZGF0ZVRpbWVyKTsKICAgICAgICB0aGlzLmZpZWxkVXBkYXRlVGltZXIgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgZ2V0Q2llY2xlQXpBbHQ6IGZ1bmN0aW9uIGdldENpZWNsZUF6QWx0KENpcmNsZSkgewogICAgICB2YXIgb2JzID0gdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyOwogICAgICB2YXIgY2lycyA9IHRoaXMuJHN0ZWwuY29udmVydEZyYW1lKG9icywgJ0lDUkYnLCAnQ0lSUycsIENpcmNsZS5nZXRJbmZvKCdyYWRlYycpKTsKICAgICAgdmFyIG9ic2VydmVkID0gdGhpcy4kc3RlbC5jb252ZXJ0RnJhbWUob2JzLCAnQ0lSUycsICdPQlNFUlZFRCcsIGNpcnMpOyAvLyBjb25zdCBhemFsdCA9IHRoaXMuJHN0ZWwuYzJzKHRoaXMuJHN0ZWwuY29udmVydEZyYW1lKHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlciwgJ0lDUkYnLCAnT0JTRVJWRUQnLCBvYmouZ2V0SW5mbygncmFkZWMnKSkpCgogICAgICB2YXIgYXphbHQgPSB0aGlzLiRzdGVsLmMycyhvYnNlcnZlZCk7CiAgICAgIHZhciBheiA9IHRoaXMuJHN0ZWwuYW5wKGF6YWx0WzBdKTsKICAgICAgdmFyIGFsdCA9IHRoaXMuJHN0ZWwuYW5wKGF6YWx0WzFdKTsKICAgICAgdmFyIGF6X3JhZiA9IHRoaXMuJHN0ZWwuYTJhZihheiwgMSk7CiAgICAgIHZhciBBel9kZWdyZWUgPSAoYXpfcmFmLmRlZ3JlZXMgPCAwID8gYXpfcmFmLmRlZ3JlZXMgKyAxODAgOiBhel9yYWYuZGVncmVlcykgKyBhel9yYWYuYXJjbWludXRlcyAvIDYwICsgYXpfcmFmLmFyY3NlY29uZHMgLyAzNjAwOwogICAgICB2YXIgYWx0X3JhZiA9IHRoaXMuJHN0ZWwuYTJhZihhbHQsIDEpOwogICAgICB2YXIgQWx0X2RlZ3JlZSA9IGFsdF9yYWYuZGVncmVlcyArIGFsdF9yYWYuYXJjbWludXRlcyAvIDYwICsgYWx0X3JhZi5hcmNzZWNvbmRzIC8gMzYwMDsKICAgICAgY29uc29sZS5sb2coJ0F6QWx0OicsIEF6X2RlZ3JlZSwgQWx0X2RlZ3JlZSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgQXpfZGVncmVlOiBBel9kZWdyZWUsCiAgICAgICAgQWx0X2RlZ3JlZTogQWx0X2RlZ3JlZQogICAgICB9OwogICAgfSwKICAgIFNvbHZlUmVzdWx0TWFyazogZnVuY3Rpb24gU29sdmVSZXN1bHRNYXJrKFJhRGVncmVlLCBEZWNEZWdyZWUsIEF6aW11dGgsIEFsdGl0dWRlKSB7CiAgICAgIHZhciBNYXJrQ2lyY2xlX1JhRGVjID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDEsICJSYURlYyIpOwogICAgICB2YXIgbW0gPSBNYXJrQ2lyY2xlX1JhRGVjLnBvczsKICAgICAgdGhpcy52ZWMzX2Zyb21fc3BoZShSYURlZ3JlZSwgRGVjRGVncmVlLCBtbSk7CiAgICAgIE1hcmtDaXJjbGVfUmFEZWMucG9zID0gbW07CiAgICAgIGNvbnNvbGUubG9nKCJSYURlYyBjaXJjbGUgY29vcmRpbmF0ZXM6IiArIG1tKTsKICAgICAgdmFyIEF6QWx0ID0gdGhpcy5nZXRDaWVjbGVBekFsdChNYXJrQ2lyY2xlX1JhRGVjKTsKICAgICAgZ2xMYXllci5yZW1vdmUoTWFya0NpcmNsZV9SYURlYyk7CiAgICAgIHRoaXMuTWFya0NpcmNsZU51bSsrOwogICAgICB2YXIgTGFiZWwgPSAiQXpBbHRfVnVlXyIgKyB0aGlzLk1hcmtDaXJjbGVOdW07CiAgICAgIHZhciBNYXJrQ2lyY2xlX0FsdEF6ID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDQsIExhYmVsKTsKICAgICAgbW0gPSBNYXJrQ2lyY2xlX0FsdEF6LnBvczsKICAgICAgdGhpcy52ZWMzX2Zyb21fc3BoZShBekFsdC5Bel9kZWdyZWUsIEF6QWx0LkFsdF9kZWdyZWUsIG1tKTsKICAgICAgTWFya0NpcmNsZV9BbHRBei5wb3MgPSBtbTsKICAgICAgY29uc29sZS5sb2coIkF6QWx0X1Z1ZSBjaXJjbGUgY29vcmRpbmF0ZXM6IiArIG1tKTsKICAgICAgY29uc29sZS5sb2coIkF6QWx0X1Z1ZSBjaXJjbGUgeDoiICsgbW1bMF0pOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSB5OiIgKyBtbVsxXSk7CiAgICAgIGNvbnNvbGUubG9nKCJBekFsdF9WdWUgY2lyY2xlIHo6IiArIG1tWzJdKTsKICAgICAgdGhpcy5MYXN0UG9pbnRfQXpBbHQgPSB0aGlzLmdldENpZWNsZUF6QWx0KE1hcmtDaXJjbGVfQWx0QXopOwogICAgICB0aGlzLkNhbGN1bGF0aW9uUG9sYXJQb2ludChtbSk7IC8vIOWwhuWIm+W7uueahOWchuWtmOWCqOWIsOaVsOe7hOS4rQogICAgICAvLyB0aGlzLkNpcmNsZXMucHVzaChNYXJrQ2lyY2xlX1JhRGVjKTsKCiAgICAgIHRoaXMuQ2lyY2xlcy5wdXNoKE1hcmtDaXJjbGVfQWx0QXopOwogICAgfSwKICAgIFJlbW92ZUFsbENpcmNsZXM6IGZ1bmN0aW9uIFJlbW92ZUFsbENpcmNsZXMoKSB7CiAgICAgIHRoaXMuQ2lyY2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaXJjbGUpIHsKICAgICAgICBnbExheWVyLnJlbW92ZShjaXJjbGUpOwogICAgICB9KTsKICAgICAgdGhpcy5DaXJjbGVzID0gW107CiAgICB9LAogICAgU29sdmVSZXN1bHRNYXJrX1JlYWxUaW1lOiBmdW5jdGlvbiBTb2x2ZVJlc3VsdE1hcmtfUmVhbFRpbWUoUmFEZWdyZWUsIERlY0RlZ3JlZSwgQXppbXV0aCwgQWx0aXR1ZGUpIHsKICAgICAgdGhpcy5MYXN0Q2lyY2xlX1JhRGVjID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDEsICJSYURlYyIpOwogICAgICB2YXIgbW0gPSB0aGlzLkxhc3RDaXJjbGVfUmFEZWMucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKFJhRGVncmVlLCBEZWNEZWdyZWUsIG1tKTsKICAgICAgdGhpcy5MYXN0Q2lyY2xlX1JhRGVjLnBvcyA9IG1tOwogICAgICBjb25zb2xlLmxvZygiUmFEZWMgY2lyY2xlIGNvb3JkaW5hdGVzOiIgKyBtbSk7CiAgICAgIHZhciBBekFsdCA9IHRoaXMuZ2V0Q2llY2xlQXpBbHQodGhpcy5MYXN0Q2lyY2xlX1JhRGVjKTsKICAgICAgZ2xMYXllci5yZW1vdmUodGhpcy5MYXN0Q2lyY2xlX1JhRGVjKTsKCiAgICAgIGlmICh0aGlzLkxhc3RDaXJjbGVfQXpBbHQgIT09IG51bGwgJiYgdGhpcy5MYXN0Q2lyY2xlX0F6QWx0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBnbExheWVyLnJlbW92ZSh0aGlzLkxhc3RDaXJjbGVfQXpBbHQpOwogICAgICB9CgogICAgICB0aGlzLkxhc3RDaXJjbGVfQXpBbHQgPSB0aGlzLkFkZE1hcmtDaXJjbGUodGhpcy4kc3RlbCwgZ2xMYXllciwgNCwgJ0N1cnJlbnQnKTsKICAgICAgbW0gPSB0aGlzLkxhc3RDaXJjbGVfQXpBbHQucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKEF6QWx0LkF6X2RlZ3JlZSwgQXpBbHQuQWx0X2RlZ3JlZSwgbW0pOwogICAgICB0aGlzLkxhc3RDaXJjbGVfQXpBbHQucG9zID0gbW07CiAgICAgIHRoaXMuTGFzdENpcmNsZV9BekFsdC5jb2xvciA9IFswLCAxLCAxLCAwLjI1XTsKICAgICAgY29uc29sZS5sb2coIkF6QWx0X1Z1ZSBjaXJjbGUgY29vcmRpbmF0ZXM6IiArIG1tKTsKICAgICAgY29uc29sZS5sb2coIkF6QWx0X1Z1ZSBjaXJjbGUgeDoiICsgbW1bMF0pOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSB5OiIgKyBtbVsxXSk7CiAgICAgIGNvbnNvbGUubG9nKCJBekFsdF9WdWUgY2lyY2xlIHo6IiArIG1tWzJdKTsKICAgICAgdGhpcy5DdXJyZW50X0F6QWx0ID0gdGhpcy5nZXRDaWVjbGVBekFsdCh0aGlzLkxhc3RDaXJjbGVfQXpBbHQpOwogICAgICBjb25zb2xlLmxvZygiQ3VycmVudCBBekFsdDoiLCB0aGlzLkN1cnJlbnRfQXpBbHQuQXpfZGVncmVlLCB0aGlzLkN1cnJlbnRfQXpBbHQuQWx0X2RlZ3JlZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2hvd0N1cnJlbnRBekFsdFRleHQnLCB0aGlzLkN1cnJlbnRfQXpBbHQuQXpfZGVncmVlLCB0aGlzLkN1cnJlbnRfQXpBbHQuQWx0X2RlZ3JlZSk7CiAgICB9LAogICAgQ2FsY3VsYXRpb25Qb2xhclBvaW50OiBmdW5jdGlvbiBDYWxjdWxhdGlvblBvbGFyUG9pbnQoY29vcmRpbmF0ZSkgewogICAgICB0aGlzLkNhcnRlc2lhbkxpc3QucHVzaChjb29yZGluYXRlKTsKCiAgICAgIGlmICh0aGlzLkNhcnRlc2lhbkxpc3QubGVuZ3RoIDwgMykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdIaWRlU2luZ2xlU29sdmVCdG4nKTsgLy8g6I635Y+W5LiJ5Liq54K555qE5Z2Q5qCHCgogICAgICB2YXIgcDEgPSB0aGlzLkNhcnRlc2lhbkxpc3RbMF07CiAgICAgIHZhciBwMiA9IHRoaXMuQ2FydGVzaWFuTGlzdFsxXTsKICAgICAgdmFyIHAzID0gdGhpcy5DYXJ0ZXNpYW5MaXN0WzJdOyAvLyDorqHnrpfkuKTkuKrlkJHph48KCiAgICAgIHZhciB2MSA9IFtwMlswXSAtIHAxWzBdLCBwMlsxXSAtIHAxWzFdLCBwMlsyXSAtIHAxWzJdXTsKICAgICAgdmFyIHYyID0gW3AzWzBdIC0gcDFbMF0sIHAzWzFdIC0gcDFbMV0sIHAzWzJdIC0gcDFbMl1dOyAvLyDorqHnrpfms5XlkJHph48KCiAgICAgIHZhciBub3JtYWwgPSBbdjFbMV0gKiB2MlsyXSAtIHYxWzJdICogdjJbMV0sIHYxWzJdICogdjJbMF0gLSB2MVswXSAqIHYyWzJdLCB2MVswXSAqIHYyWzFdIC0gdjFbMV0gKiB2MlswXV07IC8vIOiuoeeul+azleWQkemHj+eahOmVv+W6pgoKICAgICAgdmFyIG5vcm1hbExlbmd0aCA9IE1hdGguc3FydChNYXRoLnBvdyhub3JtYWxbMF0sIDIpICsgTWF0aC5wb3cobm9ybWFsWzFdLCAyKSArIE1hdGgucG93KG5vcm1hbFsyXSwgMikpOyAvLyDlvZLkuIDljJbms5XlkJHph48KCiAgICAgIHZhciB1bml0Tm9ybWFsID0gW25vcm1hbFswXSAvIG5vcm1hbExlbmd0aCwgbm9ybWFsWzFdIC8gbm9ybWFsTGVuZ3RoLCBub3JtYWxbMl0gLyBub3JtYWxMZW5ndGhdOyAvLyDlgYforr7nkIPnmoTljYrlvoTkuLpy77yM5ZyG5b+D5Li6KDAsIDAsIDApCgogICAgICB2YXIgciA9IDE7IC8vIOagueaNruS9oOeahOWunumZheaDheWGteiwg+aVtAogICAgICAvLyDorqHnrpfkuI7nkIPpnaLnmoTkuqTngrkKCiAgICAgIHZhciBpbnRlcnNlY3Rpb24xID0gW3VuaXROb3JtYWxbMF0gKiByLCB1bml0Tm9ybWFsWzFdICogciwgdW5pdE5vcm1hbFsyXSAqIHJdOwogICAgICB2YXIgaW50ZXJzZWN0aW9uMiA9IFstdW5pdE5vcm1hbFswXSAqIHIsIC11bml0Tm9ybWFsWzFdICogciwgLXVuaXROb3JtYWxbMl0gKiByXTsKICAgICAgY29uc29sZS5sb2coJ0ludGVyc2VjdGlvbiBQb2ludHM6JywgaW50ZXJzZWN0aW9uMSwgaW50ZXJzZWN0aW9uMik7IC8vIOmAieaLqeemuygwLDAsMSnmm7Tov5HnmoTkuqTngrkKCiAgICAgIHZhciBjbG9zZXJJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb24xWzJdID4gMCA/IGludGVyc2VjdGlvbjEgOiBpbnRlcnNlY3Rpb24yOwogICAgICB2YXIgTWFya0NpcmNsZV9GYWtlUG9sYXJQb2ludCA9IHRoaXMuQWRkTWFya0NpcmNsZSh0aGlzLiRzdGVsLCBnbExheWVyLCA0LCAiRmFrZVBvbGFyUG9pbnQiKTsKICAgICAgdmFyIG1tID0gTWFya0NpcmNsZV9GYWtlUG9sYXJQb2ludC5wb3M7CiAgICAgIG1tWzBdID0gY2xvc2VySW50ZXJzZWN0aW9uWzBdOwogICAgICBtbVsxXSA9IGNsb3NlckludGVyc2VjdGlvblsxXTsKICAgICAgbW1bMl0gPSBjbG9zZXJJbnRlcnNlY3Rpb25bMl07CiAgICAgIE1hcmtDaXJjbGVfRmFrZVBvbGFyUG9pbnQucG9zID0gbW07CiAgICAgIGNvbnNvbGUubG9nKCJGYWtlUG9sYXJQb2ludCBjaXJjbGUgY29vcmRpbmF0ZXM6IiArIG1tKTsKICAgICAgdmFyIEF6QWx0X0Zha2VQb2xhclBvaW50ID0gdGhpcy5nZXRDaWVjbGVBekFsdChNYXJrQ2lyY2xlX0Zha2VQb2xhclBvaW50KTsKICAgICAgY29uc29sZS5sb2coIkZha2UgUG9sYXIgUG9pbnQgQXpBbHQ6IiwgQXpBbHRfRmFrZVBvbGFyUG9pbnQuQXpfZGVncmVlLCAnLCcsIEF6QWx0X0Zha2VQb2xhclBvaW50LkFsdF9kZWdyZWUpOwogICAgICB0aGlzLkNpcmNsZXMucHVzaChNYXJrQ2lyY2xlX0Zha2VQb2xhclBvaW50KTsKICAgICAgdmFyIEF6QWx0X1BvbGFyUG9pbnQgPSB7CiAgICAgICAgQXpfZGVncmVlOiAwLAogICAgICAgIEFsdF9kZWdyZWU6IHRoaXMuUG9sYXJQb2ludF9BbHRpdHVkZQogICAgICB9OyAvLyBjb25zb2xlLmxvZygiUmVhbCBQb2xhciBQb2ludCBBekFsdDoiLCBBekFsdF9Qb2xhclBvaW50LkF6X2RlZ3JlZSwgJywnLCBBekFsdF9Qb2xhclBvaW50LkFsdF9kZWdyZWUpOwoKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnUmVhbCBQb2xhciBQb2ludCBBekFsdDonICsgQXpBbHRfUG9sYXJQb2ludC5Bel9kZWdyZWUgKyAnLCcgKyBBekFsdF9Qb2xhclBvaW50LkFsdF9kZWdyZWUsICdpbmZvJyk7IC8vIGNvbnNvbGUubG9nKCJMYXN0IFBvaW50IEF6QWx0OiIsIHRoaXMuTGFzdFBvaW50X0F6QWx0LkF6X2RlZ3JlZSwgdGhpcy5MYXN0UG9pbnRfQXpBbHQuQWx0X2RlZ3JlZSk7CgogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdMYXN0IFBvaW50IEF6QWx0OicgKyB0aGlzLkxhc3RQb2ludF9BekFsdC5Bel9kZWdyZWUgKyAnLCcgKyB0aGlzLkxhc3RQb2ludF9BekFsdC5BbHRfZGVncmVlLCAnaW5mbycpOyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgLy8gLy8g5bCG55CD5Z2Q5qCH6L2s5o2i5Li656yb5Y2h5bCU5Z2Q5qCHCiAgICAgIC8vIGxldCBmYWtlUG9sYXJQb2ludCA9IHRoaXMuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4oQXpBbHRfRmFrZVBvbGFyUG9pbnQuQXpfZGVncmVlLCBBekFsdF9GYWtlUG9sYXJQb2ludC5BbHRfZGVncmVlKTsKICAgICAgLy8gbGV0IHBvbGFyUG9pbnQgPSB0aGlzLnNwaGVyaWNhbFRvQ2FydGVzaWFuKEF6QWx0X1BvbGFyUG9pbnQuQXpfZGVncmVlLCBBekFsdF9Qb2xhclBvaW50LkFsdF9kZWdyZWUpOwogICAgICAvLyBsZXQgbGFzdFBvaW50ID0gdGhpcy5zcGhlcmljYWxUb0NhcnRlc2lhbih0aGlzLkxhc3RQb2ludF9BekFsdC5Bel9kZWdyZWUsIHRoaXMuTGFzdFBvaW50X0F6QWx0LkFsdF9kZWdyZWUpOwogICAgICAvLyAvLyDorqHnrpfml4vovazlm5vlhYPmlbAKICAgICAgLy8gbGV0IHF1YXRlcm5pb24gPSB0aGlzLmNvbXB1dGVRdWF0ZXJuaW9uKGZha2VQb2xhclBvaW50LCBwb2xhclBvaW50KTsKICAgICAgLy8gLy8g5bqU55So5peL6L2sCiAgICAgIC8vIGxldCBmb3VydGhQb2ludCA9IHRoaXMuYXBwbHlRdWF0ZXJuaW9uKGxhc3RQb2ludCwgcXVhdGVybmlvbik7CiAgICAgIC8vIC8vIOWwhue7k+aenOi9rOaNouWbnueQg+WdkOaghwogICAgICAvLyBsZXQgZm91cnRoUG9pbnRBekFsdCA9IHRoaXMuY2FydGVzaWFuVG9TcGhlcmljYWwoZm91cnRoUG9pbnQpOwogICAgICAvLyBjb25zb2xlLmxvZygiRm91cnRoIFBvaW50IEF6QWx0OiIsIGZvdXJ0aFBvaW50QXpBbHQuQXpfZGVncmVlLCAnLCcsIGZvdXJ0aFBvaW50QXpBbHQuQWx0X2RlZ3JlZSk7CiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAvLyDorqHnrpfop5Lluqblt67lgLzvvIzogIPomZHop5LluqbnmoTlvqrnjq/mgKfotKgKCiAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUFuZ2xlRGlmZmVyZW5jZShhbmdsZTEsIGFuZ2xlMikgewogICAgICAgIHZhciBkaWZmZXJlbmNlID0gYW5nbGUyIC0gYW5nbGUxOwoKICAgICAgICB3aGlsZSAoZGlmZmVyZW5jZSA+IDE4MCkgewogICAgICAgICAgZGlmZmVyZW5jZSAtPSAzNjA7CiAgICAgICAgfQoKICAgICAgICB3aGlsZSAoZGlmZmVyZW5jZSA8IC0xODApIHsKICAgICAgICAgIGRpZmZlcmVuY2UgKz0gMzYwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRpZmZlcmVuY2U7CiAgICAgIH0KCiAgICAgIHZhciBhemltdXRoRGlmZmVyZW5jZSA9IGNhbGN1bGF0ZUFuZ2xlRGlmZmVyZW5jZShBekFsdF9GYWtlUG9sYXJQb2ludC5Bel9kZWdyZWUsIEF6QWx0X1BvbGFyUG9pbnQuQXpfZGVncmVlKTsKICAgICAgdmFyIGFsdGl0dWRlRGlmZmVyZW5jZSA9IEF6QWx0X1BvbGFyUG9pbnQuQWx0X2RlZ3JlZSAtIEF6QWx0X0Zha2VQb2xhclBvaW50LkFsdF9kZWdyZWU7IC8vIOW6lOeUqOW3ruWAvOWIsExhc3RQb2ludAoKICAgICAgdmFyIGZvdXJ0aFBvaW50QXpBbHQgPSB7CiAgICAgICAgQXpfZGVncmVlOiB0aGlzLkxhc3RQb2ludF9BekFsdC5Bel9kZWdyZWUgKyBhemltdXRoRGlmZmVyZW5jZSwKICAgICAgICBBbHRfZGVncmVlOiB0aGlzLkxhc3RQb2ludF9BekFsdC5BbHRfZGVncmVlICsgYWx0aXR1ZGVEaWZmZXJlbmNlCiAgICAgIH07IC8vIOehruS/neaWueS9jeinkuWcqDDliLAzNjDluqbkuYvpl7QKCiAgICAgIGZvdXJ0aFBvaW50QXpBbHQuQXpfZGVncmVlID0gKGZvdXJ0aFBvaW50QXpBbHQuQXpfZGVncmVlICsgMzYwKSAlIDM2MDsgLy8g56Gu5L+d6auY5bqm6KeS5ZyoLTkw5YiwOTDluqbkuYvpl7QKCiAgICAgIGZvdXJ0aFBvaW50QXpBbHQuQWx0X2RlZ3JlZSA9IE1hdGgubWF4KE1hdGgubWluKGZvdXJ0aFBvaW50QXpBbHQuQWx0X2RlZ3JlZSwgOTApLCAtOTApOwogICAgICBjb25zb2xlLmxvZygiRm91cnRoIFBvaW50IEF6QWx0OiIsIGZvdXJ0aFBvaW50QXpBbHQuQXpfZGVncmVlLCAnLCcsIGZvdXJ0aFBvaW50QXpBbHQuQWx0X2RlZ3JlZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2hvd0F6QWx0VGV4dCcsIGF6aW11dGhEaWZmZXJlbmNlLCBhbHRpdHVkZURpZmZlcmVuY2UsIGZvdXJ0aFBvaW50QXpBbHQuQXpfZGVncmVlLCBmb3VydGhQb2ludEF6QWx0LkFsdF9kZWdyZWUpOyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KICAgICAgLy8g5bCG6KeS5bqm6L2s5o2i5Li65byn5bqmCgogICAgICBmdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZ3JlZXMpIHsKICAgICAgICByZXR1cm4gZGVncmVlcyAqIE1hdGguUEkgLyAxODA7CiAgICAgIH0gLy8g5bCG55CD5Z2Q5qCH6L2s5o2i5Li656yb5Y2h5bCU5Z2Q5qCHCgoKICAgICAgZnVuY3Rpb24gc3BoZXJpY2FsVG9DYXJ0ZXNpYW4oYXppbXV0aCwgYWx0aXR1ZGUpIHsKICAgICAgICB2YXIgYXogPSBkZWdyZWVzVG9SYWRpYW5zKGF6aW11dGgpOwogICAgICAgIHZhciBhbHQgPSBkZWdyZWVzVG9SYWRpYW5zKGFsdGl0dWRlKTsKICAgICAgICB2YXIgeCA9IE1hdGguY29zKGFsdCkgKiBNYXRoLmNvcyhheik7CiAgICAgICAgdmFyIHkgPSBNYXRoLmNvcyhhbHQpICogTWF0aC5zaW4oYXopOwogICAgICAgIHZhciB6ID0gTWF0aC5zaW4oYWx0KTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogeCwKICAgICAgICAgIHk6IHksCiAgICAgICAgICB6OiB6CiAgICAgICAgfTsKICAgICAgfSAvLyDlsIbnrKzlm5vkuKrngrnovazmjaLkuLrnrJvljaHlsJTlnZDmoIcKCgogICAgICB2YXIgZm91cnRoUG9pbnRDYXJ0ZXNpYW4gPSBzcGhlcmljYWxUb0NhcnRlc2lhbihmb3VydGhQb2ludEF6QWx0LkF6X2RlZ3JlZSwgZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlKTsKICAgICAgY29uc29sZS5sb2coIkZvdXJ0aCBQb2ludCBDYXJ0ZXNpYW46IiwgZm91cnRoUG9pbnRDYXJ0ZXNpYW4ueCwgJywnLCBmb3VydGhQb2ludENhcnRlc2lhbi55LCAnLCcsIGZvdXJ0aFBvaW50Q2FydGVzaWFuLnopOwogICAgICB2YXIgTWFya0NpcmNsZV9mb3VydGhQb2ludCA9IHRoaXMuQWRkTWFya0NpcmNsZSh0aGlzLiRzdGVsLCBnbExheWVyLCA0LCAiVGFyZ2V0IFBvaW50Iik7CiAgICAgIG1tID0gTWFya0NpcmNsZV9mb3VydGhQb2ludC5wb3M7CiAgICAgIG1tWzBdID0gZm91cnRoUG9pbnRDYXJ0ZXNpYW4ueDsKICAgICAgbW1bMV0gPSBmb3VydGhQb2ludENhcnRlc2lhbi55OwogICAgICBtbVsyXSA9IGZvdXJ0aFBvaW50Q2FydGVzaWFuLno7CiAgICAgIE1hcmtDaXJjbGVfZm91cnRoUG9pbnQucG9zID0gbW07CiAgICAgIE1hcmtDaXJjbGVfZm91cnRoUG9pbnQuY29sb3IgPSBbMSwgMCwgMCwgMC4yNV07CiAgICAgIHRoaXMuQ2lyY2xlcy5wdXNoKE1hcmtDaXJjbGVfZm91cnRoUG9pbnQpOyAvLyDmuIXnqbrliJfooajvvIzlh4blpIfkuIvmrKHorqHnrpcKCiAgICAgIHRoaXMuQ2FydGVzaWFuTGlzdCA9IFtdOwogICAgICB0aGlzLk1hcmtDaXJjbGVOdW0gPSAwOwogICAgfSwKICAgIC8vIOWwhuinkuW6pui9rOaNouS4uuW8p+W6pgogICAgZGVncmVlc1RvUmFkaWFuczogZnVuY3Rpb24gZGVncmVlc1RvUmFkaWFucyhkZWdyZWVzKSB7CiAgICAgIHJldHVybiBkZWdyZWVzICogTWF0aC5QSSAvIDE4MDsKICAgIH0sCiAgICAvLyDlsIbnkIPlnZDmoIfovazmjaLkuLrnrJvljaHlsJTlnZDmoIcKICAgIHNwaGVyaWNhbFRvQ2FydGVzaWFuOiBmdW5jdGlvbiBzcGhlcmljYWxUb0NhcnRlc2lhbihhemltdXRoLCBhbHRpdHVkZSkgewogICAgICB2YXIgYXogPSB0aGlzLmRlZ3JlZXNUb1JhZGlhbnMoYXppbXV0aCk7CiAgICAgIHZhciBhbHQgPSB0aGlzLmRlZ3JlZXNUb1JhZGlhbnMoYWx0aXR1ZGUpOwogICAgICB2YXIgeCA9IE1hdGguY29zKGFsdCkgKiBNYXRoLmNvcyhheik7CiAgICAgIHZhciB5ID0gTWF0aC5jb3MoYWx0KSAqIE1hdGguc2luKGF6KTsKICAgICAgdmFyIHogPSBNYXRoLnNpbihhbHQpOwogICAgICByZXR1cm4gewogICAgICAgIHg6IHgsCiAgICAgICAgeTogeSwKICAgICAgICB6OiB6CiAgICAgIH07CiAgICB9LAogICAgLy8g6K6h566X5peL6L2s5Zub5YWD5pWwCiAgICBjb21wdXRlUXVhdGVybmlvbjogZnVuY3Rpb24gY29tcHV0ZVF1YXRlcm5pb24oZnJvbSwgdG8pIHsKICAgICAgdmFyIHcgPSBmcm9tLnggKiB0by54ICsgZnJvbS55ICogdG8ueSArIGZyb20ueiAqIHRvLnogKyAxOwogICAgICB2YXIgeCA9IGZyb20ueSAqIHRvLnogLSBmcm9tLnogKiB0by55OwogICAgICB2YXIgeSA9IGZyb20ueiAqIHRvLnggLSBmcm9tLnggKiB0by56OwogICAgICB2YXIgeiA9IGZyb20ueCAqIHRvLnkgLSBmcm9tLnkgKiB0by54OwogICAgICB2YXIgbm9ybSA9IE1hdGguc3FydCh3ICogdyArIHggKiB4ICsgeSAqIHkgKyB6ICogeik7CiAgICAgIHJldHVybiB7CiAgICAgICAgdzogdyAvIG5vcm0sCiAgICAgICAgeDogeCAvIG5vcm0sCiAgICAgICAgeTogeSAvIG5vcm0sCiAgICAgICAgejogeiAvIG5vcm0KICAgICAgfTsKICAgIH0sCiAgICAvLyDlupTnlKjlm5vlhYPmlbDml4vovawKICAgIGFwcGx5UXVhdGVybmlvbjogZnVuY3Rpb24gYXBwbHlRdWF0ZXJuaW9uKHBvaW50LCBxdWF0KSB7CiAgICAgIHZhciB4ID0gcXVhdC53ICogcXVhdC53ICogcG9pbnQueCArIDIgKiBxdWF0LnkgKiBxdWF0LncgKiBwb2ludC56IC0gMiAqIHF1YXQueiAqIHF1YXQudyAqIHBvaW50LnkgKyBxdWF0LnggKiBxdWF0LnggKiBwb2ludC54ICsgMiAqIHF1YXQueSAqIHF1YXQueCAqIHBvaW50LnkgKyAyICogcXVhdC56ICogcXVhdC54ICogcG9pbnQueiAtIHF1YXQueiAqIHF1YXQueiAqIHBvaW50LnggLSBxdWF0LnkgKiBxdWF0LnkgKiBwb2ludC54OwogICAgICB2YXIgeSA9IDIgKiBxdWF0LnggKiBxdWF0LnkgKiBwb2ludC54ICsgcXVhdC55ICogcXVhdC55ICogcG9pbnQueSArIDIgKiBxdWF0LnogKiBxdWF0LnkgKiBwb2ludC56ICsgMiAqIHF1YXQudyAqIHF1YXQueiAqIHBvaW50LnggLSBxdWF0LnogKiBxdWF0LnogKiBwb2ludC55ICsgcXVhdC53ICogcXVhdC53ICogcG9pbnQueSAtIDIgKiBxdWF0LnggKiBxdWF0LncgKiBwb2ludC56IC0gcXVhdC54ICogcXVhdC54ICogcG9pbnQueTsKICAgICAgdmFyIHogPSAyICogcXVhdC54ICogcXVhdC56ICogcG9pbnQueCArIDIgKiBxdWF0LnkgKiBxdWF0LnogKiBwb2ludC55ICsgcXVhdC56ICogcXVhdC56ICogcG9pbnQueiAtIDIgKiBxdWF0LncgKiBxdWF0LnkgKiBwb2ludC54IC0gcXVhdC55ICogcXVhdC55ICogcG9pbnQueiArIDIgKiBxdWF0LncgKiBxdWF0LnggKiBwb2ludC55IC0gcXVhdC54ICogcXVhdC54ICogcG9pbnQueiArIHF1YXQudyAqIHF1YXQudyAqIHBvaW50Lno7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogeCwKICAgICAgICB5OiB5LAogICAgICAgIHo6IHoKICAgICAgfTsKICAgIH0sCiAgICAvLyDlsIbnrJvljaHlsJTlnZDmoIfovazmjaLlm57nkIPlnZDmoIcKICAgIGNhcnRlc2lhblRvU3BoZXJpY2FsOiBmdW5jdGlvbiBjYXJ0ZXNpYW5Ub1NwaGVyaWNhbChjYXJ0ZXNpYW4pIHsKICAgICAgdmFyIHIgPSBNYXRoLnNxcnQoTWF0aC5wb3coY2FydGVzaWFuLngsIDIpICsgTWF0aC5wb3coY2FydGVzaWFuLnksIDIpICsgTWF0aC5wb3coY2FydGVzaWFuLnosIDIpKTsKICAgICAgdmFyIGF6aW11dGggPSBNYXRoLmF0YW4yKGNhcnRlc2lhbi55LCBjYXJ0ZXNpYW4ueCk7CiAgICAgIHZhciBhbHRpdHVkZSA9IE1hdGguYXNpbihjYXJ0ZXNpYW4ueiAvIHIpOwogICAgICByZXR1cm4gewogICAgICAgIEF6X2RlZ3JlZTogYXppbXV0aCAqIDE4MCAvIE1hdGguUEksCiAgICAgICAgQWx0X2RlZ3JlZTogYWx0aXR1ZGUgKiAxODAgLyBNYXRoLlBJCiAgICAgIH07CiAgICB9LAogICAgU29sdmVGb3ZNYXJrOiBmdW5jdGlvbiBTb2x2ZUZvdk1hcmsoUmFEZWMpIHsKICAgICAgY29uc29sZS5sb2coJ1JhRGVjWzRdOicsIFJhRGVjKTsgLy8gbGV0IHJlY3RhbmdsZSA9IHRoaXMuQWRkTWFya1JlY3RhbmdsZSh0aGlzLiRzdGVsLCBnbExheWVyLCBSYURlYyk7CgogICAgICB0aGlzLkNpcmNsZXMucHVzaChyZWN0YW5nbGUpOwogICAgfSwKICAgIENhbGlicmF0ZVBvbGFyQXhpczogZnVuY3Rpb24gQ2FsaWJyYXRlUG9sYXJBeGlzKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ0NhbGlicmF0ZVBvbGFyQXhpc01vZGUnKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdTdGFydExvb3BDYXB0dXJlJyk7CgogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgfSwKICAgIFJlY2FsaWJyYXRlUG9sYXJBeGlzOiBmdW5jdGlvbiBSZWNhbGlicmF0ZVBvbGFyQXhpcygpIHsKICAgICAgLy8g5riF56m65YiX6KGo77yM5YeG5aSH5LiL5qyh6K6h566XCiAgICAgIHRoaXMuQ2FydGVzaWFuTGlzdCA9IFtdOwogICAgICB0aGlzLk1hcmtDaXJjbGVOdW0gPSAwOwogICAgICB0aGlzLlJlbW92ZUFsbENpcmNsZXMoKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdDbGVhclNsb3ZlUmVzdWx0TGlzdCcpOwogICAgfSwKICAgIC8vIOS9v+eUqOaWsOeahOWkmui+ueW9ouaWueW8j+e7mOWItuagoeWHhueCuQogICAgZHJhd0NhbGlicmF0aW9uUG9pbnRQb2x5Z29uOiBmdW5jdGlvbiBkcmF3Q2FsaWJyYXRpb25Qb2ludFBvbHlnb24oY29vcmRpbmF0ZXMsIGNvbG9yLCBuYW1lKSB7CiAgICAgIGNvbnNvbGUubG9nKCJcdTdFRDhcdTUyMzZcdTY4MjFcdTUxQzZcdTcwQjlcdTU5MUFcdThGQjlcdTVGNjI6ICIuY29uY2F0KG5hbWUpLCBjb29yZGluYXRlcyk7CgogICAgICB0cnkgewogICAgICAgIC8vIOmqjOivgei+k+WFpeWPguaVsAogICAgICAgIGlmICghY29vcmRpbmF0ZXMgfHwgIUFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXMpKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfmoKHlh4bngrnlnZDmoIflv4XpobvmmK/mlbDnu4QnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggIT09IDUpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1NjgyMVx1NTFDNlx1NzBCOVx1NTc1MFx1NjgwN1x1NUZDNVx1OTg3Qlx1NjYyRjVcdTRFMkFcdTcwQjlcdUZGMENcdTVGNTNcdTUyNERcdTY3MDkiLmNvbmNhdChjb29yZGluYXRlcy5sZW5ndGgsICJcdTRFMkFcdTcwQjkiKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvLyDpqozor4Hmr4/kuKrlnZDmoIfngrkKCgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBjb29yZCA9IGNvb3JkaW5hdGVzW2ldOwoKICAgICAgICAgIGlmICghY29vcmQgfHwgdHlwZW9mIGNvb3JkLnJhID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgY29vcmQuZGVjID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJcdTY4MjFcdTUxQzZcdTcwQjlcdTU3NTBcdTY4MDciLmNvbmNhdChpLCAiXHU2ODNDXHU1RjBGXHU5NTE5XHU4QkVGXHVGRjFBIiksIGNvb3JkKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZShjb29yZC5yYSkgfHwgIXRoaXMuaXNWYWxpZENvb3JkaW5hdGUoY29vcmQuZGVjKSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJcdTY4MjFcdTUxQzZcdTcwQjlcdTU3NTBcdTY4MDciLmNvbmNhdChpLCAiXHU1MDNDXHU2NUUwXHU2NTQ4XHVGRjFBIiksIGNvb3JkKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0gLy8g5L2/55So5paw55qE5aSa6L655b2i57uY5Yi25pa55rOVCgoKICAgICAgICB2YXIgY2FsaWJyYXRpb25Qb2x5Z29uID0gdGhpcy5BZGRGaWVsZE9mVmlld1BvbHlnb24odGhpcy4kc3RlbCwgZ2xMYXllciwgY29vcmRpbmF0ZXMsIGNvbG9yLCBuYW1lKTsKCiAgICAgICAgaWYgKGNhbGlicmF0aW9uUG9seWdvbikgewogICAgICAgICAgLy8g5re75Yqg5Yiw5qCh5YeG54K55pWw57uECiAgICAgICAgICBpZiAoIXRoaXMuY2FsaWJyYXRpb25DaXJjbGVzKSB7CiAgICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25DaXJjbGVzID0gW107CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkNpcmNsZXMucHVzaChjYWxpYnJhdGlvblBvbHlnb24pOwogICAgICAgICAgY29uc29sZS5sb2coIlx1NjgyMVx1NTFDNlx1NzBCOVx1NTkxQVx1OEZCOVx1NUY2Mlx1NTIxQlx1NUVGQVx1NjIxMFx1NTI5RjogIi5jb25jYXQobmFtZSksIGNhbGlicmF0aW9uUG9seWdvbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1NjgyMVx1NTFDNlx1NzBCOVx1NTkxQVx1OEZCOVx1NUY2Mlx1NTIxQlx1NUVGQVx1NTkzMVx1OEQyNTogIi5jb25jYXQobmFtZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfnu5jliLbmoKHlh4bngrnlpJrovrnlvaLml7blh7rplJk6JywgZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgLy8g5riF6Zmk5omA5pyJ5qCh5YeG54K5CiAgICBjbGVhckNhbGlicmF0aW9uUG9pbnRzOiBmdW5jdGlvbiBjbGVhckNhbGlicmF0aW9uUG9pbnRzKCkgewogICAgICBjb25zb2xlLmxvZygn5riF6Zmk5omA5pyJ5qCh5YeG54K5Jyk7CgogICAgICBpZiAodGhpcy5jYWxpYnJhdGlvbkNpcmNsZXMpIHsKICAgICAgICB0aGlzLmNhbGlicmF0aW9uQ2lyY2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaXJjbGUpIHsKICAgICAgICAgIGdsTGF5ZXIucmVtb3ZlKGNpcmNsZSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkNpcmNsZXMgPSBbXTsKICAgICAgfSAvLyDlkIzml7bmuIXpmaTkuIrkuIDmrKHkvY3nva4KCgogICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IG51bGw7CiAgICB9LAogICAgLy8g5L2/55So5paw55qE5aSa6L655b2i5pa55byP57uY5Yi26LCD5pW054K5CiAgICBkcmF3QWRqdXN0bWVudFBvaW50c1BvbHlnb246IGZ1bmN0aW9uIGRyYXdBZGp1c3RtZW50UG9pbnRzUG9seWdvbihjdXJyZW50Q29vcmRpbmF0ZXMsIHRhcmdldENvb3JkaW5hdGVzLCBjdXJyZW50Q29sb3IsIHRhcmdldENvbG9yKSB7CiAgICAgIHZhciBpc1RpbWVyVXBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTsKICAgICAgY29uc29sZS5sb2coJ+e7mOWItuiwg+aVtOeCueWkmui+ueW9oicsIHsKICAgICAgICBjdXJyZW50Q29vcmRpbmF0ZXM6IGN1cnJlbnRDb29yZGluYXRlcywKICAgICAgICB0YXJnZXRDb29yZGluYXRlczogdGFyZ2V0Q29vcmRpbmF0ZXMKICAgICAgfSk7CgogICAgICB0cnkgewogICAgICAgIC8vIOa4hemZpOS5i+WJjeeahOiwg+aVtOeCuQogICAgICAgIGlmICh0aGlzLmFkanVzdG1lbnRDaXJjbGVzKSB7CiAgICAgICAgICB0aGlzLmFkanVzdG1lbnRDaXJjbGVzLmZvckVhY2goZnVuY3Rpb24gKGNpcmNsZSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGdsTGF5ZXIucmVtb3ZlKGNpcmNsZSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfmuIXpmaTosIPmlbTngrnml7blh7rplJk6JywgZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuYWRqdXN0bWVudENpcmNsZXMgPSBbXTsgLy8g57uY5Yi25b2T5YmN5L2N572u6KeG5Zy65aSa6L655b2iCgogICAgICAgIGlmIChjdXJyZW50Q29vcmRpbmF0ZXMgJiYgQXJyYXkuaXNBcnJheShjdXJyZW50Q29vcmRpbmF0ZXMpICYmIGN1cnJlbnRDb29yZGluYXRlcy5sZW5ndGggPT09IDUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCfnu5jliLblvZPliY3kvY3nva7lpJrovrnlvaInKTsKICAgICAgICAgIHZhciBjdXJyZW50UG9seWdvbiA9IHRoaXMuQWRkRmllbGRPZlZpZXdQb2x5Z29uKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIGN1cnJlbnRDb29yZGluYXRlcywgY3VycmVudENvbG9yLCAnQ3VycmVudCcpOwoKICAgICAgICAgIGlmIChjdXJyZW50UG9seWdvbikgewogICAgICAgICAgICB0aGlzLmFkanVzdG1lbnRDaXJjbGVzLnB1c2goY3VycmVudFBvbHlnb24pOwogICAgICAgICAgICBjb25zb2xlLmxvZygn5b2T5YmN5L2N572u5aSa6L655b2i5Yib5bu65oiQ5YqfJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCflvZPliY3kvY3nva7lpJrovrnlvaLliJvlu7rlpLHotKUnKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS53YXJuKCflvZPliY3kvY3nva7lnZDmoIfml6DmlYjvvIzot7Pov4fnu5jliLYnKTsKICAgICAgICB9IC8vIOe7mOWItuebruagh+S9jee9ru+8iOS9v+eUqOWchuW9ou+8iQoKCiAgICAgICAgaWYgKHRhcmdldENvb3JkaW5hdGVzICYmIEFycmF5LmlzQXJyYXkodGFyZ2V0Q29vcmRpbmF0ZXMpICYmIHRhcmdldENvb3JkaW5hdGVzLmxlbmd0aCA9PT0gNSkgewogICAgICAgICAgY29uc29sZS5sb2coJ+e7mOWItuebruagh+S9jee9ruWchuW9oicpOyAvLyDorqHnrpfnm67moIfkvY3nva7kuK3lv4PngrkKCiAgICAgICAgICB2YXIgY2VudGVyUmEgPSB0YXJnZXRDb29yZGluYXRlcy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY29vcmQpIHsKICAgICAgICAgICAgcmV0dXJuIHN1bSArIGNvb3JkLnJhOwogICAgICAgICAgfSwgMCkgLyB0YXJnZXRDb29yZGluYXRlcy5sZW5ndGg7CiAgICAgICAgICB2YXIgY2VudGVyRGVjID0gdGFyZ2V0Q29vcmRpbmF0ZXMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGNvb3JkKSB7CiAgICAgICAgICAgIHJldHVybiBzdW0gKyBjb29yZC5kZWM7CiAgICAgICAgICB9LCAwKSAvIHRhcmdldENvb3JkaW5hdGVzLmxlbmd0aDsKICAgICAgICAgIGNvbnNvbGUubG9nKCJcdTc2RUVcdTY4MDdcdTRGNERcdTdGNkVcdTRFMkRcdTVGQzNcdTcwQjk6IFJBPSIuY29uY2F0KGNlbnRlclJhLCAiLCBERUM9IikuY29uY2F0KGNlbnRlckRlYykpOwogICAgICAgICAgdmFyIHRhcmdldENpcmNsZSA9IHRoaXMuQWRkTWFya0NpcmNsZSh0aGlzLiRzdGVsLCBnbExheWVyLCA0LCAnVGFyZ2V0Jyk7CgogICAgICAgICAgaWYgKHRhcmdldENpcmNsZSkgewogICAgICAgICAgICB2YXIgdGFyZ2V0TW0gPSB0YXJnZXRDaXJjbGUucG9zOwogICAgICAgICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKGNlbnRlclJhLCBjZW50ZXJEZWMsIHRhcmdldE1tKTsKICAgICAgICAgICAgdGFyZ2V0Q2lyY2xlLnBvcyA9IHRhcmdldE1tOwogICAgICAgICAgICB0YXJnZXRDaXJjbGUuY29sb3IgPSBbMSwgMC41LCAwLCAwLjI1XTsgLy8g5qmZ6Imy77yM5Y2K6YCP5piOCgogICAgICAgICAgICB0YXJnZXRDaXJjbGUuYm9yZGVyX2NvbG9yID0gWzEsIDAuNSwgMCwgMV07IC8vIOapmeiJsui+ueahhgogICAgICAgICAgICAvLyDorqHnrpfnm67moIfngrnlpKflsI8KCiAgICAgICAgICAgIHZhciB0YXJnZXRTaXplID0gMC4wMzsgLy8g5Zu65a6a5bCP5bC65a+4CgogICAgICAgICAgICB0YXJnZXRDaXJjbGUuc2l6ZSA9IFt0YXJnZXRTaXplLCB0YXJnZXRTaXplXTsKICAgICAgICAgICAgdGhpcy5hZGp1c3RtZW50Q2lyY2xlcy5wdXNoKHRhcmdldENpcmNsZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnm67moIfkvY3nva7lnIblvaLliJvlu7rmiJDlip8nLCB0YXJnZXRDaXJjbGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign55uu5qCH5L2N572u5ZyG5b2i5Yib5bu65aSx6LSlJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUud2Fybign55uu5qCH5L2N572u5Z2Q5qCH5peg5pWI77yM6Lez6L+H57uY5Yi2Jyk7CiAgICAgICAgfSAvLyDop4bop5LovazlkJHmjqfliLbvvJrlj6rlnKjpnZ7lrprml7blmajmm7TmlrDml7bovazlkJEKCgogICAgICAgIGlmICghaXNUaW1lclVwZGF0ZSAmJiB0YXJnZXRDb29yZGluYXRlcyAmJiBBcnJheS5pc0FycmF5KHRhcmdldENvb3JkaW5hdGVzKSAmJiB0YXJnZXRDb29yZGluYXRlcy5sZW5ndGggPT09IDUpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIOiuoeeul+ebruagh+S9jee9ruS4reW/g+eCuQogICAgICAgICAgICB2YXIgX2NlbnRlclJhID0gdGFyZ2V0Q29vcmRpbmF0ZXMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGNvb3JkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIGNvb3JkLnJhOwogICAgICAgICAgICB9LCAwKSAvIHRhcmdldENvb3JkaW5hdGVzLmxlbmd0aDsKCiAgICAgICAgICAgIHZhciBfY2VudGVyRGVjID0gdGFyZ2V0Q29vcmRpbmF0ZXMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGNvb3JkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIGNvb3JkLmRlYzsKICAgICAgICAgICAgfSwgMCkgLyB0YXJnZXRDb29yZGluYXRlcy5sZW5ndGg7CgogICAgICAgICAgICBjb25zb2xlLmxvZygiXHU4OUM2XHU4OUQyXHU4RjZDXHU1NDExXHU3NkVFXHU2ODA3OiBSQT0iLmNvbmNhdChfY2VudGVyUmEsICIsIERFQz0iKS5jb25jYXQoX2NlbnRlckRlYykpOyAvLyDliJvlu7rkuLTml7blr7nosaHmjIflkJHnm67moIfkvY3nva4KCiAgICAgICAgICAgIHZhciB0YXJnZXRPYmpDb25maWcgPSB7CiAgICAgICAgICAgICAgaWQ6ICd0ZW1wX3RhcmdldF8nICsgRGF0ZS5ub3coKSwKICAgICAgICAgICAgICBtb2RlbF9kYXRhOiB7fSwKICAgICAgICAgICAgICBuYW1lczogWydUYXJnZXQgUG9zaXRpb24nXSwKICAgICAgICAgICAgICB0eXBlczogWydUZW1wb3JhcnknXSwKICAgICAgICAgICAgICBtb2RlbDogJ3RlbXBvcmFyeScKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIHRhcmdldE9iaiA9IHRoaXMuJHN0ZWwuY3JlYXRlT2JqKCdjaXJjbGUnLCB0YXJnZXRPYmpDb25maWcpOyAvLyDorr7nva7nm67moIflr7nosaHnmoTkvY3nva4KCiAgICAgICAgICAgIHZhciBfdGFyZ2V0TW0gPSB0YXJnZXRPYmoucG9zOwogICAgICAgICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKF9jZW50ZXJSYSwgX2NlbnRlckRlYywgX3RhcmdldE1tKTsKICAgICAgICAgICAgdGFyZ2V0T2JqLnBvcyA9IF90YXJnZXRNbTsKICAgICAgICAgICAgdGFyZ2V0T2JqLnVwZGF0ZSgpOyAvLyDmjIflkJHlubbplIHlrprnm67moIcKCiAgICAgICAgICAgIHRoaXMuJHN0ZWwucG9pbnRBbmRMb2NrKHRhcmdldE9iaiwgMS4wKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+inhuinkui9rOWQkeWujOaIkCcpOyAvLyDmuIXnkIbkuLTml7blr7nosaEKCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0T2JqICYmIHRhcmdldE9iai5sYXllcikgewogICAgICAgICAgICAgICAgICB0YXJnZXRPYmoubGF5ZXIucmVtb3ZlKHRhcmdldE9iaik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoY2xlYW51cEVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+a4heeQhuS4tOaXtuebruagh+WvueixoeaXtuWHuumUmTonLCBjbGVhbnVwRXJyb3IpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMjAwMCk7IC8vIDLnp5LlkI7muIXnkIYKICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+inhuinkui9rOWQkeWHuumUmTonLCBlcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+e7mOWItuiwg+aVtOeCueWkmui+ueW9ouaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBTaG93Q29uZmlybURpYWxvZzogZnVuY3Rpb24gU2hvd0NvbmZpcm1EaWFsb2coVGl0bGUsIFRleHQsIFRvRG8pIHsKICAgICAgLy8gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1Nob3dDb25maXJtRGlhbG9nJywgVGl0bGUsIFRleHQsIFRvRG8pOwogICAgfSwKICAgIGRlY3JlbWVudDogZnVuY3Rpb24gZGVjcmVtZW50KGl0ZW0pIHsKICAgICAgY29uc29sZS5sb2coJ2RlY3JlbWVudDonLCBpdGVtLnZhbHVlKTsKCiAgICAgIGlmIChpdGVtLnZhbHVlID4gaXRlbS5pbnB1dE1pbikgewogICAgICAgIGl0ZW0udmFsdWUgLT0gaXRlbS5pbnB1dFN0ZXA7CiAgICAgIH0KICAgIH0sCiAgICBpbmNyZW1lbnQ6IGZ1bmN0aW9uIGluY3JlbWVudChpdGVtKSB7CiAgICAgIGNvbnNvbGUubG9nKCdpbmNyZW1lbnQ6JywgaXRlbS52YWx1ZSk7CgogICAgICBpZiAoaXRlbS52YWx1ZSA8IGl0ZW0uaW5wdXRNYXgpIHsKICAgICAgICBpdGVtLnZhbHVlICs9IGl0ZW0uaW5wdXRTdGVwOwogICAgICB9CiAgICB9LAogICAgUG9sYXJBeGlzTW9kZTogZnVuY3Rpb24gUG9sYXJBeGlzTW9kZShib29sKSB7CiAgICAgIHRoaXMuaXNQb2xhckF4aXNNb2RlID0gYm9vbDsKICAgIH0sCiAgICBoYW5kbGVHdWlkZXJDYW52YXNDbGljazogZnVuY3Rpb24gaGFuZGxlR3VpZGVyQ2FudmFzQ2xpY2soZXZlbnQpIHsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMuZ3VpZGVyQ2FudmFzOwogICAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0OyAvLyDngrnlh7vlnZDmoIdYCgogICAgICB2YXIgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDsgLy8g54K55Ye75Z2Q5qCHWQoKICAgICAgY29uc29sZS5sb2coIkNsaWNrZWQgYXQ6ICgiLmNvbmNhdCh4LCAiLCAiKS5jb25jYXQoeSwgIikiKSk7CiAgICAgIHZhciBDYW52YXNXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgICB2YXIgQ2FudmFzSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlckNhbnZhc0NsaWNrOicgKyBDYW52YXNXaWR0aCArICc6JyArIENhbnZhc0hlaWdodCArICc6JyArIHggKyAnOicgKyB5KTsKICAgIH0sCiAgICBjb25uZWN0RHJpdmVyOiBmdW5jdGlvbiBjb25uZWN0RHJpdmVyKCkgewogICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IHRydWU7IC8vIHRoaXMuaXNPcGVuRGV2aWNlUGFnZSA9IGZhbHNlOwoKICAgICAgdGhpcy5zdGFydExvYWRpbmcoKTsKICAgICAgdmFyIERldmljZVR5cGUgPSB0aGlzLkN1cnJlbnREcml2ZXJUeXBlOwoKICAgICAgdmFyIF9pdGVyYXRvcjEwID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5kZXZpY2VzKSwKICAgICAgICAgIF9zdGVwMTA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTAucygpOyAhKF9zdGVwMTAgPSBfaXRlcmF0b3IxMC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RldmljZTcgPSBfc3RlcDEwLnZhbHVlOwoKICAgICAgICAgIGlmIChfZGV2aWNlNy5kcml2ZXJUeXBlID09PSBEZXZpY2VUeXBlICYmIF9kZXZpY2U3LmlzQ29ubmVjdGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgIHZhciBEcml2ZXJOYW1lID0gX2RldmljZTcuZHJpdmVyTmFtZTsKCiAgICAgICAgICAgIGlmIChEcml2ZXJOYW1lID09ICcnKSB7CiAgICAgICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnTm8gZHJpdmVyIHNlbGVjdGVkJywgJ3dhcm5pbmcnKTsKICAgICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdDb25uZWN0RHJpdmVyOicgKyBEcml2ZXJOYW1lICsgJzonICsgRGV2aWNlVHlwZSk7CiAgICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1N0YXJ0IENvbm5lY3RpbmcgZHJpdmVyOicgKyBEZXZpY2VUeXBlICsgJyAnICsgRHJpdmVyTmFtZSwgJ2luZm8nKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMTAuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjEwLmYoKTsKICAgICAgfQogICAgfSwKICAgIGNvbm5lY3REcml2ZXJTdWNjZXNzOiBmdW5jdGlvbiBjb25uZWN0RHJpdmVyU3VjY2VzcyhkZXZpY2V0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0RHJpdmVyU3VjY2VzczonLCBkZXZpY2V0eXBlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygiY29ubmVjdERyaXZlclN1Y2Nlc3M6IiArIGRldmljZXR5cGUsICdpbmZvJyk7CiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7CgogICAgICBpZiAodGhpcy5kcmF3ZXJfMiA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLnN0b3BMb2FkaW5nKCk7CiAgICB9LAogICAgY29ubmVjdERyaXZlckZhaWxlZDogZnVuY3Rpb24gY29ubmVjdERyaXZlckZhaWxlZChtZXNzYWdlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0RHJpdmVyRmFpbGVkOicsIG1lc3NhZ2UpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCJjb25uZWN0RHJpdmVyRmFpbGVkOiIgKyBtZXNzYWdlLCAnZXJyb3InKTsKICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5zdG9wTG9hZGluZygpOwogICAgfSwKICAgIGRpc2Nvbm5lY3REcml2ZXI6IGZ1bmN0aW9uIGRpc2Nvbm5lY3REcml2ZXIoKSB7CiAgICAgIHZhciBEZXZpY2VUeXBlID0gdGhpcy5DdXJyZW50RHJpdmVyVHlwZTsKCiAgICAgIHZhciBfaXRlcmF0b3IxMSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV2aWNlcyksCiAgICAgICAgICBfc3RlcDExOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjExLnMoKTsgIShfc3RlcDExID0gX2l0ZXJhdG9yMTEubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9kZXZpY2U4ID0gX3N0ZXAxMS52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RldmljZTguZHJpdmVyVHlwZSA9PT0gRGV2aWNlVHlwZSAmJiBfZGV2aWNlOC5pc0Nvbm5lY3RlZCkgewogICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0Rpc2Nvbm5lY3REZXZpY2U6JyArIF9kZXZpY2U4LmRldmljZSArICI6IiArIERldmljZVR5cGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMTEuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjExLmYoKTsKICAgICAgfQogICAgfSwKICAgIGRpc2Nvbm5lY3REcml2ZXJzdWNjZXNzOiBmdW5jdGlvbiBkaXNjb25uZWN0RHJpdmVyc3VjY2VzcyhkZXZpY2V0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZWN0RGV2aWNlc3VjY2VzczonLCBkZXZpY2V0eXBlKTsKICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwoKICAgICAgaWYgKGRldmljZXR5cGUgPT0gImFsbCIpIHsKICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdkaXNjb25uZWN0QWxsRGV2aWNlJyk7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnRGlzY29ubmVjdCBBbGwgRGV2aWNlJywgJ2luZm8nKTsKICAgICAgICB0aGlzLmhhdmVEZXZpY2VDb25uZWN0ID0gZmFsc2U7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhQ29ubmVjdGVkJywgMCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDApOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQ0ZXQ29ubmVjdGVkJywgMCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJDb25uZWN0ZWQnLCAwKTsKICAgICAgICB0aGlzLmNsZWFyRGV2aWNlTGlzdCgpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnZGVsZXRlRGV2aWNlVHlwZUFsbG9jYXRpb25MaXN0JywgJ2FsbCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgOwoKICAgICAgdmFyIF9pdGVyYXRvcjEyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5kZXZpY2VzKSwKICAgICAgICAgIF9zdGVwMTI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTIucygpOyAhKF9zdGVwMTIgPSBfaXRlcmF0b3IxMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RldmljZTkgPSBfc3RlcDEyLnZhbHVlOwoKICAgICAgICAgIGlmIChfZGV2aWNlOS5kcml2ZXJUeXBlID09PSBkZXZpY2V0eXBlICYmIF9kZXZpY2U5LmlzQ29ubmVjdGVkKSB7CiAgICAgICAgICAgIF9kZXZpY2U5LmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIF9kZXZpY2U5LmlzZ2V0ID0gZmFsc2U7CiAgICAgICAgICAgIF9kZXZpY2U5LmRldmljZSA9IF9kZXZpY2U5LmRyaXZlck5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTIuZigpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yMTMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLlRvQmVDb25uZWN0RGV2aWNlKSwKICAgICAgICAgIF9zdGVwMTM7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTMucygpOyAhKF9zdGVwMTMgPSBfaXRlcmF0b3IxMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RldmljZTEwID0gX3N0ZXAxMy52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RldmljZTEwLmRyaXZlclR5cGUgPT09IGRldmljZXR5cGUpIHsKICAgICAgICAgICAgX2RldmljZTEwLmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIF9kZXZpY2UxMC5pc2dldCA9IGZhbHNlOwogICAgICAgICAgICBfZGV2aWNlMTAuZGV2aWNlID0gX2RldmljZTEwLmRyaXZlck5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTMuZigpOwogICAgICB9CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCcsIGRldmljZXR5cGUpOwoKICAgICAgaWYgKGRldmljZXR5cGUgPT0gIk1haW5DYW1lcmEiKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhQ29ubmVjdGVkJywgMCk7CiAgICAgIH0gZWxzZSBpZiAoZGV2aWNldHlwZSA9PSAiTW91bnQiKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDApOwogICAgICB9IGVsc2UgaWYgKGRldmljZXR5cGUgPT0gIkNGVyIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDApOwogICAgICB9IGVsc2UgaWYgKGRldmljZXR5cGUgPT0gIkd1aWRlciIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0d1aWRlckNvbm5lY3RlZCcsIDApOwogICAgICB9CiAgICB9LAogICAgZGlzY29ubmVjdERyaXZlckZhaWw6IGZ1bmN0aW9uIGRpc2Nvbm5lY3REcml2ZXJGYWlsKGRldmljZXR5cGUpIHsKICAgICAgY29uc29sZS5sb2coJ2Rpc2Nvbm5lY3REZXZpY2VGYWlsOicsIGRldmljZXR5cGUpOwogICAgICB0aGlzLmRyYXdlcl8yID0gZmFsc2U7CgogICAgICBpZiAoZGV2aWNldHlwZSA9PSAiYWxsIikgewogICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2Rpc2Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdEaXNjb25uZWN0IEFsbCBEZXZpY2UnLCAnaW5mbycpOwogICAgICAgIHRoaXMuaGF2ZURldmljZUNvbm5lY3QgPSBmYWxzZTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01haW5DYW1lcmFDb25uZWN0ZWQnLCAwKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01vdW50Q29ubmVjdGVkJywgMCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDRldDb25uZWN0ZWQnLCAwKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0d1aWRlckNvbm5lY3RlZCcsIDApOwogICAgICAgIHRoaXMuY2xlYXJEZXZpY2VMaXN0KCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdkZWxldGVEZXZpY2VUeXBlQWxsb2NhdGlvbkxpc3QnLCAnYWxsJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICA7CgogICAgICB2YXIgX2l0ZXJhdG9yMTQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmRldmljZXMpLAogICAgICAgICAgX3N0ZXAxNDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxNC5zKCk7ICEoX3N0ZXAxNCA9IF9pdGVyYXRvcjE0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfZGV2aWNlMTEgPSBfc3RlcDE0LnZhbHVlOwoKICAgICAgICAgIGlmIChfZGV2aWNlMTEuZHJpdmVyVHlwZSA9PT0gZGV2aWNldHlwZSAmJiBfZGV2aWNlMTEuaXNDb25uZWN0ZWQpIHsKICAgICAgICAgICAgX2RldmljZTExLmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIF9kZXZpY2UxMS5pc2dldCA9IGZhbHNlOwogICAgICAgICAgICBfZGV2aWNlMTEuZGV2aWNlID0gX2RldmljZTExLmRyaXZlck5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxNC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTQuZigpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yMTUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLlRvQmVDb25uZWN0RGV2aWNlKSwKICAgICAgICAgIF9zdGVwMTU7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTUucygpOyAhKF9zdGVwMTUgPSBfaXRlcmF0b3IxNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RldmljZTEyID0gX3N0ZXAxNS52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RldmljZTEyLmRyaXZlclR5cGUgPT09IGRldmljZXR5cGUpIHsKICAgICAgICAgICAgX2RldmljZTEyLmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIF9kZXZpY2UxMi5pc2dldCA9IGZhbHNlOwogICAgICAgICAgICBfZGV2aWNlMTIuZGV2aWNlID0gX2RldmljZTEyLmRyaXZlck5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxNS5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTUuZigpOwogICAgICB9CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCcsIGRldmljZXR5cGUpOwoKICAgICAgaWYgKGRldmljZXR5cGUgPT0gIk1haW5DYW1lcmEiKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhQ29ubmVjdGVkJywgMCk7CiAgICAgIH0gZWxzZSBpZiAoZGV2aWNldHlwZSA9PSAiTW91bnQiKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDApOwogICAgICB9IGVsc2UgaWYgKGRldmljZXR5cGUgPT0gIkNGVyIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDApOwogICAgICB9IGVsc2UgaWYgKGRldmljZXR5cGUgPT0gIkd1aWRlciIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0d1aWRlckNvbm5lY3RlZCcsIDApOwogICAgICB9CiAgICB9LAogICAgbG9hZFNlbGVjdGVkRHJpdmVyTGlzdDogZnVuY3Rpb24gbG9hZFNlbGVjdGVkRHJpdmVyTGlzdChkZXZpY2VPYmplY3QpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ2xvYWRTZWxlY3RlZERyaXZlckxpc3Q6JywgZGV2aWNlT2JqZWN0KTsKICAgICAgZGV2aWNlT2JqZWN0LmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgICAgICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaTddLCAyKSwKICAgICAgICAgICAgICBkcml2ZXJUeXBlID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLAogICAgICAgICAgICAgIGRyaXZlck5hbWUgPSBfT2JqZWN0JGVudHJpZXMkX2lbMV07CgogICAgICAgICAgX3RoaXMxOC5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09IGRyaXZlclR5cGUgJiYgZGV2aWNlLmlzQ29ubmVjdGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgZGV2aWNlLmRldmljZSA9IGRyaXZlck5hbWU7CiAgICAgICAgICAgICAgZGV2aWNlLmRyaXZlck5hbWUgPSBkcml2ZXJOYW1lOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvLyDlgYforr7kvaDmg7PopoHmiZPljbDmr4/kuKrorr7lpIflr7nosaHnmoTplK7lgLzlr7kKICAgICAgICBmb3IgKHZhciBfaTcgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhkZXZpY2UpOyBfaTcgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaTcrKykgewogICAgICAgICAgX2xvb3AoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRCaW5kRGV2aWNlTGlzdDogZnVuY3Rpb24gbG9hZEJpbmREZXZpY2VMaXN0KGRldmljZU9iamVjdCkgewogICAgICBjb25zb2xlLmxvZygnbG9hZEJpbmREZXZpY2VMaXN0OicsIGRldmljZU9iamVjdCk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnbG9hZEJpbmREZXZpY2VMaXN0JywgZGV2aWNlT2JqZWN0KTsKICAgIH0sCiAgICBsb2FkQmluZERldmljZVR5cGVMaXN0OiBmdW5jdGlvbiBsb2FkQmluZERldmljZVR5cGVMaXN0KGRldmljZVR5cGVPYmplY3QpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ2xvYWRCaW5kRGV2aWNlVHlwZUxpc3Q6JywgZGV2aWNlVHlwZU9iamVjdCk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnbG9hZEJpbmREZXZpY2VUeXBlTGlzdCcsIGRldmljZVR5cGVPYmplY3QpOwogICAgICBkZXZpY2VUeXBlT2JqZWN0LmZvckVhY2goZnVuY3Rpb24gKGRldmljZVR5cGUpIHsKICAgICAgICB2YXIgVHlwZSA9IGRldmljZVR5cGUuVHlwZSwKICAgICAgICAgICAgRGV2aWNlTmFtZSA9IGRldmljZVR5cGUuRGV2aWNlTmFtZSwKICAgICAgICAgICAgRHJpdmVyTmFtZSA9IGRldmljZVR5cGUuRHJpdmVyTmFtZSwKICAgICAgICAgICAgaXNiaW5kID0gZGV2aWNlVHlwZS5pc2JpbmQ7CgogICAgICAgIF90aGlzMTkudXBkYXRlRGV2aWNlc0Nvbm5lY3QoVHlwZSwgRGV2aWNlTmFtZSwgRHJpdmVyTmFtZSwgaXNiaW5kKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlU2VsZWN0ZWREcml2ZXI6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkRHJpdmVyKGRyaXZlclR5cGUpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgdGhpcy5zZWxlY3RlZERyaXZlciA9IG51bGw7CiAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09IGRyaXZlclR5cGUpIHsKICAgICAgICAgIF90aGlzMjAuc2VsZWN0ZWREcml2ZXIgPSBkZXZpY2UuZHJpdmVyTmFtZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBkcml2ZXJzOicsIHRoaXMuc2VsZWN0ZWREcml2ZXIpOwogICAgfSwKICAgIHN0YXJ0TG9hZGluZzogZnVuY3Rpb24gc3RhcnRMb2FkaW5nKCkgewogICAgICB0aGlzLmxvYWRpbmdEZXZpY2VTZWxlY3Rpb24gPSB0cnVlOwogICAgfSwKICAgIHN0b3BMb2FkaW5nOiBmdW5jdGlvbiBzdG9wTG9hZGluZygpIHsKICAgICAgdGhpcy5sb2FkaW5nRGV2aWNlU2VsZWN0aW9uID0gZmFsc2U7CiAgICB9LAogICAgZGVsZXRlRGV2aWNlQWxsb2NhdGlvbkxpc3Q6IGZ1bmN0aW9uIGRlbGV0ZURldmljZUFsbG9jYXRpb25MaXN0KGRldmljZU5hbWUpIHsKICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZURldmljZUFsbG9jYXRpb25MaXN0OicsIGRldmljZU5hbWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZUFsbG9jYXRpb25MaXN0JywgZGV2aWNlTmFtZSk7CiAgICB9LAogICAgVW5CaW5kaW5nRGV2aWNlOiBmdW5jdGlvbiBVbkJpbmRpbmdEZXZpY2UodHlwZSwgbmFtZSwgZHJpdmVyTmFtZSkgewogICAgICBjb25zb2xlLmxvZygnVW5CaW5kaW5nRGV2aWNlOicsIHR5cGUsIG5hbWUsIGRyaXZlck5hbWUpOwogICAgICB0aGlzLnVwZGF0ZURldmljZXNDb25uZWN0KHR5cGUsIG5hbWUsIGRyaXZlck5hbWUsIGZhbHNlKTsKICAgIH0sCiAgICBkaXNwbGF5RXJyb3JJbWFnZTogZnVuY3Rpb24gZGlzcGxheUVycm9ySW1hZ2UoKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoImltYWdlIGlzIGVycm9yLCBsb2FkIGVycm9ySW1hZ2Uuc3ZnIik7CiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbWVyYS1jYW52YXMnKTsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKCiAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDojrflj5borr7lpIflg4/ntKDmr5QKICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7IC8vIOiwg+aVtOeUu+W4g+WwuuWvuOS7pemAguW6lOmrmOa4heaYvuekugoKICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aCAqIGRldmljZVBpeGVsUmF0aW87CiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodCAqIGRldmljZVBpeGVsUmF0aW87CiAgICAgICAgY3R4LnNjYWxlKGRldmljZVBpeGVsUmF0aW8sIGRldmljZVBpeGVsUmF0aW8pOyAvLyDnvKnmlL5jdHjku6XpgILlupTpq5jmuIXnlLvluIMKICAgICAgICAvLyDnu5jliLblm77lg48KCiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7CiAgICAgIH07CgogICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBsb2FkIGltYWdlIGZyb20gIiArIGltYWdlLnNyYyk7IC8vIOWPr+S7peWcqOi/memHjOa3u+WKoOWkh+eUqOWbvuWDj+aIluWFtuS7lumUmeivr+WkhOeQhumAu+i+kQogICAgICB9OyAvLyDnoa7kv51FcnJvckltYWdl5piv5pyJ5pWI55qEVVJMCgoKICAgICAgaW1hZ2Uuc3JjID0gRXJyb3JJbWFnZTsgLy8g6K+35pu/5o2i5Li65a6e6ZmF55qE5Zu+5YOP6Lev5b6ECiAgICB9LAogICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKSB7CiAgICAgIHZhciBlcnJvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDsKICAgICAgdmFyIGVycm9yTXNnID0gZXJyb3IgPyAiIi5jb25jYXQobWVzc2FnZSwgIiBhdCAiKS5jb25jYXQobG9jYXRpb24sICI6ICIpLmNvbmNhdChlcnJvcikgOiAiIi5jb25jYXQobWVzc2FnZSwgIiBhdCAiKS5jb25jYXQobG9jYXRpb24pOwogICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyhlcnJvck1zZywgJ2Vycm9yJyk7CiAgICAgIHRoaXMuZGlzcGxheUVycm9ySW1hZ2UoKTsgLy8g5pi+56S66ZSZ6K+v5Zu+5YOPCiAgICB9LAogICAgc2hvd1NlbGVjdGRpc2Nvbm5lY3REcml2ZXI6IGZ1bmN0aW9uIHNob3dTZWxlY3RkaXNjb25uZWN0RHJpdmVyKGRyaXZlcm5hbWUpIHsKICAgICAgdGhpcy5zaG93RGlzY29ubmVjdERpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMuY3VycmVudERpc2Nvbm5lY3REcml2ZXJOYW1lID0gZHJpdmVybmFtZTsKICAgIH0sCiAgICBjb25maXJtRGlzY29ubmVjdDogZnVuY3Rpb24gY29uZmlybURpc2Nvbm5lY3QoKSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2Rpc2Nvbm5lY3RTZWxlY3REcml2ZXI6JyArIHRoaXMuY3VycmVudERpc2Nvbm5lY3REcml2ZXJOYW1lKTsKICAgICAgdGhpcy5zaG93RGlzY29ubmVjdERpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOS4u+eUu+W4g+eCueWHu+S6i+S7tgogICAgaGFuZGxlTWFpbkNhbnZhc0NsaWNrOiBmdW5jdGlvbiBoYW5kbGVNYWluQ2FudmFzQ2xpY2soZXZlbnQpIHsKICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R6byg5qCH54K55Ye75LqL5Lu2OicsICdpbmZvJyk7CiAgICAgIGlmICghdGhpcy5lbmFibGVNYWluQ2FudmFzQ2xpY2sgfHwgdGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOyAvLyDlpoLmnpznlLvluIPkuI3lj6/ngrnlh7vvvIzliJnkuI3lpITnkIbngrnlh7vkuovku7YKICAgICAgLy8gY29uc29sZS5sb2coJ+inpuWPkem8oOagh+eCueWHu+S6i+S7tjonLCBldmVudCk7CgogICAgICB2YXIgY2FudmFzID0gdGhpcy4kcmVmcy5tYWluQ2FudmFzOwogICAgICBpZiAoIWNhbnZhcykgcmV0dXJuOyAvLyDnoa7kv50gY2FudmFzIOWFg+e0oOWtmOWcqAoKICAgICAgdmFyIHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIOiOt+WPliBjYW52YXMg5YWD57Sg55qE6L6555WM55+p5b2iCgogICAgICB2YXIgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7CiAgICAgIHZhciB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wOwogICAgICBjb25zb2xlLmxvZygnTW91c2UgY2xpY2tlZCBhdDonLCB4LCB5KTsKCiAgICAgIGlmICghdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nKSB7CiAgICAgICAgdGhpcy5ST0lfeCA9IHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMudmlzaWJsZVdpZHRoIC0gdGhpcy5SZWRCb3hTaWRlTGVuZ3RoIC8gMiAvIHRoaXMuY2FtZXJhQmluICsgdGhpcy52aXNpYmxlWCAtIHRoaXMudmlzaWJsZVdpZHRoIC8gMjsgLy8g6K6h566XUk9J55qEeOWdkOaghwoKICAgICAgICB0aGlzLlJPSV95ID0geSAvIHdpbmRvdy5pbm5lckhlaWdodCAqIHRoaXMudmlzaWJsZUhlaWdodCAtIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAvIDIgLyB0aGlzLmNhbWVyYUJpbiArIHRoaXMudmlzaWJsZVkgLSB0aGlzLnZpc2libGVIZWlnaHQgLyAyOyAvLyDorqHnrpdST0nnmoR55Z2Q5qCHCiAgICAgICAgLy8gdGhpcy4kYnVzLiRlbWl0KCdzZXRSZWRCb3hQb3NpdGlvbicsIHgsIHksIHRoaXMuUk9JX3gsIHRoaXMuUk9JX3kpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0U3RhclggPSAoeCAvIHdpbmRvdy5pbm5lcldpZHRoICogdGhpcy52aXNpYmxlV2lkdGggKyB0aGlzLnZpc2libGVYIC0gdGhpcy52aXNpYmxlV2lkdGggLyAyIC0gdGhpcy5ST0lfeCkgKiB0aGlzLmNhbWVyYUJpbjsgLy8g6K6h566X6YCJ5oup5L2N572u55qEeOWdkOaghwoKICAgICAgICB0aGlzLnNlbGVjdFN0YXJZID0gKHkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnZpc2libGVIZWlnaHQgKyB0aGlzLnZpc2libGVZIC0gdGhpcy52aXNpYmxlSGVpZ2h0IC8gMiAtIHRoaXMuUk9JX3kpICogdGhpcy5jYW1lcmFCaW47IC8vIOiuoeeul+mAieaLqeS9jee9rueahHnlnZDmoIcKCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0U3RhclggPj0gMCAmJiB0aGlzLnNlbGVjdFN0YXJYIDwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICYmIHRoaXMuc2VsZWN0U3RhclkgPj0gMCAmJiB0aGlzLnNlbGVjdFN0YXJZIDwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTZWxlY3QgU3RhciBpcyBpbiBST0knLCAnaW5mbycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTZWxlY3QgU3RhciBpcyBub3QgaW4gUk9JJywgJ2Vycm9yJyk7CiAgICAgICAgICB0aGlzLnNlbGVjdFN0YXJYID0gLTE7CiAgICAgICAgICB0aGlzLnNlbGVjdFN0YXJZID0gLTE7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NlbmRTZWxlY3RTdGFyczonICsgdGhpcy5zZWxlY3RTdGFyWCArICc6JyArIHRoaXMuc2VsZWN0U3RhclkpOwogICAgICB9CgogICAgICB0aGlzLmRyYXdJbWFnZURhdGEoKTsKICAgIH0sCiAgICAvLyDkuLvnlLvluIPmi5bliqgKICAgIGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+aMieS4i+S6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAodGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlOwogICAgICB0aGlzLnN0YXJ0WCA9IGV2ZW50LmNsaWVudFg7CiAgICAgIHRoaXMuc3RhcnRZID0gZXZlbnQuY2xpZW50WTsKICAgICAgdGhpcy5jdXJyZW50WCA9IGV2ZW50LmNsaWVudFg7CiAgICAgIHRoaXMuY3VycmVudFkgPSBldmVudC5jbGllbnRZOyAvLyDorr7nva7kuIDkuKrlrprml7blmajvvIzmr48xMDBtc+aJp+ihjOS4gOasoem8oOagh+enu+WKqOeahOmAu+i+kQoKICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIV90aGlzMjEuaXNEcmFnZ2luZykgcmV0dXJuOwogICAgICAgIHZhciBkeCA9IF90aGlzMjEuc3RhcnRYIC0gX3RoaXMyMS5jdXJyZW50WDsKICAgICAgICB2YXIgZHkgPSBfdGhpczIxLnN0YXJ0WSAtIF90aGlzMjEuY3VycmVudFk7CgogICAgICAgIGlmIChpc05hTihkeCkgfHwgaXNOYU4oZHkpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgbmV3VmlzaWJsZVggPSBfdGhpczIxLnZpc2libGVYICsgZHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIF90aGlzMjEudmlzaWJsZVdpZHRoOwogICAgICAgIHZhciBuZXdWaXNpYmxlWSA9IF90aGlzMjEudmlzaWJsZVkgKyBkeSAvIHdpbmRvdy5pbm5lckhlaWdodCAqIF90aGlzMjEudmlzaWJsZUhlaWdodDsKCiAgICAgICAgaWYgKG5ld1Zpc2libGVYIDwgMCkgewogICAgICAgICAgbmV3VmlzaWJsZVggPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5ld1Zpc2libGVZIDwgMCkgewogICAgICAgICAgbmV3VmlzaWJsZVkgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5ld1Zpc2libGVYID4gX3RoaXMyMS5tYWluQ2FtZXJhU2l6ZVgpIHsKICAgICAgICAgIG5ld1Zpc2libGVYID0gX3RoaXMyMS5tYWluQ2FtZXJhU2l6ZVg7CiAgICAgICAgfQoKICAgICAgICBpZiAobmV3VmlzaWJsZVkgPiBfdGhpczIxLm1haW5DYW1lcmFTaXplWSkgewogICAgICAgICAgbmV3VmlzaWJsZVkgPSBfdGhpczIxLm1haW5DYW1lcmFTaXplWTsKICAgICAgICB9CgogICAgICAgIF90aGlzMjEudmlzaWJsZVggPSBuZXdWaXNpYmxlWDsKICAgICAgICBfdGhpczIxLnZpc2libGVZID0gbmV3VmlzaWJsZVk7CiAgICAgICAgX3RoaXMyMS5zdGFydFggPSBfdGhpczIxLmN1cnJlbnRYOwogICAgICAgIF90aGlzMjEuc3RhcnRZID0gX3RoaXMyMS5jdXJyZW50WTsKCiAgICAgICAgX3RoaXMyMS5kcmF3SW1hZ2VEYXRhKCk7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+aLluWKqOS6i+S7tizmi5bliqjot53nprs6JyArIGR4ICsgJywnICsgZHksICdpbmZvJyk7CgogICAgICB9LCAxMDApOwogICAgfSwKICAgIGhhbmRsZU1vdXNlTW92ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7CiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+enu+WKqOS6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZykgcmV0dXJuOwogICAgICB0aGlzLmN1cnJlbnRYID0gZXZlbnQuY2xpZW50WDsKICAgICAgdGhpcy5jdXJyZW50WSA9IGV2ZW50LmNsaWVudFk7CiAgICB9LAogICAgaGFuZGxlTW91c2VVcDogZnVuY3Rpb24gaGFuZGxlTW91c2VVcChldmVudCkgewogICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5HpvKDmoIfmiqzotbfkuovku7Y6JywgJ2luZm8nKTsKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7IC8vIOa4hemZpOWumuaXtuWZqAoKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmVJbnRlcnZhbElkKTsKICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IG51bGw7CiAgICB9LAogICAgaGFuZGxlV2hlZWw6IGZ1bmN0aW9uIGhhbmRsZVdoZWVsKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+a7mui9ruS6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAodGhpcy5kcmF3SW1nRGF0YSA9PSBudWxsKSByZXR1cm47CiAgICAgIHZhciBzY2FsZUNoYW5nZSA9IGV2ZW50LmRlbHRhWSA+IDAgPyAwLjEgOiAtMC4xOyAvLyDmoLnmja7mu5rova7nmoTmu5rliqjmlrnlkJHvvIzorqHnrpfnvKnmlL7mr5TkvovnmoTlj5jljJbph48KCiAgICAgIHZhciBuZXdTY2FsZSA9IHRoaXMuc2NhbGUgKyBzY2FsZUNoYW5nZTsgLy8g5pu05paw57yp5pS+5q+U5L6LCgogICAgICBpZiAobmV3U2NhbGUgPCAwLjEpIHsKICAgICAgICBuZXdTY2FsZSA9IDAuMTsKICAgICAgfQoKICAgICAgaWYgKG5ld1NjYWxlID4gMSkgewogICAgICAgIG5ld1NjYWxlID0gMTsKICAgICAgfSAvLyDlpoLmnpzlt7Lnu4/mnInkuIDkuKrlvoXmiafooYznmoTnvKnmlL7mk43kvZzvvIzliJnnm7TmjqXov5Tlm54KCgogICAgICBpZiAodGhpcy5wZW5kaW5nU2NhbGVDaGFuZ2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g5qCH6K6w5pyJ5LiA5Liq5b6F5omn6KGM55qE57yp5pS+5pON5L2cCgoKICAgICAgdGhpcy5wZW5kaW5nU2NhbGVDaGFuZ2UgPSB0cnVlOyAvLyDkvb/nlKggcmVxdWVzdEFuaW1hdGlvbkZyYW1lIOadpeaOp+WItue8qeaUvuaTjeS9nOeahOaJp+ihjOmikeeOhwoKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAobmV3U2NhbGUgIT0gX3RoaXMyMi5zY2FsZSkgewogICAgICAgICAgX3RoaXMyMi5zY2FsZSA9IG5ld1NjYWxlOyAvLyDmm7TmlrDnvKnmlL7mr5TkvosKCiAgICAgICAgICBfdGhpczIyLiRidXMuJGVtaXQoJ3NldFNjYWxlJywgX3RoaXMyMi5zY2FsZSk7CgogICAgICAgICAgX3RoaXMyMi5kcmF3SW1hZ2VEYXRhKCk7CgogICAgICAgICAgX3RoaXMyMi5TZW5kQ29uc29sZUxvZ01zZygn57yp5pS+5q+U5L6L5Y+Y5YyWLOe8qeaUvuavlOS+izonICsgbmV3U2NhbGUsICdpbmZvJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMjIuU2VuZENvbnNvbGVMb2dNc2coJ+e8qeaUvuavlOS+i+ayoeacieWPmOWMliznvKnmlL7mr5Tkvos6JyArIF90aGlzMjIuc2NhbGUsICdpbmZvJyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIyLnBlbmRpbmdTY2FsZUNoYW5nZSA9IGZhbHNlOyAvLyDmuIXpmaTlvoXmiafooYznmoTnvKnmlL7mk43kvZzmoIforrAKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlTWFpbkNhbnZhc1RvdWNoOiBmdW5jdGlvbiBoYW5kbGVNYWluQ2FudmFzVG91Y2goZXZlbnQpIHsKICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R6Kem5pG45LqL5Lu2OicsICdpbmZvJyk7CiAgICAgIGlmICghdGhpcy5lbmFibGVNYWluQ2FudmFzQ2xpY2sgfHwgdGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOyAvLyDlpoLmnpznlLvluIPkuI3lj6/ngrnlh7vvvIzliJnkuI3lpITnkIbngrnlh7vkuovku7YKICAgICAgLy8gY29uc29sZS5sb2coJ+inpuWPkeinpuaRuOS6i+S7tjonLCBldmVudCk7CgogICAgICBpZiAoIXRoaXMuZW5hYmxlTWFpbkNhbnZhc0NsaWNrIHx8ICFldmVudC50b3VjaGVzIHx8IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLm1haW5DYW52YXM7CiAgICAgIGlmICghY2FudmFzKSByZXR1cm47IC8vIOehruS/nSBjYW52YXMg5YWD57Sg5a2Y5ZyoCgogICAgICB2YXIgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdOwogICAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8g6I635Y+WIGNhbnZhcyDlhYPntKDnmoTovrnnlYznn6nlvaIKCiAgICAgIHZhciB4ID0gdG91Y2guY2xpZW50WCAtIHJlY3QubGVmdDsKICAgICAgdmFyIHkgPSB0b3VjaC5jbGllbnRZIC0gcmVjdC50b3A7CiAgICAgIGNvbnNvbGUubG9nKCdUb3VjaCBhdDonLCB4LCB5KTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8g6Zi75q2i6buY6K6k5LqL5Lu277yM5aaC6aG16Z2i5rua5YqoCgogICAgICBpZiAoIXRoaXMuaXNGb2N1c0xvb3BTaG9vdGluZykgewogICAgICAgIHRoaXMuUk9JX3ggPSB4IC8gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLnZpc2libGVXaWR0aCAtIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAvIDIgLyB0aGlzLmNhbWVyYUJpbiArIHRoaXMudmlzaWJsZVggLSB0aGlzLnZpc2libGVXaWR0aCAvIDI7IC8vIOiuoeeul1JPSeeahHjlnZDmoIcKCiAgICAgICAgdGhpcy5ST0lfeSA9IHkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnZpc2libGVIZWlnaHQgLSB0aGlzLlJlZEJveFNpZGVMZW5ndGggLyAyIC8gdGhpcy5jYW1lcmFCaW4gKyB0aGlzLnZpc2libGVZIC0gdGhpcy52aXNpYmxlSGVpZ2h0IC8gMjsgLy8g6K6h566XUk9J55qEeeWdkOaghwogICAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UmVkQm94UG9zaXRpb24nLCB4LCB5LCB0aGlzLlJPSV94LCB0aGlzLlJPSV95KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdFN0YXJYID0gKHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMudmlzaWJsZVdpZHRoICsgdGhpcy52aXNpYmxlWCAtIHRoaXMudmlzaWJsZVdpZHRoIC8gMiAtIHRoaXMuUk9JX3gpICogdGhpcy5jYW1lcmFCaW47IC8vIOiuoeeul+mAieaLqeS9jee9rueahHjlnZDmoIcKCiAgICAgICAgdGhpcy5zZWxlY3RTdGFyWSA9ICh5IC8gd2luZG93LmlubmVySGVpZ2h0ICogdGhpcy52aXNpYmxlSGVpZ2h0ICsgdGhpcy52aXNpYmxlWSAtIHRoaXMudmlzaWJsZUhlaWdodCAvIDIgLSB0aGlzLlJPSV95KSAqIHRoaXMuY2FtZXJhQmluOyAvLyDorqHnrpfpgInmi6nkvY3nva7nmoR55Z2Q5qCHCgogICAgICAgIGlmICh0aGlzLnNlbGVjdFN0YXJYID49IDAgJiYgdGhpcy5zZWxlY3RTdGFyWCA8IHRoaXMuUmVkQm94U2lkZUxlbmd0aCAmJiB0aGlzLnNlbGVjdFN0YXJZID49IDAgJiYgdGhpcy5zZWxlY3RTdGFyWSA8IHRoaXMuUmVkQm94U2lkZUxlbmd0aCkgewogICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnU2VsZWN0IFN0YXIgaXMgaW4gUk9JJywgJ2luZm8nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnU2VsZWN0IFN0YXIgaXMgbm90IGluIFJPSScsICdlcnJvcicpOwogICAgICAgICAgdGhpcy5zZWxlY3RTdGFyWCA9IC0xOwogICAgICAgICAgdGhpcy5zZWxlY3RTdGFyWSA9IC0xOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzZW5kU2VsZWN0U3RhcnM6JyArIHRoaXMuc2VsZWN0U3RhclggKyAnOicgKyB0aGlzLnNlbGVjdFN0YXJZKTsKICAgICAgfQoKICAgICAgdGhpcy5kcmF3SW1hZ2VEYXRhKCk7CiAgICB9LAogICAgaGFuZGxlVG91Y2hTdGFydDogZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChldmVudCkgewogICAgICBpZiAodGhpcy5kcmF3SW1nRGF0YSA9PSBudWxsKSByZXR1cm47IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkeinpuaRuOW8gOWni+S6i+S7tjonLCAnaW5mbycpOwoKICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgLy8g5Y2V5oyH6Kem5pG477yM5byA5aeL5ouW5YqoCiAgICAgICAgdGhpcy5pc09uZVRvdWNoID0gdHJ1ZTsgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R5Y2V5oyH6Kem5pG45LqL5Lu2JywgJ2luZm8nKTsKCiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLnN0YXJ0VG91Y2hYWzBdID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgIHRoaXMuc3RhcnRUb3VjaFlbMF0gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7CiAgICAgICAgdGhpcy5jdXJyZW50VG91Y2hYWzBdID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgIHRoaXMuY3VycmVudFRvdWNoWVswXSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTsgLy8g5riF6Zmk5Y+v6IO95a2Y5Zyo55qE5Y+M5oyH6Kem5pG455qE5a6a5pe25ZmoCgogICAgICAgIGlmICh0aGlzLnpvb21JbnRlcnZhbElkKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuem9vbUludGVydmFsSWQpOwogICAgICAgICAgdGhpcy56b29tSW50ZXJ2YWxJZCA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmhhbmRsZU1haW5DYW52YXNUb3VjaChldmVudCk7CiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPj0gMikgewogICAgICAgIC8vIOWPjOaMh+inpuaRuO+8jOW8gOWni+e8qeaUvgogICAgICAgIHRoaXMuaXNPbmVUb3VjaCA9IGZhbHNlOyAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5Hlj4zmjIfop6bmkbjkuovku7YnLCAnaW5mbycpOwoKICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlOyAvLyDorqHnrpfkuKTkuKrop6bmkbjngrnkuYvpl7TnmoTot53nprsKCiAgICAgICAgdmFyIGR4ID0gdGhpcy5jdXJyZW50VG91Y2hYWzBdIC0gdGhpcy5jdXJyZW50VG91Y2hYWzFdOwogICAgICAgIHZhciBkeSA9IHRoaXMuY3VycmVudFRvdWNoWVswXSAtIHRoaXMuY3VycmVudFRvdWNoWVsxXTsKICAgICAgICB0aGlzLnN0YXJ0VG91Y2hEaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7IC8vIOa4hemZpOWPr+iDveWtmOWcqOeahOWNleaMh+inpuaRuOeahOWumuaXtuWZqAoKICAgICAgICBpZiAodGhpcy5tb3ZlSW50ZXJ2YWxJZCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmVJbnRlcnZhbElkKTsKICAgICAgICAgIHRoaXMubW92ZUludGVydmFsSWQgPSBudWxsOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5HlpJrmjIfop6bmkbjkuovku7bvvIzojrflj5blvZPliY3op6bmkbjngrnmlbDph486JyArIGV2ZW50LnRvdWNoZXMubGVuZ3RoLCAnaW5mbycpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlVG91Y2hNb3ZlOiBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R6Kem5pG456e75Yqo5LqL5Lu2OicsICdpbmZvJyk7CiAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOwoKICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID09IDEpIHsKICAgICAgICB0aGlzLmN1cnJlbnRUb3VjaFhbMF0gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7CiAgICAgICAgdGhpcy5jdXJyZW50VG91Y2hZWzBdID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZOwoKICAgICAgICBpZiAodGhpcy56b29tSW50ZXJ2YWxJZCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnpvb21JbnRlcnZhbElkKTsKICAgICAgICAgIHRoaXMuem9vbUludGVydmFsSWQgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMubW92ZUludGVydmFsSWQgIT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8g6K6+572u5LiA5Liq5a6a5pe25Zmo77yM5q+PMTAwbXPmiafooYzkuIDmrKHop6bmkbjnp7vliqjnmoTpgLvovpEKCgogICAgICAgIHRoaXMubW92ZUludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygn5omn6KGM6Kem5pG456e75YqoIScpOwogICAgICAgICAgaWYgKCFfdGhpczIzLmlzRHJhZ2dpbmcgfHwgIV90aGlzMjMuaXNPbmVUb3VjaCkgcmV0dXJuOwogICAgICAgICAgdmFyIGR4ID0gX3RoaXMyMy5zdGFydFRvdWNoWFswXSAtIF90aGlzMjMuY3VycmVudFRvdWNoWFswXTsKICAgICAgICAgIHZhciBkeSA9IF90aGlzMjMuc3RhcnRUb3VjaFlbMF0gLSBfdGhpczIzLmN1cnJlbnRUb3VjaFlbMF07CgogICAgICAgICAgaWYgKGlzTmFOKGR4KSB8fCBpc05hTihkeSkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkeCA9PSAwICYmIGR5ID09IDApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBuZXdWaXNpYmxlWCA9IF90aGlzMjMudmlzaWJsZVggKyBkeCAvIHdpbmRvdy5pbm5lcldpZHRoICogX3RoaXMyMy52aXNpYmxlV2lkdGg7CiAgICAgICAgICB2YXIgbmV3VmlzaWJsZVkgPSBfdGhpczIzLnZpc2libGVZICsgZHkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiBfdGhpczIzLnZpc2libGVIZWlnaHQ7CgogICAgICAgICAgaWYgKG5ld1Zpc2libGVYIDwgMCkgewogICAgICAgICAgICBuZXdWaXNpYmxlWCA9IDA7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG5ld1Zpc2libGVZIDwgMCkgewogICAgICAgICAgICBuZXdWaXNpYmxlWSA9IDA7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG5ld1Zpc2libGVYID4gX3RoaXMyMy5tYWluQ2FtZXJhU2l6ZVgpIHsKICAgICAgICAgICAgbmV3VmlzaWJsZVggPSBfdGhpczIzLm1haW5DYW1lcmFTaXplWDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobmV3VmlzaWJsZVkgPiBfdGhpczIzLm1haW5DYW1lcmFTaXplWSkgewogICAgICAgICAgICBuZXdWaXNpYmxlWSA9IF90aGlzMjMubWFpbkNhbWVyYVNpemVZOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMjMudmlzaWJsZVggPSBuZXdWaXNpYmxlWDsKICAgICAgICAgIF90aGlzMjMudmlzaWJsZVkgPSBuZXdWaXNpYmxlWTsKICAgICAgICAgIF90aGlzMjMuc3RhcnRUb3VjaFhbMF0gPSBfdGhpczIzLmN1cnJlbnRUb3VjaFhbMF07CiAgICAgICAgICBfdGhpczIzLnN0YXJ0VG91Y2hZWzBdID0gX3RoaXMyMy5jdXJyZW50VG91Y2hZWzBdOwoKICAgICAgICAgIF90aGlzMjMuZHJhd0ltYWdlRGF0YSgpOwogICAgICAgIH0sIDEwMCk7CiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPj0gMikgewogICAgICAgIHRoaXMuY3VycmVudFRvdWNoWFswXSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgICAgICB0aGlzLmN1cnJlbnRUb3VjaFlbMF0gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7CiAgICAgICAgdGhpcy5jdXJyZW50VG91Y2hYWzFdID0gZXZlbnQudG91Y2hlc1sxXS5jbGllbnRYOwogICAgICAgIHRoaXMuY3VycmVudFRvdWNoWVsxXSA9IGV2ZW50LnRvdWNoZXNbMV0uY2xpZW50WTsgLy8g5riF6Zmk5Y+v6IO95a2Y5Zyo55qE5Y2V5oyH6Kem5pG455qE5a6a5pe25ZmoCgogICAgICAgIGlmICh0aGlzLm1vdmVJbnRlcnZhbElkKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMubW92ZUludGVydmFsSWQpOwogICAgICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy56b29tSW50ZXJ2YWxJZCAhPSBudWxsKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvLyDorr7nva7kuIDkuKrlrprml7blmajvvIzmr48xMDBtc+aJp+ihjOS4gOasoee8qeaUvumAu+i+kQoKCiAgICAgICAgdGhpcy56b29tSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICghX3RoaXMyMy5pc0RyYWdnaW5nIHx8ICFfdGhpczIzLmlzT25lVG91Y2gpIHJldHVybjsKICAgICAgICAgIHZhciBkeCA9IF90aGlzMjMuY3VycmVudFRvdWNoWFswXSAtIF90aGlzMjMuY3VycmVudFRvdWNoWFsxXTsKICAgICAgICAgIHZhciBkeSA9IF90aGlzMjMuY3VycmVudFRvdWNoWVswXSAtIF90aGlzMjMuY3VycmVudFRvdWNoWVsxXTsKICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7CgogICAgICAgICAgX3RoaXMyMy5TZW5kQ29uc29sZUxvZ01zZygn6Led56a75Y+Y5YyWIGRpc3RhbmNlOicgKyBkaXN0YW5jZSwgJ2luZm8nKTsKCiAgICAgICAgICBpZiAoX3RoaXMyMy5zdGFydFRvdWNoRGlzdGFuY2UgPT0gMCkgewogICAgICAgICAgICBfdGhpczIzLnN0YXJ0VG91Y2hEaXN0YW5jZSA9IGRpc3RhbmNlOwogICAgICAgICAgfSAvLyDorqHnrpfnvKnmlL7mr5TkvovnmoTlj5jljJbph48KCgogICAgICAgICAgdmFyIHNjYWxlQ2hhbmdlID0gZGlzdGFuY2UgLyBfdGhpczIzLnN0YXJ0VG91Y2hEaXN0YW5jZTsKCiAgICAgICAgICBfdGhpczIzLlNlbmRDb25zb2xlTG9nTXNnKCfot53nprvlj5jljJbmr5Tkvosgc2NhbGVDaGFuZ2U6JyArIHNjYWxlQ2hhbmdlLCAnaW5mbycpOwoKICAgICAgICAgIHZhciBuZXdTY2FsZSA9IF90aGlzMjMuc2NhbGUgKiBzY2FsZUNoYW5nZTsgLy8g5pu05paw57yp5pS+5q+U5L6LCgogICAgICAgICAgaWYgKG5ld1NjYWxlIDwgMC4xKSB7CiAgICAgICAgICAgIG5ld1NjYWxlID0gMC4xOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChuZXdTY2FsZSA+IDEpIHsKICAgICAgICAgICAgbmV3U2NhbGUgPSAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChuZXdTY2FsZSAhPSBfdGhpczIzLnNjYWxlKSB7CiAgICAgICAgICAgIF90aGlzMjMuU2VuZENvbnNvbGVMb2dNc2coJ+e8qeaUvuavlOS+i+WPmOWMliznvKnmlL7mr5Tkvos6JyArIG5ld1NjYWxlLCAnaW5mbycpOwoKICAgICAgICAgICAgX3RoaXMyMy5zY2FsZSA9IG5ld1NjYWxlOyAvLyDmm7TmlrDnvKnmlL7mr5TkvosKCiAgICAgICAgICAgIF90aGlzMjMuJGJ1cy4kZW1pdCgnc2V0U2NhbGUnLCBfdGhpczIzLnNjYWxlKTsKCiAgICAgICAgICAgIF90aGlzMjMuZHJhd0ltYWdlRGF0YSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyMy5TZW5kQ29uc29sZUxvZ01zZygn57yp5pS+5q+U5L6L5rKh5pyJ5Y+Y5YyWLOe8qeaUvuavlOS+izonICsgX3RoaXMyMy5zY2FsZSwgJ2luZm8nKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczIzLnN0YXJ0VG91Y2hEaXN0YW5jZSA9IGRpc3RhbmNlOyAvLyDmm7TmlrDkuKTkuKrop6bmkbjngrnkuYvpl7TnmoTot53nprsKICAgICAgICB9LCAxMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkeWkmuaMh+inpuaRuOS6i+S7tu+8jOiOt+WPluW9k+WJjeinpuaRuOeCueaVsOmHjzonICsgZXZlbnQudG91Y2hlcy5sZW5ndGgsICdpbmZvJyk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUb3VjaEVuZDogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoZXZlbnQpIHsKICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R6Kem5pG457uT5p2f5LqL5Lu2OicsICdpbmZvJyk7CiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlOyAvLyDlgZzmraLmi5bliqgKICAgICAgLy8g5riF6Zmk5a6a5pe25ZmoCgogICAgICBpZiAodGhpcy5tb3ZlSW50ZXJ2YWxJZCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5tb3ZlSW50ZXJ2YWxJZCk7CiAgICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnpvb21JbnRlcnZhbElkKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnpvb21JbnRlcnZhbElkKTsKICAgICAgICB0aGlzLnpvb21JbnRlcnZhbElkID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIFNjYWxlQ2hhbmdlOiBmdW5jdGlvbiBTY2FsZUNoYW5nZSh0eXBlKSB7CiAgICAgIGlmICh0aGlzLmRyYXdJbWdEYXRhID09IG51bGwpIHJldHVybjsKCiAgICAgIGlmICh0eXBlID09ICcrJykgewogICAgICAgIHRoaXMuc2NhbGUgLT0gMC4xOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJy0nKSB7CiAgICAgICAgdGhpcy5zY2FsZSArPSAwLjE7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNjYWxlIDwgMC4xKSB7CiAgICAgICAgdGhpcy5zY2FsZSA9IDAuMTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc2NhbGUgPiAxKSB7CiAgICAgICAgdGhpcy5zY2FsZSA9IDE7CiAgICAgIH0KCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0U2NhbGUnLCB0aGlzLnNjYWxlKTsKICAgICAgdGhpcy5kcmF3SW1hZ2VEYXRhKCk7CiAgICB9LAogICAgLy8g5pi+56S6Uk9J5Zu+5YOPCiAgICBzaG93Um9pSW1hZ2U6IGZ1bmN0aW9uIHNob3dSb2lJbWFnZShmaWxlTmFtZSwgZGVzdFgsIGRlc3RZKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLlJlZEJveFNpZGVMZW5ndGggPT0gMCB8fCB0aGlzLlJlZEJveFNpZGVMZW5ndGggPT0gbnVsbCkgewogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1JlZEJveFNpZGVMZW5ndGggaXMgMCBvciBudWxsJywgJ2Vycm9yJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5pc1Byb2Nlc3NpbmdJbWFnZSkgewogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ltYWdlIGlzIGJlaW5nIHRyYW5zbWl0dGVkLCBjdXJyZW50IHByb2Nlc3NpbmcgaXMgc2xvdywgc2tpcHBpbmcgb25lIGZyYW1lLicsICd3YXJuaW5nJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmlzUHJvY2Vzc2luZ0ltYWdlID0gdHJ1ZTsKICAgICAgdmFyIGltYWdlUGF0aCA9ICdpbWcvJyArIGZpbGVOYW1lOyAvLyDliJvlu7rkuIDkuKpBYm9ydENvbnRyb2xsZXLlrp7kvovmnaXlj5bmtohmZXRjaOivt+axggoKICAgICAgdmFyIGZldGNoQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTsKICAgICAgdmFyIGZldGNoU2lnbmFsID0gZmV0Y2hDb250cm9sbGVyLnNpZ25hbDsgLy8gY29uc3Qgc3RhcnREb3dubG9hZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgLy8g5L2/55SoIGZldGNoIEFQSSDojrflj5bkuozov5vliLbmlbDmja4KCiAgICAgIGZldGNoKGltYWdlUGF0aCwgewogICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnLAogICAgICAgIHNpZ25hbDogZmV0Y2hTaWduYWwKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7CiAgICAgICAgLy8gY29uc3QgZW5kRG93bmxvYWRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgLy8gY29uc3QgZG93bmxvYWRUaW1lID0gZW5kRG93bmxvYWRUaW1lIC0gc3RhcnREb3dubG9hZFRpbWU7CiAgICAgICAgaWYgKF90aGlzMjQuaXNGb2N1c0xvb3BTaG9vdGluZykgX3RoaXMyNC4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzaG93Um9pSW1hZ2VTdWNjZXNzOnRydWUnKTtlbHNlIF90aGlzMjQuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2hvd1JvaUltYWdlU3VjY2VzczpmYWxzZScpOwogICAgICAgIHZhciB0aW1lMSA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIHZhciBzcmMsIGltZ0RhdGEsIHRhcmdldEltZzg7CgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgdWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTsKICAgICAgICAgIHZhciBuZXdXaWR0aCA9IHBhcnNlSW50KF90aGlzMjQuUmVkQm94U2lkZUxlbmd0aCAvIF90aGlzMjQuY2FtZXJhQmluKTsKICAgICAgICAgIHZhciBuZXdIZWlnaHQgPSBwYXJzZUludChfdGhpczI0LlJlZEJveFNpZGVMZW5ndGggLyBfdGhpczI0LmNhbWVyYUJpbik7CgogICAgICAgICAgaWYgKG5ld1dpZHRoICUgMiAhPSAwKSB7CiAgICAgICAgICAgIG5ld1dpZHRoID0gbmV3V2lkdGggLSAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChuZXdIZWlnaHQgJSAyICE9IDApIHsKICAgICAgICAgICAgbmV3SGVpZ2h0ID0gbmV3SGVpZ2h0IC0gMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodWludDE2QXJyYXkubGVuZ3RoICE9PSBuZXdXaWR0aCAqIG5ld0hlaWdodCkgewogICAgICAgICAgICBfdGhpczI0LlNlbmRDb25zb2xlTG9nTXNnKCd1aW50MTZBcnJheS5sZW5ndGggKCcgKyB1aW50MTZBcnJheS5sZW5ndGggKyAnKSAhPT0gbmV3V2lkdGggKiBuZXdIZWlnaHQgKCcgKyBuZXdXaWR0aCAqIG5ld0hlaWdodCArICcpJywgJ2Vycm9yJyk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IC8vIOWIm+W7uuS4gOS4quepuueahCBNYXQg5a+56LGhCgoKICAgICAgICAgIHNyYyA9IG5ldyBjdi5NYXQobmV3SGVpZ2h0LCBuZXdXaWR0aCwgY3YuQ1ZfMTZVQzEpOwogICAgICAgICAgc3JjLmRhdGExNlUuc2V0KHVpbnQxNkFycmF5KTsKICAgICAgICAgIHZhciB0aW1lMiA9IHBlcmZvcm1hbmNlLm5vdygpOwoKICAgICAgICAgIF90aGlzMjQuU2VuZENvbnNvbGVMb2dNc2coJ+WIm+W7um1hdOWvueixoeaXtumXtDogJyArICh0aW1lMiAtIHRpbWUxKS50b0ZpeGVkKDApICsgJ21zJywgJ2luZm8nKTsKCiAgICAgICAgICBpZiAoX3RoaXMyNC5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLmlzQ29sb3JDYW1lcmEpIHsKICAgICAgICAgICAgdGFyZ2V0SW1nOCA9IF90aGlzMjQuYXBwbHlTdHJldGNoQW5kR2FpbihzcmMsIF90aGlzMjQubGFzdEltYWdlUHJvY2Vzc1BhcmFtcy5hbmFseXNpcywgJ2JheWVyJywgX3RoaXMyNC5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLkNGQSwgX3RoaXMyNC5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLmJsYWNrTGV2ZWwsIF90aGlzMjQubGFzdEltYWdlUHJvY2Vzc1BhcmFtcy53aGl0ZUxldmVsKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRhcmdldEltZzggPSBfdGhpczI0LmFwcGx5U3RyZXRjaEFuZEdhaW4oc3JjLCBfdGhpczI0Lmxhc3RJbWFnZVByb2Nlc3NQYXJhbXMuYW5hbHlzaXMsICdncmF5JywgX3RoaXMyNC5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLkNGQSwgX3RoaXMyNC5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLmJsYWNrTGV2ZWwsIF90aGlzMjQubGFzdEltYWdlUHJvY2Vzc1BhcmFtcy53aGl0ZUxldmVsKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aW1lMSA9IHBlcmZvcm1hbmNlLm5vdygpOwoKICAgICAgICAgIF90aGlzMjQuU2VuZENvbnNvbGVMb2dNc2coJ2FwcGx5U3RyZXRjaEFuZEdhaW7ml7bpl7Q6ICcgKyAodGltZTEgLSB0aW1lMikudG9GaXhlZCgwKSArICdtcycsICdpbmZvJyk7CgogICAgICAgICAgc3JjLmRlbGV0ZSgpOwogICAgICAgICAgc3JjID0gbnVsbDsgLy8g5bCGIE1hdCDlr7nosaHovazmjaLlm54gSW1hZ2VEYXRhIOWvueixoQoKICAgICAgICAgIGltZ0RhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheSh0YXJnZXRJbWc4LmRhdGEpLCB0YXJnZXRJbWc4LmNvbHMsIHRhcmdldEltZzgucm93cyk7CiAgICAgICAgICB0YXJnZXRJbWc4LmRlbGV0ZSgpOwogICAgICAgICAgdGFyZ2V0SW1nOCA9IG51bGw7IC8vIOWcqOaMh+WumuS9jee9ruW8gOWni+e7mOWItuWbvuWDjwoKICAgICAgICAgIF90aGlzMjQuYnVmZmVyQ3R4LmNsZWFyUmVjdChfdGhpczI0LlJPSV94LCBfdGhpczI0LlJPSV95LCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTsKCiAgICAgICAgICBfdGhpczI0LmJ1ZmZlckN0eC5wdXRJbWFnZURhdGEoaW1nRGF0YSwgX3RoaXMyNC5ST0lfeCwgX3RoaXMyNC5ST0lfeSk7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+e7mOWItuS4gOasoVJPSeaVsOaNrjonICsgZmlsZU5hbWUgKyAnOicgKyB0aGlzLlJPSV94ICsgJzonICsgdGhpcy5ST0lfeSwgJ2luZm8nKTsKICAgICAgICAgIC8vIOagh+azqOivhuWIq+WIsOeahOaYn+eCueS9jee9rgogICAgICAgICAgLy8gdGltZTIgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+e7mOWItuWcqOe8k+WtmOeUu+W4g+iAl+aXtjogJyArICh0aW1lMiAtIHRpbWUxKS50b0ZpeGVkKDApICsgJ21zJywgJ2luZm8nKTsKCgogICAgICAgICAgX3RoaXMyNC5kcmF3SW1hZ2VEYXRhKCk7IC8vIHRpbWUxID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdkcmF3SW1hZ2VEYXRh5pe26Ze0OiAnICsgKHRpbWUxIC0gdGltZTIpLnRvRml4ZWQoMCkgKyAnbXMnLCAnaW5mbycpOwoKCiAgICAgICAgICBfdGhpczI0LmZvY3VzZXJQaWN0dXJlRmlsZU5hbWUgPSBmaWxlTmFtZTsgLy8gY29uc3QgcHJvY2Vzc1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGRvd25sb2FkVGltZTsKICAgICAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coYFJPSeeahOaJp+ihjOaXtumXtCDkuIvovb06ICR7ZG93bmxvYWRUaW1lLnRvRml4ZWQoMCl9bXMsIOWkhOeQhjogJHtwcm9jZXNzVGltZS50b0ZpeGVkKDApfW1zYCwgJ2luZm8nKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcigiXHU1OTA0XHU3NDA2XHU1NkZFXHU1MENGXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChpbWFnZVBhdGgpLCBlcnJvcik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIC8vIOehruS/nSBNYXQg5a+56LGh5ZKMIEltYWdlRGF0YSDlr7nosaHooqvliKDpmaQKICAgICAgICAgIGlmIChzcmMgJiYgIXNyYy5pc0RlbGV0ZWQoKSkgewogICAgICAgICAgICBzcmMuZGVsZXRlKCk7CiAgICAgICAgICAgIHNyYyA9IG51bGw7IC8vIOa3u+WKoOi/meihjOS7o+egge+8jOehruS/nSBzcmMg5a+56LGh6KKr5riF55CGCiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRhcmdldEltZzggJiYgIXRhcmdldEltZzguaXNEZWxldGVkKCkpIHsKICAgICAgICAgICAgdGFyZ2V0SW1nOC5kZWxldGUoKTsKICAgICAgICAgICAgdGFyZ2V0SW1nOCA9IG51bGw7IC8vIOa3u+WKoOi/meihjOS7o+egge+8jOehruS/nSBvcmlnaW5hbEltZzgg5a+56LGh6KKr5riF55CGCiAgICAgICAgICB9IC8vIOehruS/nSBidWZmZXIg6KKr5riF55CGCgoKICAgICAgICAgIGJ1ZmZlciA9IG51bGw7CiAgICAgICAgICBfdGhpczI0LmlzUHJvY2Vzc2luZ0ltYWdlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2ggcmVxdWVzdCBjYW5jZWxsZWQnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcigiXHU4M0I3XHU1M0Q2XHU1NkZFXHU1MENGXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChpbWFnZVBhdGgpLCBlcnJvcik7CiAgICAgICAgfQoKICAgICAgICBfdGhpczI0LmlzUHJvY2Vzc2luZ0ltYWdlID0gZmFsc2U7CiAgICAgIH0pOyAvLyDlnKjnu4Tku7bljbjovb3ml7blj5bmtoggZmV0Y2gg6K+35rGCCgogICAgICB0aGlzLiRvbmNlKCdob29rOmJlZm9yZURlc3Ryb3knLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZmV0Y2hDb250cm9sbGVyLmFib3J0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNldFJlZEJveFN0YXRlOiBmdW5jdGlvbiBzZXRSZWRCb3hTdGF0ZShsZW5ndGgsIHgsIHkpIHsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnc2V0UmVkQm94U3RhdGU6JyArIGxlbmd0aCArICcsJyArIHggKyAnLCcgKyB5LCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFBvc2l0aW9uJywgeCwgeSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UmVkQm94U2lkZUxlbmd0aCcsIGxlbmd0aCk7CiAgICB9LAogICAgc2V0Rm9jdXNlclN0YXRlOiBmdW5jdGlvbiBzZXRGb2N1c2VyU3RhdGUoc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlID09PSAnc2VsZWN0c3RhcnMnKSB7CiAgICAgICAgdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzRm9jdXNMb29wU2hvb3RpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHNldFNob3dTZWxlY3RTdGFyOiBmdW5jdGlvbiBzZXRTaG93U2VsZWN0U3RhcihzdGF0ZSkgewogICAgICB0aGlzLnNob3dTZWxlY3RTdGFyID0gc3RhdGU7CiAgICB9LAogICAgUmVkQm94U2l6ZUNoYW5nZTogZnVuY3Rpb24gUmVkQm94U2l6ZUNoYW5nZShsZW5ndGgpIHsKICAgICAgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoID0gcGFyc2VJbnQobGVuZ3RoKTsKICAgIH0sCiAgICBzZXRNYWluQ2FtZXJhUGFyYW1ldGVyczogZnVuY3Rpb24gc2V0TWFpbkNhbWVyYVBhcmFtZXRlcnMocGFyYW1ldGVycykgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKHBhcmFtZXRlcikgewogICAgICAgIHZhciBpdGVtID0gX3RoaXMyNS5NYWluQ2FtZXJhQ29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWwgPT09IHBhcmFtZXRlcjsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0udmFsdWUgPSBwYXJhbWV0ZXJzW3BhcmFtZXRlcl07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChwYXJhbWV0ZXIgPT0gJ1JlZEJveFNpemUnKSB7CiAgICAgICAgICAgIF90aGlzMjUuJGJ1cy4kZW1pdCgnc2V0UmVkQm94U2lkZUxlbmd0aCcsIHBhcmFtZXRlcnNbcGFyYW1ldGVyXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJcdTY3MkFcdTYyN0VcdTUyMzBcdTUzQzJcdTY1NzBcdUZGMUEiLmNvbmNhdChwYXJhbWV0ZXIpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBmb3IgKHZhciBwYXJhbWV0ZXIgaW4gcGFyYW1ldGVycykgewogICAgICAgIF9sb29wMihwYXJhbWV0ZXIpOwogICAgICB9CgogICAgICB0aGlzLmNvbmZpcm1Db25maWd1cmF0aW9uKHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zKTsKICAgIH0sCiAgICBzaG93Q2FudmFzOiBmdW5jdGlvbiBzaG93Q2FudmFzKGNhbnZhcykgewogICAgICBpZiAoY2FudmFzID09PSAnU3RlbCcpIHsKICAgICAgICB0aGlzLmN1cnJlbnRjYW52YXMgPSAnU3RlbCc7CiAgICAgICAgdGhpcy5zaG93U3RlbENhbnZhcygpOwogICAgICB9IGVsc2UgaWYgKGNhbnZhcyA9PT0gJ01haW5DYW1lcmEnKSB7CiAgICAgICAgdGhpcy5jdXJyZW50Y2FudmFzID0gJ01haW5DYW1lcmEnOwogICAgICAgIHRoaXMuc2hvd01haW5DYW1lcmFDYW52YXMoKTsKICAgICAgICB0aGlzLmRyYXdJbWFnZURhdGEoKTsKICAgICAgfSBlbHNlIGlmIChjYW52YXMgPT09ICdHdWlkZXJDYW1lcmEnKSB7CiAgICAgICAgdGhpcy5jdXJyZW50Y2FudmFzID0gJ0d1aWRlckNhbWVyYSc7CiAgICAgICAgdGhpcy5zaG93R3VpZGVyQ2FtZXJhQ2FudmFzKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygidW5rbm93biBjYW52YXM6ICIgKyBjYW52YXMsICdlcnJvcicpOwogICAgICB9CiAgICB9LAogICAgLy8g546w5pyJ55qE5Yqg5YeP5Ye95pWw6ZyA6KaB5L+u5pS5CiAgICBkZWNyZW1lbnRBbmROb3RpZnk6IGZ1bmN0aW9uIGRlY3JlbWVudEFuZE5vdGlmeShpdGVtKSB7CiAgICAgIGlmIChpdGVtLnZhbHVlID4gaXRlbS5pbnB1dE1pbikgewogICAgICAgIGl0ZW0udmFsdWUgLT0gaXRlbS5pbnB1dFN0ZXA7CiAgICAgICAgdGhpcy5oYW5kbGVDb25maWdDaGFuZ2UoaXRlbS5sYWJlbCwgaXRlbS52YWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBpbmNyZW1lbnRBbmROb3RpZnk6IGZ1bmN0aW9uIGluY3JlbWVudEFuZE5vdGlmeShpdGVtKSB7CiAgICAgIGlmIChpdGVtLnZhbHVlIDwgaXRlbS5pbnB1dE1heCkgewogICAgICAgIGl0ZW0udmFsdWUgKz0gaXRlbS5pbnB1dFN0ZXA7CiAgICAgICAgdGhpcy5oYW5kbGVDb25maWdDaGFuZ2UoaXRlbS5sYWJlbCwgaXRlbS52YWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDpgJrnlKjnmoTphY3nva7mm7TmlLnlpITnkIblh73mlbAKICAgIGhhbmRsZUNvbmZpZ0NoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ29uZmlnQ2hhbmdlKGxhYmVsLCB2YWx1ZSkgewogICAgICBjb25zb2xlLmxvZygiXHU5MTREXHU3RjZFXHU1REYyXHU2NkY0XHU2NTM5OiAiLmNvbmNhdChsYWJlbCwgIiA9ICIpLmNvbmNhdCh2YWx1ZSkpOwoKICAgICAgaWYgKHZhbHVlICE9PSAnJykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW0ubGFiZWwsIGl0ZW0udmFsdWUpOwogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2cobGFiZWwgKyAnOicgKyB2YWx1ZSwgJ2luZm8nKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQobGFiZWwsIGxhYmVsICsgJzonICsgdmFsdWUpOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICcnICYmIGxhYmVsID09PSAnRm9jYWwgTGVuZ3RoIChtbSknKSB7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyhsYWJlbCArICdpcyBOVUxMJywgJ2luZm8nKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoaXRlbS5sYWJlbCwgaXRlbS5sYWJlbCArICc6Jyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmoKHlh4bnm7jlhbPmlrnms5UKICAgIHN0YXJ0Q2FsaWJyYXRpb25Qcm9jZXNzOiBmdW5jdGlvbiBzdGFydENhbGlicmF0aW9uUHJvY2VzcygpIHsKICAgICAgdGhpcy5jYWxpYnJhdGlvbkluZm8uaXNDYWxpYnJhdGluZyA9IHRydWU7CiAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmNhbGlicmF0aW9uU3RhdGUgPSAncnVubmluZyc7CiAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmNhbGlicmF0aW9uU3RlcCA9IDA7CiAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmNhbGlicmF0aW9uTWVzc2FnZSA9IHRoaXMuJHQoJ1ByZXBhcmluZyB0byBzdGFydCBmb2N1c2VyIHRyYXZlbCBjYWxpYnJhdGlvbi4uLicpOwogICAgICBjb25zb2xlLmxvZygnQXBwOiBDYWxpYnJhdGlvbiBzdGFydGVkOicsIHRoaXMuY2FsaWJyYXRpb25JbmZvKTsKICAgIH0sCiAgICB1cGRhdGVDYWxpYnJhdGlvbkluZm86IGZ1bmN0aW9uIHVwZGF0ZUNhbGlicmF0aW9uSW5mbyhzdGVwLCBtZXNzYWdlLCBzdGF0ZSkgewogICAgICB0cnkgewogICAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmNhbGlicmF0aW9uU3RlcCA9IHN0ZXA7IC8vIOWmguaenOa2iOaBr+aYr+WbvemZheWMlumUru+8jOWImee/u+ivkeWugwoKICAgICAgICBpZiAobWVzc2FnZSAmJiB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmNhbGlicmF0aW9uTWVzc2FnZSA9IHRoaXMuJHQobWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmNhbGlicmF0aW9uTWVzc2FnZSA9IG1lc3NhZ2U7CiAgICAgICAgfQoKICAgICAgICBpZiAoc3RhdGUpIHsKICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmNhbGlicmF0aW9uU3RhdGUgPSBzdGF0ZTsKICAgICAgICB9CgogICAgICAgIGlmIChzdGVwID09PSAwKSB7CiAgICAgICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5pc0NhbGlicmF0aW5nID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCdBcHA6IENhbGlicmF0aW9uIGluZm8gdXBkYXRlZDonLCB0aGlzLmNhbGlicmF0aW9uSW5mbyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdXBkYXRlQ2FsaWJyYXRpb25JbmZvOicsIGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGVuZENhbGlicmF0aW9uOiBmdW5jdGlvbiBlbmRDYWxpYnJhdGlvbigpIHsKICAgICAgdGhpcy5jYWxpYnJhdGlvbkluZm8uaXNDYWxpYnJhdGluZyA9IGZhbHNlOwogICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvblN0YXRlID0gJ2lkbGUnOwogICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvblN0ZXAgPSAwOwogICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvbk1lc3NhZ2UgPSAnJzsKICAgICAgY29uc29sZS5sb2coJ0FwcDogQ2FsaWJyYXRpb24gZW5kZWQnKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBuYXY6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ25hdjonLCB0aGlzLiRzdG9yZS5zdGF0ZS5zaG93TmF2aWdhdGlvbkRyYXdlcik7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNob3dOYXZpZ2F0aW9uRHJhd2VyOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2KSB7CiAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnNob3dOYXZpZ2F0aW9uRHJhd2VyICE9PSB2KSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnbmF2OicsIHRoaXMuJHN0b3JlLnN0YXRlLnNob3dOYXZpZ2F0aW9uRHJhd2VyKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndG9nZ2xlQm9vbCcsICdzaG93TmF2aWdhdGlvbkRyYXdlcicpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHN0b3JlQ3VycmVudExvY2F0aW9uOiBmdW5jdGlvbiBzdG9yZUN1cnJlbnRMb2NhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRMb2NhdGlvbjsKICAgIH0sCiAgICBnZXRRVENsaWVudFZlcnNpb25Db2xvcjogZnVuY3Rpb24gZ2V0UVRDbGllbnRWZXJzaW9uQ29sb3IoKSB7CiAgICAgIGlmICh0aGlzLlFUQ2xpZW50VmVyc2lvbiA9PT0gJ05vdCBjb25uZWN0ZWQnKSB7CiAgICAgICAgcmV0dXJuICdyZ2JhKDI1NSwgMCwgMCwgMC41KSc7IC8vIOe6ouiJsu+8jOmAj+aYjuW6piAwLjUKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSc7IC8vIOm7mOiupOeZveiJsu+8jOmAj+aYjuW6piAwLjUKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHN0b3JlQ3VycmVudExvY2F0aW9uOiBmdW5jdGlvbiBzdG9yZUN1cnJlbnRMb2NhdGlvbihsb2MpIHsKICAgICAgdmFyIEREMlIgPSBNYXRoLlBJIC8gMTgwOwogICAgICB0aGlzLiRzdGVsLmNvcmUub2JzZXJ2ZXIubGF0aXR1ZGUgPSBsb2MubGF0ICogREQyUjsKICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLmxvbmdpdHVkZSA9IGxvYy5sbmcgKiBERDJSOwogICAgICB0aGlzLiRzdGVsLmNvcmUub2JzZXJ2ZXIuZWxldmF0aW9uID0gbG9jLmFsdDsgLy8gQXQgc3RhcnR1cCwgd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbG9jYXRpb24gdG8gYmUgc2V0IGJlZm9yZSBkZWNpZGluZyB3aGljaAogICAgICAvLyBzdGFydHVwIHRpbWUgdG8gc2V0IHNvIHRoYXQgaXQncyBuaWdodCB0aW1lLgoKICAgICAgaWYgKCF0aGlzLnN0YXJ0VGltZUlzU2V0KSB7CiAgICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLnV0YyA9IHN3aC5nZXRUaW1lQWZ0ZXJTdW5zZXQodGhpcy4kc3RlbCk7CiAgICAgICAgdGhpcy5zdGFydFRpbWVJc1NldCA9IHRydWU7CiAgICAgIH0gLy8gSW5pdCBvZiB0aW1lIGFuZCBkYXRlIGlzIGNvbXBsZXRlCgoKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRWYWx1ZScsIHsKICAgICAgICB2YXJOYW1lOiAnaW5pdENvbXBsZXRlJywKICAgICAgICBuZXdWYWx1ZTogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSgpIHsKICAgICAgLy8gcmVhY3QgdG8gcm91dGUgY2hhbmdlcy4uLgogICAgICB0aGlzLnNldFN0YXRlRnJvbVF1ZXJ5QXJncygpOwogICAgfSwKICAgIEN1cnJlbnREcml2ZXJUeXBlOiBmdW5jdGlvbiBDdXJyZW50RHJpdmVyVHlwZShuZXdWYWwpIHsKICAgICAgLy8g5b2TIEN1cnJlbnREcml2ZXJUeXBlIOWPmOWMluaXtu+8jOabtOaWsCBzZWxlY3RlZERyaXZlcgogICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkRHJpdmVyKG5ld1ZhbCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgIC8vIC8vIOmYu+atoum7mOiupOeahOinpuaRuOihjOS4ugogICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMucHJldmVudERlZmF1bHQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLnByZXZlbnREZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnByZXZlbnREZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgLy8gLy8g6Zi75q2i6buY6K6k55qE6byg5qCH6KGM5Li6CiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLnByZXZlbnREZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5wcmV2ZW50RGVmYXVsdCwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLnByZXZlbnREZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgLy8gLy8g6Zi75q2i6buY6K6k55qE5rua6L2u6KGM5Li6CiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMucHJldmVudERlZmF1bHQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB0aGlzLmdldExvY2F0aW9uSG9zdE5hbWUoKTsKICAgIHRoaXMubG9hZEltYWdlVG9DYW52YXNNYWluQ2FtZXJhKCk7CiAgICB0aGlzLmxvYWRJbWFnZVRvQ2FudmFzR3VpZGVyQ2FtZXJhKCk7CiAgICB0aGlzLmluaXRDYW52YXMoKTsKICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTsKCiAgICBmb3IgKHZhciBpIGluIHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKCkpIHsKICAgICAgdmFyIHBsdWdpbiA9IHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKClbaV07CgogICAgICBpZiAocGx1Z2luLm9uQXBwTW91bnRlZCkgewogICAgICAgIHBsdWdpbi5vbkFwcE1vdW50ZWQodGhhdCk7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmNvbm5lY3QoKTsKICAgIHRoaXMuc2V0dXBOZXR3b3JrU3RhdHVzTGlzdGVuZXIoKTsgLy8g5L2/55SoIFByb21pc2Ug5qOA5p+lIE9wZW5DVi5qcyDmmK/lkKbliqDovb3lrozmiJAKCiAgICB0aGlzLmxvYWRPcGVuQ3YoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFfdGhpczI2Ll9pc0Rlc3Ryb3llZCkgewogICAgICAgIC8vIOajgOafpee7hOS7tuaYr+WQpuW3sumUgOavgQogICAgICAgIGNvbnNvbGUubG9nKCdPcGVuQ1YuanMgaXMgcmVhZHknKTsKCiAgICAgICAgX3RoaXMyNi5vbkN2UmVhZHkoKTsgLy8g6LCD55SoIE9wZW5DViDlh4blpIflpb3nmoTlm57osIMKCiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIE9wZW5DVi5qczonLCBlcnJvcik7CiAgICB9KTsgLy8gY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAvLyBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vZG9jcy5vcGVuY3Yub3JnLzQuNS41L29wZW5jdi5qcyc7CiAgICAvLyBzY3JpcHQuYXN5bmMgPSB0cnVlOwogICAgLy8gc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHRoaXMub25DdlJlYWR5KCk7CiAgICAvLyBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CgogICAgaW1wb3J0KCdAL2Fzc2V0cy9qcy9zdGVsbGFyaXVtLXdlYi1lbmdpbmUud2FzbScpLnRoZW4oZnVuY3Rpb24gKGYpIHsKICAgICAgaWYgKCFfdGhpczI2Ll9pc0Rlc3Ryb3llZCkgewogICAgICAgIC8vIOWGjeasoeajgOafpee7hOS7tuaYr+WQpuW3sumUgOavgQogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIFN0ZWxXZWJFbmdpbmUgdmlld2VyIHNpbmdsZXRvbgogICAgICAgIC8vIEFmdGVyIHRoaXMgY2FsbCwgdGhlIFN0ZWxXZWJFbmdpbmUgc3RhdGUgd2lsbCBhbHdheXMgYmUgYXZhaWxhYmxlIGluIHZ1ZXggc3RvcmUKICAgICAgICAvLyBpbiB0aGUgJHN0b3JlLnN0ZWwgb2JqZWN0IGluIGEgcmVhY3RpdmUgd2F5ICh1c2VmdWwgZm9yIHZ1ZSBjb21wb25lbnRzKS4KICAgICAgICAvLyBUbyBtb2RpZnkgdGhlIHN0YXRlIG9mIHRoZSBTdGVsV2ViRW5naW5lLCBpdCdzIGVub3VnaCB0byBjYWxsL3NldCB2YWx1ZXMgZGlyZWN0bHkgb24gdGhlICRzdGVsIG9iamVjdAogICAgICAgIHRyeSB7CiAgICAgICAgICBzd2guaW5pdFN0ZWxXZWJFbmdpbmUodGhhdC4kc3RvcmUsIGYuZGVmYXVsdCwgdGhhdC4kcmVmcy5zdGVsQ2FudmFzLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIFN0YXJ0IGF1dG8gbG9jYXRpb24gZGV0ZWN0aW9uIChldmVuIGlmIHdlIGRvbid0IHVzZSBpdCkKICAgICAgICAgICAgc3doLmdldEdlb2xvY2F0aW9uKCkudGhlbihmdW5jdGlvbiAocCkgewogICAgICAgICAgICAgIHJldHVybiBzd2guZ2VvQ29kZVBvc2l0aW9uKHAsIHRoYXQpOwogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsb2MpIHsKICAgICAgICAgICAgICB0aGF0LiRzdG9yZS5jb21taXQoJ3NldEF1dG9EZXRlY3RlZExvY2F0aW9uJywgbG9jKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhhdC4kc3RlbC5zZXRGb250KCdyZWd1bGFyJywgcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnZm9udHMvUm9ib3RvLVJlZ3VsYXIudHRmJywgMS4zOCk7CiAgICAgICAgICAgIHRoYXQuJHN0ZWwuc2V0Rm9udCgnYm9sZCcsIHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ2ZvbnRzL1JvYm90by1Cb2xkLnR0ZicsIDEuMzgpOwogICAgICAgICAgICB0aGF0LiRzdGVsLmNvcmUuY29uc3RlbGxhdGlvbnMuc2hvd19vbmx5X3BvaW50ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhhdC5zZXRTdGF0ZUZyb21RdWVyeUFyZ3MoKTsKICAgICAgICAgICAgdGhhdC5ndWlDb21wb25lbnQgPSAnR3VpJzsKCiAgICAgICAgICAgIGZvciAodmFyIF9pOCBpbiB0aGF0LiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpKSB7CiAgICAgICAgICAgICAgdmFyIF9wbHVnaW4gPSB0aGF0LiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpW19pOF07CgogICAgICAgICAgICAgIGlmIChfcGx1Z2luLm9uRW5naW5lUmVhZHkpIHsKICAgICAgICAgICAgICAgIF9wbHVnaW4ub25FbmdpbmVSZWFkeSh0aGF0KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghdGhhdC5kYXRhU291cmNlSW5pdERvbmUpIHsKICAgICAgICAgICAgICAvLyBTZXQgYWxsIGRlZmF1bHQgZGF0YSBzb3VyY2VzCiAgICAgICAgICAgICAgdmFyIGNvcmUgPSB0aGF0LiRzdGVsLmNvcmU7CiAgICAgICAgICAgICAgY29yZS5zdGFycy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9zdGFycycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLnN0YXJzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N0YXJzX2Jhc2UnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5zdGFycy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9zdGFyc19leHRlbmQnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5kc3MuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvZHNzL3YxJwogICAgICAgICAgICAgIH0pOyAvLyBjb3JlLnN0YXJzLmFkZERhdGFTb3VyY2UoeyB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3RhcnMnIH0pCiAgICAgICAgICAgICAgLy8gQWxsb3cgdG8gc3BlY2lmeSBhIGN1c3RvbSBwYXRoIGZvciBza3kgY3VsdHVyZSBkYXRhCgogICAgICAgICAgICAgIGlmICh0aGF0LiRyb3V0ZS5xdWVyeS5zYykgewogICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoYXQuJHJvdXRlLnF1ZXJ5LnNjLnN1YnN0cmluZyh0aGF0LiRyb3V0ZS5xdWVyeS5zYy5sYXN0SW5kZXhPZignLycpICsgMSk7CiAgICAgICAgICAgICAgICBjb3JlLnNreWN1bHR1cmVzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICB1cmw6IHRoYXQuJHJvdXRlLnF1ZXJ5LnNjLAogICAgICAgICAgICAgICAgICBrZXk6IGtleQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb3JlLnNreWN1bHR1cmVzLmN1cnJlbnRfaWQgPSBrZXk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvcmUuc2t5Y3VsdHVyZXMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9za3ljdWx0dXJlcy93ZXN0ZXJuJywKICAgICAgICAgICAgICAgICAga2V5OiAnd2VzdGVybicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29yZS5kc29zLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL2RzbycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLmxhbmRzY2FwZXMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvbGFuZHNjYXBlcy9ndWVyZWlucycsCiAgICAgICAgICAgICAgICBrZXk6ICdndWVyZWlucycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLm1pbGt5d2F5LmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N1cnZleXMvbWlsa3l3YXknCiAgICAgICAgICAgICAgfSk7IC8vIGNvcmUuZHNzLmFkZERhdGFTb3VyY2UoeyB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3VydmV5cy9kc3MnIH0pCgogICAgICAgICAgICAgIGNvcmUubWlub3JfcGxhbmV0cy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9tcGNvcmIuZGF0JywKICAgICAgICAgICAgICAgIGtleTogJ21wY19hc3Rlcm9pZHMnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5wbGFuZXRzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N1cnZleXMvc3NvL21vb24nLAogICAgICAgICAgICAgICAga2V5OiAnbW9vbicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLnBsYW5ldHMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3VydmV5cy9zc28vc3VuJywKICAgICAgICAgICAgICAgIGtleTogJ3N1bicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLnBsYW5ldHMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3VydmV5cy9zc28vbW9vbicsCiAgICAgICAgICAgICAgICBrZXk6ICdkZWZhdWx0JwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvcmUuY29tZXRzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL0NvbWV0RWxzLnR4dCcsCiAgICAgICAgICAgICAgICBrZXk6ICdtcGNfY29tZXRzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvcmUuc2F0ZWxsaXRlcy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS90bGVfc2F0ZWxsaXRlLmpzb25sLmd6JywKICAgICAgICAgICAgICAgIGtleTogJ2pzb25sL3NhdCcKICAgICAgICAgICAgICB9KTsgLy8gTW91bnQgUG9pbnRpbmcKCiAgICAgICAgICAgICAgZ2xTdGVsID0gdGhhdC5zZXRHbG9hYmFsU3RlbCh0aGF0LiRzdGVsKTsKICAgICAgICAgICAgICBnbExheWVyID0gdGhhdC5zZXRHbG9iYWxMYXllcih0aGF0LiRzdGVsKTsKICAgICAgICAgICAgICBnbFRlc3RDaXJjbGUgPSB0aGF0LnRlc3RBZGRDaXJjbGUodGhhdC4kc3RlbCwgZ2xMYXllcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIF90aGlzMjYuJHN0b3JlLmNvbW1pdCgnc2V0VmFsdWUnLCB7CiAgICAgICAgICAgIHZhck5hbWU6ICd3YXNtU3VwcG9ydCcsCiAgICAgICAgICAgIG5ld1ZhbHVlOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgewogICAgICAvLyDpobXpnaLlrozlhajliqDovb0KICAgICAgX3RoaXMyNi5TZW5kQ29uc29sZUxvZ01zZygn6aG16Z2i5bey5a6M5YWo5Yqg6L29JywgJ2luZm8nKTsKCiAgICAgIF90aGlzMjYuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnUHJvY2Vzc19Db21tYW5kX1JldHVybicsICdWdWVDbGllbnRWZXJzaW9uOicgKyBwcm9jZXNzLmVudi5WVUVfQVBQX1ZFUlNJT04pOwogICAgfSk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkgewogICAgICAvLyBET03liqDovb3lrozmiJAKICAgICAgX3RoaXMyNi5TZW5kQ29uc29sZUxvZ01zZygnRE9N5bey5Yqg6L295a6M5oiQJywgJ2luZm8nKTsKICAgIH0pOwogIH0sCiAgLy8g5Zyo57uE5Lu26ZSA5q+B5pe256e76ZmkCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLnByZXZlbnREZWZhdWx0KTsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMucHJldmVudERlZmF1bHQpOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnByZXZlbnREZWZhdWx0KTsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMucHJldmVudERlZmF1bHQpOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5wcmV2ZW50RGVmYXVsdCk7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5wcmV2ZW50RGVmYXVsdCk7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMucHJldmVudERlZmF1bHQpOyAvLyDmuIXnkIbmnoHovbTmoKHlh4bnm7jlhbPnmoTlnIblnIgKCiAgICBpZiAodGhpcy5jYWxpYnJhdGlvbkNpcmNsZXMpIHsKICAgICAgdGhpcy5jYWxpYnJhdGlvbkNpcmNsZXMuZm9yRWFjaChmdW5jdGlvbiAoY2lyY2xlKSB7CiAgICAgICAgaWYgKGdsTGF5ZXIgJiYgY2lyY2xlKSB7CiAgICAgICAgICBnbExheWVyLnJlbW92ZShjaXJjbGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuY2FsaWJyYXRpb25DaXJjbGVzID0gW107CiAgICB9CgogICAgaWYgKHRoaXMuYWRqdXN0bWVudENpcmNsZXMpIHsKICAgICAgdGhpcy5hZGp1c3RtZW50Q2lyY2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaXJjbGUpIHsKICAgICAgICBpZiAoZ2xMYXllciAmJiBjaXJjbGUpIHsKICAgICAgICAgIGdsTGF5ZXIucmVtb3ZlKGNpcmNsZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5hZGp1c3RtZW50Q2lyY2xlcyA9IFtdOwogICAgfSAvLyDlgZzmraLop4blnLrmm7TmlrDlrprml7blmagKCgogICAgdGhpcy5zdG9wRmllbGRVcGRhdGVUaW1lcigpOwogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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IAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,CAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,GAAA,KAAA,GAAA,UAAA,IAAA,KAAA,CAAA,CAAA,CAAA;AACA,OA9BA,CAgCA;;;AACA,WAAA,QAAA,CAAA,UAAA,GAAA,aAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AAEA,aAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KA96FA;AA+6FA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAA,gBAlxGA,4BAkxGA,SAlxGA,EAkxGA,GAlxGA,EAkxGA,GAlxGA,EAkxGA;AACA,UAAA,GAAA,GAAA,GAAA,EAAA;AACA,aAAA,iBAAA,CAAA,yDAAA,EAAA,SAAA;AACA,QAAA,GAAA,GAAA,GAAA;AACA;;AACA,UAAA,SAAA,GAAA,IAAA,IAAA,EAAA,CALA,CAMA;;AACA,UAAA,KAAA,GAAA,SAAA,GAAA,GAAA,GAAA,CAAA;AACA,UAAA,IAAA,GAAA,CAAA,GAAA,GAAA,KAAA;;AAEA,UAAA,KAAA,GAAA,CAAA,EAAA;AACA,QAAA,KAAA,GAAA,CAAA;AACA,QAAA,IAAA,GAAA,CAAA;AACA,OAHA,MAGA,IAAA,KAAA,GAAA,GAAA,EAAA;AACA,QAAA,KAAA,GAAA,GAAA;AACA,QAAA,IAAA,GAAA,CAAA;AACA,OAhBA,CAkBA;;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,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","sourcesContent":["// Stellarium Web - Copyright (c) 2022 - Stellarium Labs SRL\n//\n// This program is licensed under the terms of the GNU AGPL v3, or\n// alternatively under a commercial licence.\n//\n// The terms of the AGPL v3 license can be found in the main directory of this\n// repository.\n\n<template>\n\n  <v-app>\n    <v-navigation-drawer v-model=\"drawer_2\" ref=\"Drawer_2\" app absolute temporary :width=\"DeviceIsConnected ? 200 : 200\"\n      style=\"left: 170px; backdrop-filter: blur(5px); background-color: rgba(0, 0, 0, 0.1);\">\n\n      <div v-show=\"isOpenDevicePage\">\n        <span\n          style=\"position: absolute; top: 0px; left: 50%; transform: translateX(-50%); font-size: 30px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n          {{ $t(CurrentDriverType) }}\n          <v-divider></v-divider>\n        </span>\n\n        <div :style=\"{ width: DeviceIsConnected ? '200px' : '200px' }\"\n          style=\"position: absolute; top: 50px; max-height: calc(100% - 95px); overflow-y: auto;\"\n          class=\"params-container\">\n\n          <!-- <div v-show=\"!DeviceIsConnected\" style=\"text-align: center;\">\n            <span style=\"display: inline-block; font-size: 15px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n              {{ $t('Device Connection') }}\n            </span>\n            <v-select :label=\"$t('Select Driver')\" :items=\"drivers\" item-text=\"label\" item-value=\"value\"\n              v-model=\"selectedDriver\" style=\"width: 150px; display: inline-block;\"></v-select>\n\n            <v-select v-if=\"CurrentDriverType === 'Mount' || CurrentDriverType === 'Focuser'\" :label=\"$t('Baud Rate')\"\n              :items=\"BaudRateItems\" item-text=\"label\" item-value=\"value\" v-model=\"BaudRateSelected\"\n              style=\"width: 150px; display: inline-block;\">\n            </v-select>\n\n            <v-row no-gutters>\n              <v-col cols=\"4\">\n                <button @click=\"clearDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/delete.svg\" height=\"20px\"\n                      style=\"min-height: 20px; pointer-events: none;\"></img>\n                  </div>\n                </button>\n              </v-col>\n              <v-col cols=\"4\">\n                <button v-if=\"!isConnecting\" @click=\"connectDriver(selectedDriver)\" class=\"btn-confirm\"\n                  style=\"display: inline-block; background-color: green;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <v-icon color=\"white\">mdi-link</v-icon>\n                  </div>\n                </button>\n                <v-progress-circular v-else indeterminate color=\"green\" size=\"24\"></v-progress-circular>\n              </v-col>\n              <v-col cols=\"4\">\n                <button @click=\"confirmDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <template>\n                    <v-icon color=\"rgba(255, 255, 255)\">mdi-check-bold</v-icon>\n                  </template>\n</button>\n</v-col>\n</v-row>\n</div> -->\n\n          <div v-show=\"!DeviceIsConnected\" style=\"text-align: center;\">\n            <span style=\"display: inline-block; font-size: 15px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n              {{ $t('Device Connection') }}\n            </span>\n\n            <!-- @change -->\n            <v-select :label=\"$t('Select Driver')\" :items=\"drivers\" item-text=\"label\" item-value=\"value\"\n              v-model=\"selectedDriver\" @change=\"confirmDriver\" style=\"width: 150px; display: inline-block;\">\n            </v-select>\n\n            <!-- @change -->\n            <v-select v-if=\"CurrentDriverType === 'Mount' || CurrentDriverType === 'Focuser'\" :label=\"$t('Baud Rate')\"\n              :items=\"BaudRateItems\" item-text=\"label\" item-value=\"value\" v-model=\"BaudRateSelected\"\n              @change=\"confirmDriver\" style=\"width: 150px; display: inline-block;\">\n            </v-select>\n\n            <v-row no-gutters>\n              <v-col cols=\"6\">\n                <button @click=\"clearDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/delete.svg\" height=\"20px\"\n                      style=\"min-height: 20px; pointer-events: none;\"></img>\n                  </div>\n                </button>\n              </v-col>\n              <v-col cols=\"6\">\n                <button v-if=\"!isConnecting\" @click=\"connectDriver(selectedDriver)\" class=\"btn-confirm\"\n                  style=\"display: inline-block; background-color: green;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <v-icon color=\"white\">mdi-link</v-icon>\n                  </div>\n                </button>\n                <v-progress-circular v-else indeterminate color=\"green\" size=\"24\"></v-progress-circular>\n              </v-col>\n            </v-row>\n          </div>\n\n          <!-- <div v-show=\"!DeviceIsConnected\" style=\"text-align: center;\">\n            <span style=\"display: inline-block; font-size: 15px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n              {{ $t('Device Connection') }}\n            </span>\n            <v-select :label=\"$t('Select Driver')\" :items=\"drivers\" item-text=\"label\" item-value=\"value\"\n              v-model=\"selectedDriver\" style=\"width: 150px; display: inline-block;\"></v-select>\n            <v-row no-gutters>\n              <v-col cols=\"6\">\n                <button @click=\"clearDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/delete.svg\" height=\"20px\"\n                      style=\"min-height: 20px; pointer-events: none;\"></img>\n                  </div>\n                </button>\n              </v-col>\n              <v-col cols=\"6\">\n                <button @click=\"confirmDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <template>\n                    <v-icon color=\"rgba(255, 255, 255)\">mdi-check-bold</v-icon>\n                  </template>\n                </button>\n              </v-col>\n            </v-row>\n\n          </div> -->\n\n\n          <div v-show=\"DeviceIsConnected\" v-for=\"(item, index) in CurrentConfigItems()\" :key=\"index\"\n            class=\"config-item\">\n            <!--  -->\n            <span v-if=\"index === 0\" class=\"config-title\">\n              {{ $t('Device Config Items') }}\n            </span>\n\n            <!--  -->\n            <v-card-text>\n              <!--  -->\n              <v-text-field v-if=\"item.inputType === 'text'\" v-model=\"item.value\" :label=\"item.label\"\n                @input=\"handleConfigChange(item.label, item.value)\" class=\"config-input\">\n              </v-text-field>\n\n              <!--  -->\n              <v-text-field v-if=\"item.inputType === 'number'\" v-model=\"item.value\" :label=\"item.label\"\n                type=\"number\" @input=\"handleConfigChange(item.label, item.value)\" class=\"config-input\">\n              </v-text-field>\n\n              <!--  -->\n              <div v-if=\"item.inputType === 'slider'\" class=\"slider-container\">\n                <span class=\"slider-label\">\n                  {{ item.label }}: {{ item.value }}\n                </span>\n                <div>\n                  <!--  -->\n                  <button @click=\"decrementAndNotify(item)\" class=\"get-click btn-slider btn-minus\">\n                    <div class=\"btn-content\">\n                      <img src=\"@/assets/images/svg/ui/Minus.svg\" height=\"10px\" class=\"btn-icon\">\n                    </div>\n                  </button>\n\n                  <!--  -->\n                  <v-slider v-model=\"item.value\" :step=\"item.inputStep\" :max=\"item.inputMax\" :min=\"item.inputMin\"\n                    @change=\"handleConfigChange(item.label, item.value)\" color=\"white\"\n                    class=\"align-center slider-control\">\n                  </v-slider>\n\n                  <!--  -->\n                  <button @click=\"incrementAndNotify(item)\" class=\"get-click btn-slider btn-plus\">\n                    <div class=\"btn-content\">\n                      <img src=\"@/assets/images/svg/ui/Plus.svg\" height=\"10px\" class=\"btn-icon\">\n                    </div>\n                  </button>\n                </div>\n              </div>\n\n              <!--  -->\n              <v-select v-if=\"item.inputType === 'select'\" v-model=\"item.value\" :label=\"item.label\"\n                @change=\"handleConfigChange(item.label, item.value)\" :items=\"item.selectValue\" class=\"config-input\">\n              </v-select>\n\n              <!--  -->\n              <v-switch v-if=\"item.inputType === 'switch'\" v-model=\"item.value\" :label=\"item.label\"\n                @change=\"handleConfigChange(item.label, item.value)\" class=\"config-switch\">\n              </v-switch>\n            </v-card-text>\n          </div>\n\n        </div>\n\n        <div v-show=\"DeviceIsConnected\"\n          style=\"text-align: center; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px;\">\n          <!-- <button @click=\"confirmConfiguration(CurrentConfigItems())\" class=\"btn-confirm\"\n            style=\"display: inline-block; user-select: none;\">\n            <v-icon color=\"rgba(255, 255, 255)\">mdi-check-bold</v-icon>\n          </button> -->\n          <button @click=\"disconnectDriver\" class=\"btn-confirm\" style=\"display: inline-block; background-color: red;\">\n            <div style=\"display: flex; justify-content: center; align-items: center;\">\n              <v-icon color=\"white\">mdi-link-off</v-icon>\n            </div>\n          </button>\n        </div>\n\n        <!-- <div v-show=\"DeviceIsConnected\"\n          style=\"text-align: center; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; justify-content: center; width: 100%;\">\n          <button @click=\"confirmConfiguration(CurrentConfigItems())\" class=\"btn-confirm\"\n            style=\"display: inline-block; user-select: none;\">\n            <v-icon color=\"rgba(255, 255, 255)\">mdi-check-bold</v-icon>\n          </button>\n        </div> -->\n\n      </div>\n\n      <div v-show=\"isOpenPowerPage\">\n        <span\n          style=\"position: absolute; top: 0px; left: 50%; transform: translateX(-50%); font-size: 26px; color: rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap; \">\n          {{ $t('Power Management') }}\n          <v-divider></v-divider>\n        </span>\n\n        <div style=\"position: absolute; top: 50px; max-height: calc(100% - 50px); width: 200px; overflow-y: auto;\">\n          <v-list dense>\n\n            <v-list-item @click.stop=\"SwitchOutPutPower(1, OutPutPower_1_ON)\"\n              :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/OutPutPower.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>\n                  <span>\n                    <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('OutPut Power 1') }}\n                    </div>\n                    <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': OutPutPower_1_ON }\">{{\n                      OutPutPower_1_ON ?\n                        '[ON]' : '[OFF]' }}</div>\n                  </span>\n                </v-list-item-title>\n\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-list-item @click.stop=\"SwitchOutPutPower(2, OutPutPower_2_ON)\"\n              :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/OutPutPower.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>\n                  <span>\n                    <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('OutPut Power 2') }}\n                    </div>\n                    <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': OutPutPower_2_ON }\">{{\n                      OutPutPower_2_ON ?\n                        '[ON]' : '[OFF]' }}</div>\n                  </span>\n                </v-list-item-title>\n\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-divider :style=\"{ marginBottom: '10px' }\"></v-divider>\n\n            <v-list-item @click.stop=\"RestartRaspberryPi()\" :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/Reboot.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Restart')\n                  }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-list-item @click.stop=\"ShutdownRaspberryPi()\" :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/PowerOFF.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Shut Down')\n                  }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n            <!--  -->\n            <v-list-item @click.stop=\"ForceUpdate()\" :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/PowerOFF.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Force Update')\n                  }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n\n          </v-list>\n        </div>\n\n      </div>\n\n    </v-navigation-drawer>\n\n    <v-navigation-drawer v-model=\"nav\" app :stateless=\"drawer_2\" temporary width=\"170\"\n      style=\"backdrop-filter: blur(5px); background-color: rgba(0, 0, 0, 0.1);\">\n      <v-layout column fill-height>\n        <v-list dense>\n          <!--  -->\n          <template>\n            <div style=\"display: flex; justify-content: center; align-items: center;\">\n              <span style=\"font-size: 10px; color: rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap;\">\n                Client Version: {{ VueClientVersion }}\n              </span>\n            </div>\n            <div style=\"display: flex; justify-content: center; align-items: center;\">\n              <!-- <span style=\"font-size: 10px; color: getQTClientVersionColor,rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap;\">\n                Server Version: {{ QTClientVersion }}\n              </span> -->\n              <span :style=\"{\n                fontSize: '10px',\n                color: getQTClientVersionColor,\n                userSelect: 'none',\n                whiteSpace: 'nowrap'\n              }\">\n                Server Version: {{ QTClientVersion }}\n              </span>\n            </div>\n            <v-divider></v-divider>\n          </template>\n\n          <!-- (Quit) -->\n          <v-list-item @click.stop=\"QuitToMainApp()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Quit.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Quit')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (View Settings) -->\n          <v-list-item @click.stop=\"toggleStoreValue('showViewSettingsDialog')\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Setting.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('View Settings')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (Power Management) -->\n          <v-list-item @click.stop=\"openPowerManagerPage()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Power.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Power Management')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider></v-divider>\n\n          <!-- () -->\n          <v-list-item v-for=\"(device, index) in devices\" :key=\"index\" @click.stop=\"selectDevice(device)\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/${device.driverType}.svg`)\" height=\"30px\"\n                  style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t(device.driverType) }}</div>\n                  <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': device.isConnected }\">{{\n                    device.device }}\n                  </div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider></v-divider>\n\n          <!-- (Connect All) -->\n          <v-list-item :disabled=\"loadingConnectAllDevice\" @touchstart=\"startConnectBtnPress\"\n            @touchend=\"endConnectBtnPress\" @mousedown=\"startConnectBtnPress\" @mouseup=\"endConnectBtnPress\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Connect.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\">\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px', userSelect: 'none' }\">\n                {{ $t('Connect All') }}\n              </v-list-item-title>\n              <v-progress-linear v-if=\"loadingConnectAllDevice\" indeterminate color=\"white\"\n                height=\"5\"></v-progress-linear>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (Disconnect All) -->\n          <v-list-item @click.stop=\"disconnectAllDevice(false)\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DisConnect.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px', userSelect: 'none' }\">{{\n                $t('Disconnect All') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (Device Allocation) -->\n          <v-list-item @click.stop=\"DeviceAllocation()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Allocation.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{\n                $t('Device Allocation') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (Calibrate Polar Axis) -->\n          <v-list-item @click.stop=\"CalibratePolarAxis()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/PoleAxis.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{\n                $t('Calibrate Polar Axis') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (Image Files) -->\n          <v-list-item @click.stop=\"OpenIamgeFolder()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/FolderSwitch.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Image Files')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (Logs) -->\n          <v-list-item @click.stop=\"OpenDebugLog()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DebugLog.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Logs')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider></v-divider>\n\n          <!-- (Lat & Long) -->\n          <v-list-item @click.stop=\"locationClicked()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/Location.svg`)\" height=\"30px\" style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Lat & Long') }}</div>\n                  <div :style=\"{ fontSize: '7px' }\">{{ '(' + $store.state.currentLocation.lat + ', ' +\n                    $store.state.currentLocation.lng + ')' }}</div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (Refresh Page) -->\n          <v-list-item @click.stop=\"ShowConfirmDialog('Confirm', $t('Are you sure you need to refresh?'), 'Refresh')\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/Refresh.svg`)\" height=\"30px\" style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ fontSize: '10px' }\">{{ $t('Refresh Page') }}</div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- (Data Credits) -->\n          <v-list-item @click.stop=\"toggleStoreValue('showDataCreditsDialog')\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DataCredits.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Data Credits')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n        </v-list>\n      </v-layout>\n    </v-navigation-drawer>\n\n\n\n\n    <v-main>\n\n      <canvas v-show=false id=\"TestCanvas\" width=\"1920\" height=\"1080\"></canvas>\n\n      <v-container class=\"fill-height\" fluid style=\"padding: 0\">\n        <div id=\"stel\" v-bind:class=\"{ right_panel: $store.state.showSidePanel }\">\n          <div style=\"position: relative; width: 100%; height: 100%\">\n            <component v-bind:is=\"guiComponent\"></component>\n            <canvas id=\"stel-canvas\" ref='stelCanvas' :style=\"{ zIndex: canvasZIndexStel }\"></canvas>\n            <canvas ref=\"mainCanvas\" id=\"mainCamera-canvas\" :style=\"{ zIndex: canvasZIndexMainCamera }\"\n              @click=\"handleMainCanvasClick\" @touchstart=\"handleTouchStart\" @touchmove=\"handleTouchMove\"\n              @touchend=\"handleTouchEnd\" @mousedown=\"handleMouseDown\" @mouseup=\"handleMouseUp\"\n              @mousemove=\"handleMouseMove\" @wheel=\"handleWheel\">\n            </canvas>\n            <canvas ref=\"guiderCanvas\" id=\"guiderCamera-canvas\" :style=\"{ zIndex: canvasZIndexGuiderCamera }\"\n              @click=\"handleGuiderCanvasClick\"></canvas>\n            <!-- <img id=\"imageSrc\" alt=\"Source\" :src=\"imageSrc\" crossOrigin = \"\" /> -->\n            <ProgressBar :progress=\"progressValue\" :description=\"progressDescription\" :showDescription=\"true\"\n              :isShow=\"currentcanvas === 'MainCamera'\" />\n          </div>\n        </div>\n\n\n      </v-container>\n    </v-main>\n\n    <v-dialog v-model=\"showDisconnectDialog\" persistent max-width=\"290\">\n      <v-card>\n        <v-card-title class=\"text-h5\">Confirm Action</v-card-title>\n        <v-card-text>Are you sure you want to disconnect the driver {{ currentDisconnectDriverName }}?</v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"red darken-1\" text @click=\"showDisconnectDialog = false\">Cancel</v-btn>\n          <v-btn color=\"green darken-1\" text @click=\"confirmDisconnect\">Confirm</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!--  -->\n    <div v-if=\"calibrationInfo.isCalibrating || calibrationInfo.calibrationState === 'complete'\" class=\"calibration-info-box\">\n      <div class=\"calibration-content\">\n        <div class=\"calibration-title\">{{ $t('Focuser Travel Calibration') }}</div>\n        <div class=\"calibration-message\">{{ calibrationInfo.calibrationMessage }}</div>\n        <div class=\"calibration-progress\">{{ $t('Step') }} {{ calibrationInfo.calibrationStep }}/3</div>\n      </div>\n    </div>\n\n  </v-app>\n\n</template>\n\n<script>\nimport _ from 'lodash'\nimport Gui from '@/components/gui.vue'\nimport GuiLoader from '@/components/gui-loader.vue'\nimport swh from '@/assets/sw_helpers.js'\nimport Moment from 'moment'\nimport BackgroundImage from '@/assets/images/svg/ui/Background.svg';\nimport ErrorImage from '@/assets/images/svg/ui/errorImage.svg';\nimport ProgressBar from '@/components/ProgressBar.vue';\n\nlet glTestCircle;\nlet glLayer;\nlet glStel;\n\nexport default {\n  data(context) {\n    return {\n      menuItems: [\n        { title: this.$t('View Settings'), icon: 'mdi-settings', store_var_name: 'showViewSettingsDialog', store_show_menu_item: 'showViewSettingsMenuItem' },\n        { title: this.$t('Planets Tonight'), icon: 'mdi-panorama-fisheye', store_var_name: 'showPlanetsVisibilityDialog', store_show_menu_item: 'showPlanetsVisibilityMenuItem' },\n        { divider: true }\n      ].concat(this.getPluginsMenuItems()).concat([\n        { title: this.$t('Data Credits'), footer: true, icon: 'mdi-copyright', store_var_name: 'showDataCreditsDialog' }\n      ]),\n      menuComponents: [].concat(this.getPluginsMenuComponents()),\n      guiComponent: 'GuiLoader',\n      startTimeIsSet: false,\n      initDone: false,\n      dataSourceInitDone: false,\n      imageSrc: 'https://i.imgur.com/egA5FIv.jpeg', // \n      cvReady: false,\n      canvasZIndexStel: -10,\n      canvasZIndexMainCamera: -11,\n      canvasZIndexGuiderCamera: -12,\n      currentcanvas: 'Stel',\n\n      WebSocketUrl: '',\n\n      websocket: null,\n      message: '',\n      receivedMessages: [],// \n      sentMessages: [], // \n      messageCounter: 0, // ID\n      websocketState: 'disconnected', // WebSocket\n      networkDisconnected: false, // \n\n      QTClientVersion: 'Not connected',\n      VueClientVersion: process.env.VUE_APP_VERSION,\n\n      // \n      calibrationInfo: {\n        isCalibrating: false,\n        calibrationState: 'idle',\n        calibrationStep: 0,\n        calibrationMessage: ''\n      },\n\n      // isMessageBoxShow: false,\n\n      CurrentDriverType: '',\n      DeviceIsConnected: null,\n      confirmDriverType: '',\n\n      MainCameraOffsetMin: 0,\n      MainCameraOffsetMax: 0,\n\n      MainCameraGainMin: 0,\n      MainCameraGainMax: 0,\n\n      devices: [\n        { name: '', driverType: 'Guider', type: 'CCDs', ListNum: \"1\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Guider' },\n        { name: '', driverType: 'MainCamera', type: 'CCDs', ListNum: \"20\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_MainCamera' },\n        { name: '', driverType: 'Mount', type: 'Telescopes', ListNum: \"0\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Mount' },\n        { name: '', driverType: 'Telescopes', device: '', isConnected: true },\n        { name: '', driverType: 'Focuser', type: 'Focusers', ListNum: \"22\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Focuser' },\n        { name: '', driverType: 'PoleCamera', type: 'CCDs', ListNum: \"2\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_PoleCamera' },\n        { name: '', driverType: 'CFW', type: 'Filter Wheels', ListNum: \"21\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_CFW' },\n      ],\n\n      // Changing the label name also requires changing the emit signal name\n      GuiderConfigItems: [\n        { driverType: 'Guider', label: 'Guider Focal Length (mm)', value: '', inputType: 'text' },\n        { driverType: 'Guider', label: 'Multi Star Guider', value: false, inputType: 'switch' },\n        // { driverType: 'Guider', label: 'Guider Pixel size', value: '', inputType: 'text'},\n        { driverType: 'Guider', label: 'Guider Gain', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n        { driverType: 'Guider', label: 'Calibration step (ms)', value: '', inputType: 'text' },\n        { driverType: 'Guider', label: 'Ra Aggression', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n        { driverType: 'Guider', label: 'Dec Aggression', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n\n      ],\n\n      MainCameraConfigItems: [\n        // vue\n        { driverType: 'MainCamera', label: 'ImageCFA', value: '', inputType: 'select', selectValue: ['GR', 'GB', 'BG', 'RGGB', 'null'] },\n        // \n        { driverType: 'MainCamera', label: 'Binning', value: '', inputType: 'slider', inputMin: 1, inputMax: 4, inputStep: 1 },\n        { driverType: 'MainCamera', label: 'Temperature', value: '', inputType: 'select',selectValue : [5,0,-5,-10,-15,-20,-25] },\n        { driverType: 'MainCamera', label: 'Gain', value: '', inputType: 'slider', inputMin: 0, inputMax: 0, inputStep: 1 },\n        { driverType: 'MainCamera', label: 'Offset', value: '', inputType: 'slider', inputMin: 0, inputMax: 0, inputStep: 1 },\n        // vue\n        // { driverType: 'MainCamera', label: 'ImageGainR', value: '1', inputType: 'slider', inputMin: 0, inputMax: 3, inputStep: 0.01 },\n        // { driverType: 'MainCamera', label: 'ImageGainB', value: '1', inputType: 'slider', inputMin: 0, inputMax: 3, inputStep: 0.01 },\n        // { driverType: 'MainCamera', label: 'ImageOffset', value: '', inputType: 'slider', inputMin: 0, inputMax: 255, inputStep: 0.1 },\n        // { driverType: 'MainCamera', label: 'RedBox Side Length (px)', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [1]', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [2]', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [3]', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [4]', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [5]', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [6]', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [7]', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [8]', value: '', inputType: 'text' },\n        // { driverType: 'MainCamera', label: 'ExpTime [9]', value: '', inputType: 'text' },\n        // \n      ],\n\n      MountConfigItems: [\n\n      ],\n\n      TelescopesConfigItems: [\n        { driverType: 'Telescopes', num: 1, label: 'Focal Length (mm)', value: '', inputType: 'text' },\n      ],\n\n      FocuserConfigItems: [\n        { driverType: 'Focuser', num: 2, label: 'Sync Focuser Step', value: '', inputType: 'text' },\n        { driverType: 'Focuser', num: 2, label: 'Min Limit', value: '', inputType: 'number' },\n        { driverType: 'Focuser', num: 2, label: 'Max Limit', value: '', inputType: 'number' },\n      ],\n\n      PoleCameraConfigItems: [\n\n      ],\n\n      CFWConfigItems: [\n\n      ],\n\n      BeforeChangeConfigItems: [],\n\n\n\n      imageData: null,\n\n      histogramImage: null,\n      histogram_min: 0,    // \n      histogram_max: 255,  // \n\n      currentHistogramMin: 0,\n      currentHistogramMax: 255,\n\n      ImageGainR: 1,\n      ImageGainB: 1,\n\n      ImageOffset: 0,\n\n      ImageCFA: 'BG',\n\n      cameraBin: 1,   // binning\n\n      CanvasWidth: 1920,  // \n      CanvasHeight: 1080, // \n\n      scale: 1, // \n      translateX: 0, // x\n      translateY: 0, // y\n      bufferCanvas: null, // \n      bufferCtx: null, // \n      tempCanvas: null, // \n      tempCtx: null, // \n\n      visibleWidth: 0, // \n      visibleHeight: 0, // \n      visibleX: 0, // x\n      visibleY: 0, // y\n      isDragging: false, // \n      pendingScaleChange: false, // \n\n      touchStartX: 0, // x\n      touchStartY: 0, // y\n      startDistance: 0, // \n\n      moveIntervalId: null, // \n      zoomIntervalId: null, // \n\n\n      imageWidth: 0, // \n      imageHeight: 0, // \n      drawImgData: null,\n      OriginalImage: null,\n      detectStarsImg: null,\n\n      isNotDrawStars: true,\n\n      mainCameraSizeX: 0,\n      mainCameraSizeY: 0,\n\n      ImageProportion: 0,\n\n      DetectedStarsList: [],\n      DetectedStarsFinish: false,\n\n      CartesianList: [],\n\n      PolarPoint_Altitude: 0,\n\n      LastPoint_AzAlt: null,\n\n      MarkCircleNum: 0,\n\n      LastCircle_RaDec: null,\n      LastCircle_AzAlt: null,\n\n      Circles: [],\n      \n      // \n      calibrationCircles: [],  // \n      adjustmentCircles: [],   // \n      lastPosition: null,      // \n      fieldUpdateTimer: null,  // \n      fieldOfViewPolygons: [], // \n\n      drawer_2: null,    // \n\n      drivers: [], // \n      selectedDriver: null, // \n\n      devicesList: [], // \n      selectedDevice: null, // \n      ToBeConnectDevice: [],\n\n      loadingSelectDriver: false,\n      loadingConnectAllDevice: false,\n\n      CurrentLocationLng: 0,\n      CurrentLocationLat: 0,\n\n      histogramData: [],\n\n      ImageArrayBuffer: null,\n\n      isOpenDevicePage: false, // \n      isOpenPowerPage: false, // \n\n      OutPutPower_1_ON: true,\n      OutPutPower_2_ON: false,\n\n      isPolarAxisMode: false,\n\n      isTouching: false, // \n      ConnectBtnPressTimer: null,\n      ConnectBtnlongPressThreshold: 1000,\n      isConnectBtnLongPress: false, // \n      ConnectBtnCanClick: true,\n\n\n      haveDeviceConnect: false,\n      isConnecting: false, // \n\n      disconnectTimeoutTriggered: false,\n      disconnectTimeout: null,\n\n      isDownloadingImage: false,\n      isDownloadingImageName: '',\n      isWaitingLogged: false, // \n\n      showDisconnectDialog: false,\n      currentDisconnectDriverName: '',\n\n      enableMainCanvasClick: false, // \n\n      lastImageProcessParams: { // \n        blackLevel: 0,\n        whiteLevel: 65535,\n        CFA: 'null',\n        analysis: null,\n        isColorCamera: false,\n      },\n      focuserPictureFileName: '',  // \n      isProcessingImage: false,   // \n      isFocusLoopShooting: false,  // ROi\n      focuserROIStarsList: [],  // ROIx,y,HFR\n      selectStarX: -1,\n      selectStarY: -1,\n      DrawSelectStarX: -1,\n      DrawSelectStarY: -1,\n      DrawSelectStarHFR: -1,\n      ROI_x: -1,    // ROIx,vue\n      ROI_y: -1,    // ROIy,vue\n      ROI_x_qt: -1,    // ROIx,qt\n      ROI_y_qt: -1,    // ROIy,qt\n      ROI_length: 300, // ROI\n      showSelectStar: false,\n\n      isOneTouch: false,\n      currentTouchX: [0, 0],\n      currentTouchY: [0, 0],\n      startTouchX: [0, 0],\n      startTouchY: [0, 0],\n      startTouchDistance: 0,\n\n      // \n      BaudRateItems: [\n        { label: '9600', value: 9600 },\n        { label: '19200', value: 19200 },\n        { label: '38400', value: 38400 },\n        { label: '57600', value: 57600 },\n        { label: '115200', value: 115200 },\n        { label: '230400', value: 230400 },\n      ],\n      BaudRateSelected: 9600, // \n      cpuTemp: null,  // CPU\n      cpuUsage: null, // CPU\n\n      progressValue: 0,// \n      progressDescription: '', // \n\n      calculateGain: true, // \n      lutCache : {\n        lastParams: null, // \n        lutR: null,\n        lutG: null,\n        lutB: null\n      },\n    }\n  },\n  components: {\n    Gui,\n    GuiLoader,\n    ProgressBar,\n    // MessageBox,\n  },\n  created() {\n    this.$bus.$on('AppSendMessage', this.sendMessage);\n    this.$bus.$on('AppUpdateDevices', this.updateDevices);\n    this.$bus.$on('Switch-MainPage', this.handleButtonTestClick);\n    this.$bus.$on('HandleHistogramNum', this.applyHistStretch);\n    this.$bus.$on('ImageGainR', this.ImageGainSet);\n    this.$bus.$on('ImageGainB', this.ImageGainSet);\n    this.$bus.$on('Offset', this.ImageOffsetSet);\n    this.$bus.$on('Binning', this.BinningSet);\n    this.$bus.$on('Gain', this.GainSet);\n    this.$bus.$on('Offset', this.OffsetSet);\n    this.$bus.$on('ImageCFA', this.ImageCFASet);\n    // this.$bus.$on('MainCameraCFA', this.ImageCFASet);\n    this.$bus.$on('Temperature', this.CameraTemperatureSet);\n    this.$bus.$on('Focal Length (mm)', this.FocalLengthSet);\n    this.$bus.$on('Guider Focal Length (mm)', this.GuiderFocalLengthSet);\n    this.$bus.$on('Multi Star Guider', this.MultiStarGuiderSet);\n    this.$bus.$on('Guider Pixel size', this.GuiderPixelSizeSet);\n    this.$bus.$on('Guider Gain', this.GuiderGainSet);\n    this.$bus.$on('Calibration step (ms)', this.CalibrationDurationSet);\n    this.$bus.$on('Ra Aggression', this.RaAggressionSet);\n    this.$bus.$on('Dec Aggression', this.DecAggressionSet);\n    this.$bus.$on('Sync Focuser Step', this.SyncFocuserStep);\n    this.$bus.$on('ImageProportion', this.setImageProportion);\n    this.$bus.$on('MountGoto', this.lookatcircle);\n    this.$bus.$on('SwitchImageToShow', this.SwitchImageToShow);\n    this.$bus.$on('PolarPointAltitude', this.setPolarPointAltitude);\n    this.$bus.$on('showStelCanvas', this.showStelCanvas);\n    this.$bus.$on('RecalibratePolarAxis', this.RecalibratePolarAxis);\n    this.$bus.$on('CurrentExpTimeList', this.CurrentExpTimeList);\n    this.$bus.$on('disconnectAllDevice', this.disconnectAllDevice);\n    this.$bus.$on('GetConnectedDevices', this.ReturnConnectedDevices);\n    this.$bus.$on('CurrentCFWList', this.CurrentCFWList);\n    this.$bus.$on('calcWhiteBalanceGains', this.calcWhiteBalanceGains);\n    this.$bus.$on('SwitchOutPutPower', this.SwitchOutPutPower);\n    this.$bus.$on('PolarAxisMode', this.PolarAxisMode);\n    this.$bus.$on('SendConsoleLogMsg', this.SendConsoleLogMsg);\n    // this.$bus.$on('DisconnectDriverSuccess', this.disconnectDriversuccess);\n    this.$bus.$on('UnBindingDevice', this.UnBindingDevice);\n    this.$bus.$on('CloseWebView', this.QuitToMainApp)\n    this.$bus.$on('RedBoxSizeChange', this.RedBoxSizeChange);\n    this.$bus.$on('setFocuserState', this.setFocuserState);  // \n    this.$bus.$on('setShowSelectStar', this.setShowSelectStar);  // \n    this.$bus.$on('ScaleChange', this.ScaleChange);\n    this.$bus.$on('showCanvas', this.showCanvas);\n    \n    // \n    this.$bus.$on('DrawCalibrationPointPolygon', this.drawCalibrationPointPolygon);\n    this.$bus.$on('ClearCalibrationPoints', this.clearCalibrationPoints);\n    this.$bus.$on('DrawAdjustmentPointsPolygon', this.drawAdjustmentPointsPolygon);\n    \n    // \n    this.$bus.$on('StartCalibration', this.startCalibrationProcess);\n    this.$bus.$on('UpdateCalibrationInfo', this.updateCalibrationInfo);\n    this.$bus.$on('EndCalibration', this.endCalibration);\n    \n    this.memoryCheckInterval = setInterval(this.checkMemoryUsage, 30000);\n    \n\n  },\n  methods: {\n    checkMemoryUsage() {\n      if (window.performance && window.performance.memory) {\n        const memoryInfo = window.performance.memory;\n        const used = Math.round(memoryInfo.usedJSHeapSize/1048576);\n        const limit = Math.round(memoryInfo.jsHeapSizeLimit/1048576);\n        \n        // console.log(`: ${used}MB / ${limit}MB`);\n        \n        if (memoryInfo.usedJSHeapSize > memoryInfo.jsHeapSizeLimit * 0.7) {\n          this.$bus.$emit('showWarning', this.$i18n.locale === 'cn' ? \n            '' : \n            'Memory usage is approaching limit. Please save your work and refresh the page.');\n            \n          // \n          if (window.gc) {\n            try { window.gc(); } catch (e) {}\n          }\n        }\n      }\n    },\n    \n\n    preventDefault(event) {\n      event.preventDefault();\n    },\n    getLocationHostName() {\n      const hostname = window.location.hostname;\n      const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n      const port = window.location.protocol === 'https:' ? '8601' : '8600';\n      this.SendConsoleLogMsg('location hostname:' + hostname, 'info');\n      this.WebSocketUrl = `${protocol}//${hostname}:${port}`;\n      console.log('WebSocketUrl:', this.WebSocketUrl);\n    },\n    getQTClientVersion() {\n      this.sendMessage('Vue_Command', 'getQTClientVersion');\n    },\n    connect() {\n      //  WebSocket \n      // this.websocket = new WebSocket('ws://192.168.2.31:8600');  // process.env.VUE_APP_WEBSOCKET\n      // this.websocket = new WebSocket(process.env.VUE_APP_WEBSOCKET);\n      const wsOptions = {\n        rejectUnauthorized: false  // \n      };\n      this.websocket = new WebSocket(this.WebSocketUrl, [], wsOptions);\n\n      this.websocket.onopen = () => {\n        this.websocketState = 'connected';\n        this.networkDisconnected = false; // WebSocket\n        if (this.disconnectTimeoutTriggered) {\n          this.callShowMessageBox('WebSocket connected', 'success');\n        }\n        this.$bus.$emit('ShowNetStatus', 'true');\n        this.StatusRecovery();\n        console.log('process.env.NODE_ENV:', process.env.NODE_ENV);\n      };\n\n      this.websocket.onmessage = (message) => {\n        // console.log('QHYCCD | Received message:', message.data);\n\n        const data = JSON.parse(message.data);\n\n        if (data.type === 'QT_Return') {\n          const parts = data.message.split(':');\n          let messageType;\n          if (parts.length > 0) {\n            messageType = parts[0];\n            // console.log('QHYCCD | ('+messageType+'):', parts);\n          }\n          else {\n            console.error(':', data.message);\n            return;\n          }\n          let acceptMessage = false;\n          if (data.message.startsWith('StagingScheduleData:')) {\n            console.log('------------------------------');\n            acceptMessage = true;\n            const parts = data.message.split('[');\n\n            if (parts.length > 0) {\n              console.log('parts.length: ', parts.length);\n              this.$bus.$emit('StagingScheduleData', data.message);\n            }\n            console.log('------------------------------');\n          }\n\n          if (data.message.startsWith('SendDebugMessage|')) {\n            acceptMessage = true;\n            const parts = data.message.split('|');\n            if (parts.length === 3) {\n              const type = parts[1];\n              const message = parts[2];\n              this.$bus.$emit('SendDebugMessage', type, message);\n            }\n          }\n\n          if (!acceptMessage) {\n            switch (messageType) {\n              case 'AddDriver':\n                if (parts.length === 3) {\n                  const label = parts[1];\n                  const value = parts[2];\n                  const type = this.CurrentDriverType;\n                  // \n                  const driver = { type, label, value };\n\n                  // if (type === 'MainCamera' && label === \"QHY CCD2\") {\n                  //   break;\n                  // }\n                  // if (type === 'Guider' && label === \"QHY CCD\") {\n                  //   break;\n                  // }\n\n                  // label\"QHY CCD\"\"QFocuser\"\n                  if (label === \"QHY CCD\" || label === \"QFocuser\" || label === \"QHY CCD2\") {\n                    this.drivers.unshift(driver); // \n                  } else {\n                    this.drivers.push(driver); // \n                  }\n                }\n                break;\n\n              case 'AddDevice':\n                if (parts.length === 2) {\n                  const label = parts[1];\n                  console.log('QHYCCD | AddDevice: ', label);\n                  // const value = parts[2];\n                  const type = this.confirmDriverType;\n                  // \n                  const device = { type, label, label };\n                  console.log('QHYCCD | AddDevice: ', device);\n                  // this.$bus.$emit('add-device', device);\n                  this.devicesList.push(device);\n\n                  this.ToBeConnectDevice = [];\n                  this.devicesList.forEach(devicesList => {\n                    if (devicesList.type === this.CurrentDriverType) {\n                      this.ToBeConnectDevice.push(devicesList);\n                    }\n                  });\n\n                  this.loadingSelectDriver = false;\n                }\n                break;\n\n              case 'updateDevices_':\n                if (parts.length === 3) {\n                  const ListNum = parts[1];\n                  const name = parts[2];\n                  this.updateDevices_(ListNum, name);\n                }\n                break;\n\n              case 'ConnectSuccess':\n                if (parts.length === 4) {\n                  const type = parts[1];\n                  const deviceName = parts[2];\n                  const driverName = parts[3];\n\n                  if (deviceName != '') {\n                    this.updateDevicesConnect(type, deviceName, driverName, true);\n                  } else {\n                    this.updateDevicesConnect(type, deviceName, driverName, false);\n                  }\n                }\n                break;\n\n              case 'ConnectFailed':\n                if (parts.length === 2) {\n                  const reason = parts[1];\n                  this.callShowMessageBox(reason, 'error');\n                  this.loadingConnectAllDevice = false;\n                }\n                break;\n\n              case 'ScanFailed':\n                if (parts.length === 2) {\n                  const reason = parts[1];\n                  this.callShowMessageBox(reason, 'error');\n                  this.loadingSelectDriver = false;\n                }\n                break;\n\n              case 'AddDeviceType':\n                if (parts.length === 2) {\n                  const DeviceType = parts[1];\n                  this.$bus.$emit('AddDeviceType', DeviceType);\n                }\n                break;\n\n              case 'DeviceToBeAllocated':\n                if (parts.length === 4) {\n                  const DeviceType = parts[1];\n                  const DeviceIndex = parts[2];\n                  const DeviceName = parts[3];\n                  this.$bus.$emit('DeviceToBeAllocated', DeviceIndex, DeviceName);\n                }\n                break;\n\n              case 'ShowDeviceAllocationWindow':\n                this.$bus.$emit('toggleDeviceAllocationPanel');\n                this.nav = false;\n                break;\n\n              case 'ExposureCompleted':\n                this.$bus.$emit('ExposureCompleted');\n                break;\n\n              case 'SaveJpgSuccess':\n                if (parts.length === 4) {\n                  const fileName = parts[1];\n                  const roi_x = parts[2];\n                  const roi_y = parts[3];\n                  // this.$bus.$emit('showRoiImage', fileName);\n                  this.showRoiImage(fileName, roi_x, roi_y);\n                }\n                break;\n\n              case 'SaveBinSuccess':\n                if (parts.length === 2) {\n                  const fileName = parts[1];\n                  this.readBinFile('img/' + fileName);\n                  this.DetectedStarsFinish = false;\n                }\n                break;\n\n\n              case 'SaveGuiderImageSuccess':\n                if (parts.length === 2) {\n                  const fileName = parts[1];\n                  this.loadAndDisplayImage('img/' + fileName);\n                }\n                break;\n              case 'GuideSize':\n                if (parts.length === 3) {\n                  const col = parts[1];\n                  const row = parts[2];\n                  this.$bus.$emit(\"GuideSize\",col,row);\n                }\n\n              case 'AddScatterChartData':\n                if (parts.length === 3) {\n                  const Data_x = parts[1];\n                  const Data_y = parts[2];\n                  const newDataPoint = [Data_x, Data_y];\n                  this.$bus.$emit('AddScatterChartData', newDataPoint);\n                }\n                break;\n\n              case 'AddLineChartData':\n                if (parts.length === 4) {\n                  const Data_x = parts[1];\n                  const Data_Ra = parts[2];\n                  const Data_Dec = parts[3];\n                  const newDataPoint_Ra = [Data_x, Data_Ra];\n                  const newDataPoint_Dec = [Data_x, Data_Dec];\n                  this.$bus.$emit('AddLineChartData', newDataPoint_Ra, newDataPoint_Dec);\n                }\n                break;\n\n              case 'SetLineChartRange':\n                if (parts.length === 3) {\n                  const min = parts[1];\n                  const max = parts[2];\n                  this.$bus.$emit('SetLineChartRange', min, max);\n                }\n                break;\n\n              case 'GuiderStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('GuiderStatus', status);\n                }\n                break;\n\n              case 'FocusChangeSpeedSuccess':\n                if (parts.length === 2) {\n                  const Speed = parts[1];\n                  this.$bus.$emit('FocusChangeSpeedSuccess', Speed);\n                }\n                break;\n\n\n              case 'FocusPosition':\n                if (parts.length === 3) {\n                  const CurrentPosition = parts[1];\n                  const TargetPosition = parts[2];\n                  this.$bus.$emit('FocusPosition', CurrentPosition, TargetPosition);\n                }\n                break;\n\n              case 'FocusMoveDone':\n                if (parts.length === 3) {\n                  const CurrentPosition = parts[1];\n                  const FWHM = parts[2];\n                  this.$bus.$emit('UpdateFWHM', CurrentPosition, FWHM);\n                  this.$bus.$emit('addData_Point', CurrentPosition, FWHM);\n                }\n                break;\n\n              case 'addMinPointData_Point':\n                if (parts.length === 3) {\n                  const x = parseInt(parts[1]);\n                  const y = parseFloat(parts[2]);\n                  this.$bus.$emit('addMinPointData_Point', x, y);\n                }\n                break;\n              case 'addLineData_Point':\n                if (parts.length === 2) {\n                  const dataList = parts[1].split(',');  // \n                  const coordinates = [];\n                  for (let i = 0; i < dataList.length - 1; i += 2) {\n                    const x = parseInt(dataList[i]);\n                    const y = parseFloat(dataList[i + 1]);\n                    const coordinate = [x, y];\n                    coordinates.push(coordinate);\n                  }\n                  this.$bus.$emit('addLineData_Point', coordinates);\n                }\n                break;\n              case 'MainCameraSize':\n                if (parts.length === 3) {\n                  const SizeX = parts[1];\n                  const SizeY = parts[2];\n                  this.$bus.$emit('MainCameraSize', SizeX, SizeY);\n                  this.mainCameraSizeX = SizeX;\n                  this.mainCameraSizeY = SizeY;\n                }\n                break;\n\n              case 'MainCameraBinning':\n                if (parts.length === 2) {\n                  this.cameraBin = parseInt(parts[1]);\n                  this.MainCameraConfigItems.find(item => item.label === 'Binning').value = this.cameraBin;\n                  this.$bus.$emit('MainCameraBinning', this.cameraBin);\n                }\n                break;\n\n              case 'fitQuadraticCurve':\n                this.$bus.$emit('ClearfitQuadraticCurve');\n                for (let x = 0; x <= 601; x += 1) {\n                  const a = parts[x];\n                  const b = a.split('|');\n                  if (b.length === 2) {\n                    const x = b[0];\n                    const y = b[1];\n                    this.$bus.$emit('fitQuadraticCurve', x, y);\n                  }\n                }\n                break;\n\n              case 'fitQuadraticCurve_minPoint':\n                const x = parts[1];\n                const y = parts[2];\n                this.$bus.$emit('fitQuadraticCurve_minPoint', x, y);\n                break;\n\n\n              case 'TelescopePark':\n                if (parts.length === 2) {\n                  const Switch = parts[1];\n                  this.$bus.$emit('MountParkSwitch', Switch);\n                }\n                break;\n\n              case 'TelescopeTrack':\n                if (parts.length === 2) {\n                  const Switch = parts[1];\n                  this.$bus.$emit('MountTrackSwitch', Switch);\n                }\n                break;\n\n              case 'MountSetSpeedSuccess':\n                if (parts.length === 2) {\n                  const num = parts[1];\n                  this.$bus.$emit('newMountSlewRate', num);\n                }\n                break;\n\n\n              case 'TelescopePierSide':\n                if (parts.length === 2) {\n                  const Side = parts[1];\n                  this.$bus.$emit('updateMountPierSide', Side);\n                }\n                break;\n\n              case 'TelescopeTotalSlewRate':\n                if (parts.length === 2) {\n                  const num = parts[1];\n                  this.$bus.$emit('MountTotalSlewRate', num);\n                }\n                break;\n\n\n              case 'UpdateScheduleProcess':\n                if (parts.length === 3) {\n                  const RowNum = parts[1];\n                  const Process = parts[2];\n                  this.$bus.$emit('UpdateScheduleProcess', RowNum, Process);\n                }\n                break;\n\n              case 'ExpTimeList':\n                if (parts.length === 2) {\n                  this.$bus.$emit('initExpTimeList', parts[1]);\n                }\n                break;\n\n\n              case 'CameraInExposuring':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('CameraInExposuring', status);\n                }\n                break;\n\n              case 'AutoFocusOver':\n                this.$bus.$emit('AutoFocusOver');\n                break;\n\n              case 'CFWPositionMax':\n                if (parts.length === 2) {\n                  this.$bus.$emit('SetCFWPositionMax', parts[1]);\n\n                  for (let i = 1; i <= parts[1]; i++) {\n                    this.CFWConfigItems.push({ driverType: 'CFW', label: `CFW [${i}]`, value: '', inputType: 'text' });\n                  }\n\n                  this.$bus.$emit('AppSendMessage', 'Vue_Command', 'getCFWList');\n                }\n                break;\n\n\n              case 'SetCFWPositionSuccess':\n                if (parts.length === 2) {\n                  this.$bus.$emit('SetCFWPositionSuccess', parts[1]);\n                }\n                break;\n\n              case 'getCFWList':\n                if (parts.length === 2) {\n                  this.$bus.$emit('initCFWList', parts[1]);\n                }\n                break;\n\n              case 'GuiderSwitchStatus':\n                if (parts.length === 2) {\n                  this.$bus.$emit('GuiderSwitchStatus', parts[1]);\n                }\n                break;\n\n              case 'GuiderLoopExpStatus':\n                if (parts.length === 2) {\n                  this.$bus.$emit('GuiderLoopExpStatus', parts[1]);\n                }\n                break;\n\n              case 'TelescopeRADEC':\n                if (parts.length === 3) {\n                  this.UpdateCirclePos(parts[1], parts[2]);\n                  this.$bus.$emit('updateCurrentLocation',parts[1], parts[2]);\n                }\n                break;\n\n\n              case 'TelescopeStatus':\n                if (parts.length === 2) {\n                  this.UpdateTelescopeStatus(parts[1]);\n                }\n                break;\n\n              case 'MainCameraStatus':\n                if (parts.length === 2) {\n                  this.UpdateMainCameraStatus(parts[1]);\n                }\n                break;\n\n\n              case 'MainCameraTemperature':\n                if (parts.length === 2) {\n                  this.UpdateMainCameraTemperature(parts[1]);\n                }\n                break;\n\n\n              case 'ShowAllImageFolder':\n                if (parts.length === 3) {\n                  this.$bus.$emit('ShowAllImageFolder', parts[1], parts[2]);\n                }\n                break;\n\n\n              case 'ImageFilesName':\n                if (parts.length === 2) {\n                  this.$bus.$emit('ImageFilesName', parts[1]);\n                }\n                break;\n\n\n              case 'USBCheck':\n                if (parts.length === 2) {\n                  const USBdata = parts[1].split(',');\n                  console.log('USB name: ', USBdata[0]);\n                  console.log('USB space: ', USBdata[1]);\n                  this.SendConsoleLogMsg('USB name:' + USBdata[0], 'info');\n                  this.SendConsoleLogMsg('USB space:' + USBdata[1], 'info');\n\n                  this.$bus.$emit('USB_Name_Sapce', USBdata[0], USBdata[1]);\n                }\n                break;\n\n              case 'ImageSaveErroe':\n                if (parts.length === 2) {\n                  const Erroe = parts[1];\n                  if (Erroe === 'USB-Null') {\n                    this.callShowMessageBox('No USB Drive Detected.', 'error');\n                  } else if (Erroe === 'USB-Multiple') {\n                    this.callShowMessageBox('Multiple USB drives detected, please remove excess USB drives.', 'error');\n                  }\n                }\n                break;\n\n              case 'DetectedStars':\n                console.log('Detected', parts.length, 'stars.');\n                this.SendConsoleLogMsg('Detected ' + parts.length + ' stars.', 'info');\n                this.DetectedStarsList = [];\n                for (let i = 0; i < parts.length; i++) {\n                  const a = parts[i];\n                  const b = a.split('|');\n                  if (b.length === 3) {\n                    const x = b[0];\n                    const y = b[1];\n                    const hfr = b[2];\n                    // console.log('Stars at(', x, ',', y, ') with HFR:', hfr);\n                    this.DetectedStarsList.push({ x: x, y: y, hfr: hfr });\n                  }\n                }\n                this.DetectedStarsFinish = true;\n                break;\n\n              case 'SolveImageResult':\n                if (parts.length === 5) {\n                  // this.UpdateCirclePos(parts[1], parts[2]);\n                  console.log('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):', parts[1], ',', parts[2], ',', parts[3], ',', parts[4]);\n                  this.SendConsoleLogMsg('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):' + parts[1] + ',' + parts[2] + ',' + parts[3] + ',' + parts[4], 'info');\n                  this.SolveResultMark(parts[1], parts[2], parts[3], parts[4]);\n                  this.$bus.$emit(\"ImageSolveFinished\", true);\n                  this.$bus.$emit('setParsingProgress', false);\n                }\n                break;\n\n              case 'SolveFovResult':\n                if (parts.length === 9) {\n                  const RaDec = [\n                    { Ra: parts[1], Dec: parts[2] },\n                    { Ra: parts[3], Dec: parts[4] },\n                    { Ra: parts[5], Dec: parts[6] },\n                    { Ra: parts[7], Dec: parts[8] },\n                  ];\n                  this.SolveFovMark(RaDec);\n                }\n                break;\n\n              case 'RealTimeSolveImageResult':\n                if (parts.length === 5) {\n                  console.log('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):', parts[1], ',', parts[2], ',', parts[3], ',', parts[4]);\n                  this.SendConsoleLogMsg('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):' + parts[1] + ',' + parts[2] + ',' + parts[3] + ',' + parts[4], 'info');\n                  const result = this.SolveResultMark_RealTime(parts[1], parts[2], parts[3], parts[4])\n                }\n                break;\n\n              case 'SolveImagefailed':\n                this.callShowMessageBox('Solve image faild...', 'error');\n                this.$bus.$emit(\"ImageSolveFinished\", false);\n                this.$bus.$emit('setParsingProgress', false);\n                this.$bus.$emit('MountOperationComplete', 'solve');\n                break;\n\n              case 'MainCameraOffsetRange':\n                if (parts.length === 3) {\n                  console.log('MainCameraOffsetRange:', parts[1], ',', parts[2]);\n                  this.SendConsoleLogMsg('MainCameraOffsetRange:' + parts[1] + ',' + parts[2], 'info');\n                  this.MainCameraOffsetMin = parts[1];\n                  this.MainCameraOffsetMax = parts[2];\n\n                  const OffsetItem = this.MainCameraConfigItems.find(item => item.label === 'Offset');\n                  if (OffsetItem) {\n                    console.log('MainCameraOffsetRange:', parseInt(this.MainCameraOffsetMin, 10), ',', parseInt(this.MainCameraOffsetMax, 10));\n                    OffsetItem.inputMin = parseInt(this.MainCameraOffsetMin, 10);\n                    OffsetItem.inputMax = parseInt(this.MainCameraOffsetMax, 10);\n                  }\n                }\n                break;\n\n              case 'MainCameraGainRange':\n                if (parts.length === 3) {\n                  console.log('MainCameraGainRange:', parts[1], ',', parts[2]);\n                  this.SendConsoleLogMsg('MainCameraGainRange:' + parts[1] + ',' + parts[2], 'info');\n                  this.MainCameraGainMin = parts[1];\n                  this.MainCameraGainMax = parts[2];\n\n                  const gainItem = this.MainCameraConfigItems.find(item => item.label === 'Gain');\n                  if (gainItem) {\n                    console.log('MainCameraGainRange:', parseInt(this.MainCameraGainMin, 10), ',', parseInt(this.MainCameraGainMax, 10));\n                    gainItem.inputMin = parseInt(this.MainCameraGainMin, 10);\n                    gainItem.inputMax = parseInt(this.MainCameraGainMax, 10);\n                  }\n                }\n                break;\n\n              case 'OutputPowerStatus':\n                if (parts.length === 3) {\n                  const index = parseInt(parts[1], 10);\n                  const value = parseInt(parts[2], 10);\n\n                  if (index === 1) {\n                    this.OutPutPower_1_ON = value === 1;\n                  } else if (index === 2) {\n                    this.OutPutPower_2_ON = value === 1;\n                  }\n                }\n                break;\n\n              case 'PHD2StarBoxView':\n                if (parts.length === 2) {\n                  const view = parts[1];\n                  this.$bus.$emit('PHD2StarBoxView', view);\n                }\n                break;\n\n              case 'PHD2StarCrossView':\n                if (parts.length === 2) {\n                  const view = parts[1];\n                  this.$bus.$emit('PHD2StarCrossView', view);\n                }\n                break;\n\n              case 'PHD2StarBoxPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Box_X = parseInt(parts[3], 10);\n                  const Box_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2Box(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y);\n                }\n                break;\n\n              case 'PHD2MultiStarsPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Box_X = parseInt(parts[3], 10);\n                  const Box_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2MultiStars(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y);\n                }\n                break;\n\n              case 'ClearPHD2MultiStars':\n                this.$bus.$emit('ClearPHD2MultiStars');\n                break;\n\n              case 'PHD2StarCrossPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Cross_X = parseInt(parts[3], 10);\n                  const Cross_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2Cross(PHD2ImageSize_X, PHD2ImageSize_Y, Cross_X, Cross_Y);\n                }\n                break;\n\n              case 'QTClientVersion':\n                if (parts.length === 2) {\n                  this.QTClientVersion = parts[1];\n                }\n                break;\n\n\n              case 'CaptureImageSaveStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  if (status === 'Repeat') {\n                    this.callShowMessageBox(this.$t('There is no need to save it again'), 'error');\n                  } else if (status === 'Success') {\n                    this.callShowMessageBox(this.$t('Image saved successfully'), 'success');\n                  } else if (status === 'Null') {\n                    this.callShowMessageBox(this.$t('No images to save'), 'error');\n                  }\n                }\n                break;\n\n              case 'INDIServerDebug':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('INDIServerDebug', message);\n                }\n                break;\n\n              case 'HotspotName':\n                if (parts.length === 2) {\n                  const Name = parts[1];\n                  this.$bus.$emit('HotspotName', Name);\n                }\n                break;\n\n              case 'EditHotspotNameSuccess':\n                this.$bus.$emit('EditHotspotNameSuccess');\n                break;\n\n              case 'DSLRsSetup':\n                if (parts.length === 2) {\n                  const Name = parts[1];\n                  this.$bus.$emit('ShowDSLRsSetup', Name);\n                }\n                break;\n\n              case 'ConfigureRecovery':\n                if (parts.length === 3) {\n                  const ConfigName = parts[1];\n                  const ConfigValue = parts[2];\n                  console.log('Configure:', ConfigName, ',', ConfigValue);\n                  this.SendConsoleLogMsg('Configure Recovery:' + parts[1] + ',' + parts[2], 'info');\n                  this.$bus.$emit(ConfigName, ConfigValue);\n\n                  if (parts[1] === 'FocalLength') {\n                    this.TelescopesConfigItems[0].value = parts[2];\n                    for (const device of this.devices) {\n                      if (device.driverType === 'Telescopes') {\n                        if (parts[2] === '' || parts[2] === NaN) {\n                          device.device = '';\n                          device.isConnected = false;\n                        } else {\n                          device.device = parts[2] + ' mm';\n                          device.isConnected = true;\n                        }\n                      }\n                    }\n                  }\n\n                  if (parts[1] === 'GuiderFocalLength') {\n                    this.GuiderConfigItems[0].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderFocalLength:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'Coordinates') {\n                    const [latStr, lngStr, isAutoStr] = parts[2].split(',').map(item => item.trim());\n                    const lat = parseFloat(latStr);\n                    const lng = parseFloat(lngStr);\n                    const isAuto = isAutoStr === 'true' || isAutoStr === '1';\n                    this.SetCurrentLocation(lat, lng, isAuto);\n                  }\n\n                  if (parts[1] === 'MultiStarGuider') {\n                    this.GuiderConfigItems[1].value = (parts[2] === 'true');\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'MultiStarGuider:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'GuiderGain') {\n                    this.GuiderConfigItems[2].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderGain:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'CalibrationDuration') {\n                    this.GuiderConfigItems[3].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'CalibrationDuration:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'RaAggression') {\n                    this.GuiderConfigItems[4].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RaAggression:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'DecAggression') {\n                    this.GuiderConfigItems[5].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DecAggression:' + parts[2]);\n                  }\n                }\n                break;\n\n\n              case 'ConnectDriverSuccess':\n                if (parts.length === 2) {\n                  const device = parts[1];\n                  this.connectDriverSuccess(device);\n                }\n                break;\n\n              case 'ConnectDriverFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.connectDriverFailed(message);\n                }\n                break;\n\n              case 'DisconnectDriverSuccess':\n                if (parts.length === 2) {\n                  const device = parts[1];\n                  this.disconnectDriversuccess(device);\n                }\n                break;\n\n              case 'DisconnectDriverFail':\n                if (parts.length === 2) {\n                  const driver = parts[1];\n                  this.disconnectDriverFail(device)\n                }\n\n              case 'SelectedDriverList':\n                if (parts.length >= 3) {\n                  const deviceObjects = parts.slice(1).reduce((acc, part, index, array) => {\n                    if (index % 2 === 0) {\n                      acc.push({ [array[index]]: array[index + 1] });\n                    }\n                    return acc;\n                  }, []);\n                  this.loadSelectedDriverList(deviceObjects);\n                }\n                break;\n\n\n              case 'BindDeviceList':\n                if (parts.length >= 3) {\n                  const deviceObjects = parts.slice(1).reduce((acc, part, index, array) => {\n                    if (index % 2 === 0) {\n                      acc.push({ [array[index]]: array[index + 1] });\n                    }\n                    return acc;\n                  }, []);\n                  this.loadBindDeviceList(deviceObjects);\n                }\n                break;\n\n\n              case 'BindDeviceTypeList':\n                if (parts.length >= 5) { // \n                  const deviceTypeObjects = [];\n                  for (let i = 1; i < parts.length; i += 4) {\n                    const deviceTypeObject = {\n                      Type: parts[i],\n                      DeviceName: parts[i + 1],\n                      DriverName: parts[i + 2],\n                      isbind: parts[i + 3] == \"true\" ? true : false,\n                    };\n                    deviceTypeObjects.push(deviceTypeObject);\n                  }\n                  this.loadBindDeviceTypeList(deviceTypeObjects);\n                }\n                break;\n\n              case 'deleteDeviceAllocationList':\n                if (parts.length === 2) {\n                  const deviceName = parts[1];\n                  this.deleteDeviceAllocationList(deviceName);\n                }\n                break;\n\n              case 'deleteDeviceTypeAllocationList':\n                if (parts.length === 2) {\n                  const deviceType = parts[1];\n                  if (deviceType != '') {\n                    this.$bus.$emit('deleteDeviceTypeAllocationList', deviceType);\n                  }\n                  if (deviceType == 'CFW') {\n                    for (let i = 0; i < this.devices.length; i++) {\n                      if (this.devices[i].driverType == 'CFW') {\n                        this.devices[i].isConnected = false;\n                        this.devices[i].device = '';\n                        this.devices[i].driverName = '';\n                        this.devices[i].BaudRate = 9600;\n                        this.$bus.$emit('CFWConnected', 0);\n                      }\n                    }\n                  }\n                }\n                break;\n\n              case 'ParseInfoEmitted':\n                if (parts.length === 2) {\n                  const progress = parts[1];\n                  this.$bus.$emit('ParseInfoEmitted', progress);\n                }\n                break;\n\n              case 'GuiderUpdateStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('GuiderUpdateStatus', parseInt(status, 10));\n                }\n                break;\n\n              case 'LoopSolveImageFinished':\n                this.$bus.$emit('LoopSolveImageFinished');\n                break;\n\n              case 'disconnectDevicehasortherdevice':\n                if (parts.length === 2) {\n                  const drivername = parts[1];\n                  this.showSelectdisconnectDriver(drivername);\n                }\n                break;\n\n              case 'getFocuserMoveState':\n                this.$bus.$emit('getFocuserMoveState');\n                break;\n\n              case 'FocusMoveToLimit':\n                if (parts.length === 2) {\n                  const errorlog = parts[1];\n                  this.callShowMessageBox(errorlog, 'error');\n                }\n                break;\n\n              case 'startFocusLoopFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('startFocusLoopFailed', message);\n                }\n                break;\n\n              case 'setFocuserLoopingState':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('setFocuserLoopingState', message);\n                  if (message == 'true') {\n                    this.isFocusLoopShooting = true;\n                  } else {\n                    this.isFocusLoopShooting = false;\n                  }\n                }\n                break;\n\n              case 'focuserROIStarsList':\n                if (parts.length === 4) {\n                  const x = parts[1];\n                  const y = parts[2];\n                  const HFR = parts[3];\n                  this.focuserROIStarsList.push({ x, y, HFR });\n                }\n                break;\n\n              // case 'clearFocuserROIStarsList':\n              //   this.focuserROIStarsList = [];\n              //   break;\n\n              case 'setSelectStarPosition':\n                if (parts.length === 4) {\n                  this.DrawSelectStarX = parseFloat(parts[1]);\n                  this.DrawSelectStarY = parseFloat(parts[2]);\n                  this.DrawSelectStarHFR = parseFloat(parts[3]);\n                }\n                break;\n\n              case 'SetRedBoxState':\n                if (parts.length === 6) {\n                  const length = parts[1];\n                  this.ROI_x = parseFloat(parts[2]);\n                  this.ROI_y = parseFloat(parts[3]);\n                  this.ROI_x_qt = parseFloat(parts[4]);\n                  this.ROI_y_qt = parseFloat(parts[5]);\n                  this.setRedBoxState(length, this.ROI_x, this.ROI_y, this.ROI_x_qt, this.ROI_y_qt);\n                  console.log('ROI: ', length, this.ROI_x, this.ROI_y);\n                }\n                break;\n\n              case 'SetVisibleArea':\n                if (parts.length === 4) {\n                  this.visibleX = parseFloat(parts[1]);\n                  this.visibleY = parseFloat(parts[2]);\n                  this.scale = parseFloat(parts[3]);\n                  this.$bus.$emit('setScale', this.scale);\n                  console.log(': ', this.visibleX, this.visibleY, this.scale);\n                  this.SendConsoleLogMsg('update VisibleArea x=' + this.visibleX + ', y=' + this.visibleY + ', scale=' + this.scale, 'info');\n                }\n                break;\n\n              case 'SetSelectStars':\n                if (parts.length === 3) {\n                  this.selectStarX = parseFloat(parts[1]);\n                  this.selectStarY = parseFloat(parts[2]);\n                  this.SendConsoleLogMsg('update SelectStars x=' + this.selectStarX + ', y=' + this.selectStarY, 'info');\n                }\n                break;\n\n              case 'updateCPUInfo':\n                if (parts.length === 3) {\n                  let cpuTemp = parseFloat(parts[1]);\n                  let cpuUsage = parseFloat(parts[2]);\n                  this.cpuTemp = isNaN(cpuTemp) ? null : (cpuTemp % 1 === 0 ? cpuTemp : cpuTemp.toFixed(1));  //  cpuTemp  NaN null cpuTemp \n                  this.cpuUsage = isNaN(cpuUsage) ? null : (cpuUsage % 1 === 0 ? cpuUsage : cpuUsage.toFixed(1));  //  cpuUsage  NaN null cpuUsage \n                  this.$bus.$emit('updateCPUInfo', this.cpuTemp, this.cpuUsage);\n                }\n                break;\n\n              case 'TianWen':\n                if (parts.length === 4) {\n                  const notice_type = parts[1];\n                  const ra = parts[2];\n                  const dec = parts[3];\n                  this.$bus.$emit('TianWen', notice_type, ra, dec);\n                }\n                break;\n\n              case 'setMainCameraParameters':\n                if (parts.length >= 3) {\n                  let parameters = {};\n                  for (let i = 1; i < parts.length; i += 2) {\n                    const parameter = parts[i];\n                    const value = parts[i + 1];\n                    parameters[parameter] = value;\n                  }\n                  this.setMainCameraParameters(parameters);\n                }\n                break;\n\n              case 'localMessage':\n                if (parts.length === 4) {\n                  const lat = parts[1];\n                  const lon = parts[2];\n                  const language = parts[3];\n                  this.SendConsoleLogMsg('2------------localMessage: ' + lat + ',' + lon + ',' + language, 'info');\n                  if (language == 'zh') {\n                    this.$bus.$emit('ClientLanguage', 'cn');\n                  } else {\n                    this.$bus.$emit('ClientLanguage', 'en');\n                  }\n                  this.$bus.$emit('setLocationLatAndLon', lat, lon);\n                }\n                break;\n\n              case 'isAutoLocation':\n                if (parts.length === 2) {\n                  const isAutoLocation = parts[1];\n                  this.$bus.$emit('isAutoLocation', isAutoLocation);\n                }\n                break;\n\n              case 'sendGetLocation':\n                if (parts.length === 3) {\n                  const lat = parts[1];\n                  const lon = parts[2];\n                  this.SendConsoleLogMsg('sendGetLocation: ' + lat + ',' + lon, 'info');\n                  this.$bus.$emit('sendGetLocation', lat, lon);\n                }\n                break;\n\n              case 'MainCameraCFA':\n                if (parts.length === 2) {\n                  let value = parts[1];\n                  if (value === '') {\n                    value = 'null';\n                  } else if (value === 'GRBG') {\n                    value = 'GR';\n                  } else if (value === 'GBRG') {\n                    value = 'GB';\n                  } else if (value === 'BGGR') {\n                    value = 'BG';\n                  } else if (value === 'RG') {\n                    value = 'RGGB';\n                  }\n                  this.ImageCFA = value;\n                  console.log(\"  MainCameraCFA: \", this.ImageCFA);\n                  this.MainCameraConfigItems.find(item => item.label === 'ImageCFA').value = this.ImageCFA;\n                }\n                break;\n\n              case 'CameraNotIdle':\n                this.callShowMessageBox('Camera is not idle', 'error');\n                this.$bus.$emit('MountOperationComplete', 'solve');\n                break;\n\n              case 'MainCameraNotConnect':\n                this.callShowMessageBox('Main Camera is not connect', 'error');\n                this.$bus.$emit('MountOperationComplete', 'solve');\n                break;\n              case 'ServerInitSuccess':\n                this.callShowMessageBox('Server init success', 'success');\n                window.location.reload();\n                break;\n              case 'PolarAlignmentState':\n                if (parts.length === 4) {\n                  const state = parts[1];\n                  const message = parts[2];\n                  const percentage = parts[3];\n                  this.$bus.$emit('PolarAlignmentState', state, message, percentage);\n                }\n                break;\n              case 'PolarAlignmentAdjustmentGuideData':\n                if (parts.length === 13) {\n                  const ra = parseFloat(parts[1]);\n                  const dec = parseFloat(parts[2]);\n                  const maxra = parseFloat(parts[3]);\n                  const minra = parseFloat(parts[4]);\n                  const maxdec = parseFloat(parts[5]);\n                  const mindec = parseFloat(parts[6]);\n                  const targetra = parseFloat(parts[7]);\n                  const targetdec = parseFloat(parts[8]);\n                  console.log(': ', ra, dec, maxra, minra, maxdec, mindec,targetra,targetdec);\n                  this.$bus.$emit('FieldDataUpdate', [ra, dec, maxra, minra, maxdec, mindec,targetra,targetdec]);\n                  \n                  const offsetra = parseFloat(parts[9]);\n                  const offsetdec = parseFloat(parts[10]);\n                  const adjustmentra = parts[11];\n                  const adjustmentdec = parts[12];\n                  console.log(': ', offsetra, offsetdec, adjustmentra, adjustmentdec);  \n                  this.$bus.$emit('focusSetTravelRangeSuccess', offsetra, offsetdec, adjustmentra, adjustmentdec);\n                  this.$bus.$emit('updateCardInfo', ra, dec, targetra, targetdec);\n                  this.$bus.$emit('focusMoveFailed', 'focusMoveFailed');\n                }\n                break;\n\n              case 'focusMoveFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.callShowMessageBox(message, 'error');\n                  this.$bus.$emit('focusMoveFailed', message);\n                }\n\n              case 'focusMoveFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.callShowMessageBox(message, 'error');\n                  this.$bus.$emit('focusMoveFailed', message);\n                }\n                break;\n\n\n              default:\n                console.warn(': ', data.message);\n                break;\n            }\n          }\n        }\n        else if (data.type === 'QT_Confirm') {\n          // \n          const messageId = data.msgid;\n          this.handleMessageResponse(messageId);\n        } else if (data.type === 'Process_Command') {\n          console.log('Process_Command: ', data.message);\n          // \n          const parts = data.message.split(':');\n          if (parts[0] === 'qtServerIsOver') {\n            this.callShowMessageBox('QT Server is over', 'error');\n            this.ShowConfirmDialog('restart', 'QT server encountered a segmentation fault or is frozen, please restart or exit!', 'restartQtServer');\n          }\n          else if (parts[0] === 'checkHasNewUpdatePack') {\n            if (parts.length === 2) {\n              const version = parts[1];\n              this.SendConsoleLogMsg(': ' + version, 'info');\n              \n              this.ShowConfirmDialog('ForceUpdate', this.$t('checkHasNewUpdatePack') + ': ' + version + '' + this.$t('updateConfirm'), 'updateCurrentClient:'+version);\n            }\n          }\n          else if (parts[0] === 'No_update_pack_found') {\n            this.callShowMessageBox(this.$t('No_update_pack_found'), 'error');\n          }else if (parts[0] === 'update_progress') {\n            this.$bus.$emit('update_progress', data.message);\n          }else if (parts[0] === 'update_error') {\n            this.$bus.$emit('update_error', data.message);\n          }else if (parts[0] === 'update_success') {\n            this.$bus.$emit('update_success', data.message);\n          }else if (parts[0] === 'testQtServerProcess') {\n            \n          }\n          else{\n            console.warn(': ', data.message);\n          }\n        }\n\n        this.receivedMessages.push(data.message); // \n      };\n\n      this.websocket.onerror = (error) => {\n        const errorDetails = {\n          type: error.type,\n          timestamp: new Date().toISOString(),\n          url: this.WebSocketUrl,\n          readyState: this.websocket.readyState,\n          protocol: this.websocket.protocol,\n          extensions: this.websocket.extensions\n        };\n        console.error('WebSocket Error Details:', errorDetails);\n        this.SendConsoleLogMsg('WebSocket Error: ' + JSON.stringify(errorDetails), 'error');\n        this.websocketState = 'error';\n        this.networkDisconnected = true;\n      };\n\n      this.websocket.onclose = () => {\n        console.log('QHYCCD | WebSocket disconnected');\n        this.websocketState = 'disconnected';\n        this.networkDisconnected = true; // WebSocket\n        console.log('QHYCCD | WebSocket disconnected');\n        this.$bus.$emit('ShowNetStatus', 'false');\n\n        // 1\n        this.disconnectTimeout = setTimeout(() => {\n          if (this.networkDisconnected) { // 1\n            this.callShowMessageBox('WebSocket disconnected', 'error');\n            this.disconnectTimeoutTriggered = true;\n          }\n        }, 1000); // 1\n\n        // \n        this.reconnectWebSocket();\n      };\n    },\n\n    // \n    reconnectWebSocket() {\n      setTimeout(() => {\n        console.log('QHYCCD | WebSocket reconnected');\n        this.SendConsoleLogMsg('WebSocket reconnected.', 'info');\n        this.connect();\n      }, 2000); // 2\n    },\n    // \n\n    //\n    setupNetworkStatusListener() {\n      window.addEventListener('online', () => {\n        // \n        if (this.disconnectTimeoutTriggered) {\n          this.callShowMessageBox('WebSocket connected', 'success');\n        }\n        clearTimeout(this.disconnectTimeout); // \n        this.networkDisconnected = false; // \n        this.$bus.$emit('ShowNetStatus', 'true');\n        this.StatusRecovery();\n        this.reconnectWebSocket(); // WebSocket\n      });\n\n      window.addEventListener('offline', () => {\n        this.networkDisconnected = true; // \n        this.$bus.$emit('ShowNetStatus', 'false');\n        this.disconnectTimeoutTriggered = false; // \n        // 1\n        this.disconnectTimeout = setTimeout(() => {\n          if (this.networkDisconnected) { // 1\n            this.disconnectTimeoutTriggered = true; // \n            this.callShowMessageBox('WebSocket disconnected', 'error');\n          }\n        }, 1000); // 1\n      });\n    },\n    //\n\n    sendMessage(type, message) {\n      console.log(\"QHYCCD | sendMessage: \", message);\n\n      const messageId = this.generateMessageId(); // ID\n      const messageObj = { type: type, msgid: messageId, message: message }; // \n      const messageJson = JSON.stringify(messageObj); //  JSON \n      const messageState = { msgid: messageId, text: messageJson, success: false }; // \n\n      if (this.websocket.readyState === WebSocket.OPEN) {\n        this.websocket.send(messageJson);\n        // messageState.success = true; // \n      }\n      this.sentMessages.push(messageState); // \n    },\n\n    generateMessageId() {\n      // ID\n      return Date.now() + \"-\" + (this.messageCounter++);\n    },\n\n    handleMessageResponse(messageId) {\n      // ID\n      const lastMessage = this.sentMessages[this.sentMessages.length - 1];\n      if (lastMessage && lastMessage.msgid === messageId) {\n        lastMessage.success = true;\n      }\n    },\n\n    // \n    callShowMessageBox(msg, type) {\n      console.log('QHYCCD | callShowMessageBox:', msg, type);\n      this.SendConsoleLogMsg(msg, type);\n      this.$bus.$emit('showMsgBox', msg, type);\n    },\n    // \n\n    locationClicked: function () {\n      this.$bus.$emit('Vue_Command', 'localMessage'); // \n      this.$store.commit('toggleBool', 'showLocationDialog');\n\n      this.$bus.$emit('ResetTime');\n    },\n\n    SetCurrentLocation(lat, lng, isAuto) {\n      console.log('SetCurrentLocation:', lat, ',', lng);\n      this.$bus.$emit('SendConsoleLogMsg', 'Set Current Location:' + lat + ',' + lng, 'info');\n      this.$bus.$emit('PolarPointAltitude', lat);\n      this.$bus.$emit('resetLocation', lat, lng, isAuto);\n      const loc = {\n        short_name: 'Unknown',\n        country: 'Unknown',\n        lng: lng,\n        lat: lat,\n        alt: 0,\n        accuracy: 0,\n        street_address: ''\n      }\n      this.$store.commit('setCurrentLocation', loc);\n\n      this.$bus.$emit('ShowPositionInfo', lat, lng);\n\n      setTimeout(() => {\n        this.$bus.$emit('ResetTime');\n      }, 1000);\n    },\n    // \n    StatusRecovery() {\n      // this.sendMessage('SendConsoleLogMsg', '!', 'warning');\n      this.getQTClientVersion();                // QTClient\n      this.sendMessage('Vue_Command', 'getROIInfo'); // ROI\n      this.sendMessage('Vue_Command', 'localMessage'); // \n      this.sendMessage('Vue_Command', 'getLastSelectDevice'); // \n      this.sendMessage('Vue_Command', 'getMainCameraParameters'); // \n      this.RecalibratePolarAxis(); // \n      this.sendMessage('Vue_Command', 'getStagingSolveResult'); // \n      this.sendMessage('Vue_Command', 'getFocuserLoopingState'); // \n      this.sendMessage('Vue_Command', 'getStagingScheduleData'); // \n      this.sendMessage('Vue_Command', 'getStagingSolveResult'); // \n      this.sendMessage('Vue_Command', 'getGPIOsStatus'); // GPIO\n      // this.sendMessage('Vue_Command', 'getStagingImage'); // \n\n      this.disconnectTimeoutTriggered = false;\n    },\n\n    openPowerManagerPage() {\n      this.isOpenDevicePage = false;\n      this.isOpenPowerPage = true;\n\n      this.drawer_2 = true;\n    },\n\n    QuitToMainApp() {\n      this.sendMessage('Broadcast_Msg', 'CloseWebView');\n    },\n\n    selectDevice(device) {\n      if (!this.haveDeviceConnect || (this.haveDeviceConnect) || device.driverType === 'Telescopes') {\n        this.isOpenDevicePage = true;\n        this.isOpenPowerPage = false;\n\n        if (device.isget === false) {\n          // device.isget = true;\n          this.sendMessage('Vue_Command', 'SelectIndiDriver:' + device.type + \":\" + device.ListNum);\n          this.drivers = [];\n        }\n\n        this.CurrentDriverType = device.driverType;\n        this.DeviceIsConnected = device.isConnected;\n        this.BaudRateSelected = device.BaudRate;\n        if (device.driverType === 'Telescopes') {\n          this.DeviceIsConnected = true;\n        }\n\n        this.drawer_2 = true;\n\n        this.ToBeConnectDevice = [];\n        this.devicesList.forEach(devicesList => {\n          if (devicesList.type === this.CurrentDriverType) {\n            this.ToBeConnectDevice.push(devicesList);\n          }\n        });\n      } else {\n        this.callShowMessageBox('The device is not connected.', 'error');\n      }\n\n    },\n\n    CurrentConfigItems() {\n      console.log('CurrentConfigItems: ', this.CurrentDriverType + 'ConfigItems');\n      switch (this.CurrentDriverType) {\n        case 'Guider':\n          return this.GuiderConfigItems;\n        case 'MainCamera':\n          return this.MainCameraConfigItems;\n        case 'Mount':\n          return this.MountConfigItems;\n        case 'Telescopes':\n          return this.TelescopesConfigItems;\n        case 'Focuser':\n          return this.FocuserConfigItems;\n        case 'PoleCamera':\n          return this.PoleCameraConfigItems;\n        case 'CFW':\n          return this.CFWConfigItems;\n        default:\n          return [];\n      }\n    },\n\n    confirmDriver() {\n      // \n      console.log(\"QHYCCD | confirmDriver: \", this.selectedDriver);\n      this.SendConsoleLogMsg('Confirm Indi Driver:' + this.selectedDriver, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConfirmIndiDriver:' + this.selectedDriver + ':' + this.BaudRateSelected);\n      this.confirmDriverType = this.CurrentDriverType;\n      this.loadingSelectDriver = true;\n\n      this.devices.forEach(device => {\n        if (device.driverType === this.CurrentDriverType) {\n          device.device = this.selectedDriver;\n          device.driverName = this.selectedDriver;\n          device.BaudRate = this.BaudRateSelected;\n        }\n      });\n    },\n    clearDriver() {\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ClearIndiDriver');\n      this.SendConsoleLogMsg('Clear Indi Driver', 'info');\n      this.devices.forEach(device => {\n        if (device.driverType === this.CurrentDriverType) {\n          device.device = '';\n          device.driverName = '';\n          device.BaudRate = 9600;\n        }\n      });\n      this.selectedDriver = '';\n    },\n    confirmDevice() {\n      // \n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConfirmIndiDevice:' + this.selectedDevice + ':' + this.selectedDriver);\n      // this.$bus.$emit('AppUpdateDevices', this.CurrentDriverType, this.selectedDevice);\n      this.updateDevices(this.CurrentDriverType, this.selectedDevice);\n    },\n\n    updateDevices(driverType, newDevice) {    // \n      this.devices.forEach(device => {\n        if (device.driverType === driverType) {\n          device.device = newDevice;\n        }\n      });\n    },\n\n    updateDevices_(ListNum, newDevice) {    // \n      this.devices.forEach(device => {\n        if (device.ListNum === ListNum) {\n          device.device = newDevice;\n        }\n      });\n      this.loadingConnectAllDevice = false;\n    },\n\n    updateDevicesConnect(type, DeviceName, DriverName, isBind = true) {    // \n      this.SendConsoleLogMsg('updateDevicesConnect' + type + ' ' + DeviceName + ' ' + DriverName + ' ' + isBind, 'info');\n      this.devices.forEach(device => {\n        if (device.driverType === type) {\n          if (isBind == true) {\n            device.device = DeviceName;\n          } else {\n            device.device = \"Not Bind Device\";\n          }\n          device.driverName = DriverName;\n          device.isConnected = true;\n        }\n      });\n      this.callShowMessageBox(DeviceName + ' success connected', 'success');\n      this.haveDeviceConnect = true;\n      this.loadingConnectAllDevice = false;\n\n      if (type === 'MainCamera') {\n        this.$bus.$emit('MainCameraConnected', 1);\n        console.log('MainCamera is Connected.');\n      } else if (type === 'Mount') {\n        this.$bus.$emit('MountConnected', 1);\n        console.log('Mount is Connected.');\n      } else if (type === 'CFW') {\n        this.$bus.$emit('CFWConnected', 1);\n        console.log('Mount is Connected.');\n      } else if (type === 'Focuser') {\n        this.$bus.$emit('FocuserConnected', 1);\n        console.log('Focuser is Connected.');\n      } else if (type === 'Guider') {\n        this.$bus.$emit('GuiderConnected', 1);\n        console.log('Guider is Connected.');\n      }\n      console.log('updateDevicesConnect: ', type, DeviceName, DriverName, isBind);\n\n      this.$bus.$emit('DeviceConnectSuccess', type, DeviceName, DriverName, isBind);\n    },\n    startConnectBtnPress(event) {\n      // \n      if (event.type === 'touchstart') {\n        this.isTouching = true;\n        this.isConnectBtnLongPress = false; // \n        // this.ConnectBtnPressTimer = setTimeout(() => {\n        //   this.isConnectBtnLongPress = true; // \n        //   this.handleConnectBtnLongPress();\n        // }, this.ConnectBtnlongPressThreshold);\n        this.handleConnectBtnClick();\n      }\n      // \n      else if (event.type === 'mousedown' && !this.isTouching) {\n        this.isConnectBtnLongPress = false; // \n        // this.ConnectBtnPressTimer = setTimeout(() => {\n        //   this.isConnectBtnLongPress = true; // \n        //   this.handleConnectBtnLongPress();\n        // }, this.ConnectBtnlongPressThreshold);\n        this.handleConnectBtnClick();\n      }\n    },\n    endConnectBtnPress(event) {\n      // \n      if (event.type === 'touchend') {\n        clearTimeout(this.ConnectBtnPressTimer); // \n        // if (!this.isConnectBtnLongPress) {\n        //   this.handleConnectBtnClick(); // \n        // }\n        this.handleConnectBtnClick(); \n        this.ConnectBtnPressTimer = null; // \n        this.isTouching = false; // \n      }\n      // \n      else if (event.type === 'mouseup' && !this.isTouching) {\n        clearTimeout(this.ConnectBtnPressTimer); // \n        // if (!this.isConnectBtnLongPress) {\n        //   this.handleConnectBtnClick(); // \n        // }\n        this.handleConnectBtnClick(); \n        this.ConnectBtnPressTimer = null; // \n      }\n    },\n    handleConnectBtnClick() {\n      if (this.haveDeviceConnect) {\n        this.callShowMessageBox('Please disconnect all devices first.', 'error');\n        return;\n      }\n      if (!this.ConnectBtnCanClick) return; // \n      this.ConnectBtnCanClick = false; // \n      console.log(\"Connect Button clicked\");\n\n      this.connectAllDevice();\n\n      // \n      setTimeout(() => {\n        this.ConnectBtnCanClick = true;\n      }, 1000); // 1\n    },\n    handleConnectBtnLongPress() {\n      if (this.haveDeviceConnect) {\n        this.callShowMessageBox('Please disconnect all devices first.', 'error');\n        return;\n      }\n      // \n      console.log(\"Connect Button long pressed\");\n\n      this.autoConnectAllDevice();\n    },\n    connectAllDevice() {\n      console.log(\"QHYCCD | connectAllDevice.\");\n      this.SendConsoleLogMsg('Connect All Device', 'info');\n      this.sendMessage('Vue_Command', 'connectAllDevice');\n      this.loadingConnectAllDevice = true;\n    },\n    autoConnectAllDevice() {\n      console.log(\"QHYCCD | autoConnectAllDevice.\");\n      this.SendConsoleLogMsg('Auto Connect All Device', 'info');\n      this.sendMessage('Vue_Command', 'autoConnectAllDevice');\n      this.loadingConnectAllDevice = true;\n    },\n\n    // connectAllDevice() {\n    //   console.log(\"QHYCCD | connectAllDevice.\");\n    //   this.SendConsoleLogMsg('Connect All Device', 'info');\n    //   this.sendMessage('Vue_Command', 'connectAllDevice');\n    //   this.loadingConnectAllDevice = true;\n    // },\n\n    // autoConnectAllDevice() {\n    //   console.log(\"QHYCCD | autoConnectAllDevice.\");\n    //   this.SendConsoleLogMsg('Auto Connect All Device', 'info');\n    //   this.sendMessage('Vue_Command', 'autoConnectAllDevice');\n    //   this.loadingConnectAllDevice = true;\n    // },\n\n    // startConnectBtnPress() {\n    //   this.isConnectBtnLongPress = false; // \n    //   this.ConnectBtnPressTimer = setTimeout(() => {\n    //     this.isConnectBtnLongPress = true; // \n    //     this.handleConnectBtnLongPress();\n    //   }, this.ConnectBtnlongPressThreshold);\n    // },\n    // endConnectBtnPress() {\n    //   clearTimeout(this.ConnectBtnPressTimer); // \n    //   if (!this.isConnectBtnLongPress) {\n    //     this.handleConnectBtnClick(); // \n    //   }\n    //   this.ConnectBtnPressTimer = null; // \n    // },\n    // handleConnectBtnClick() {\n    //   if (this.haveDeviceConnect) {\n    //     this.callShowMessageBox('Please disconnect all devices first.', 'error');\n    //     return;\n    //   }\n    //   if (!this.ConnectBtnCanClick) return; // \n    //   this.ConnectBtnCanClick = false; // \n    //   console.log(\"Connect Button clicked\");\n\n    //   this.connectAllDevice();\n\n    //   // \n    //   setTimeout(() => {\n    //     this.ConnectBtnCanClick = true;\n    //   }, 1000); // 1\n    // },\n    // handleConnectBtnLongPress() {\n    //   if (this.haveDeviceConnect) {\n    //     this.callShowMessageBox('Please disconnect all devices first.', 'error');\n    //     return;\n    //   }\n    //   // \n    //   console.log(\"Connect Button long pressed\");\n\n    //   this.autoConnectAllDevice();\n    // },\n\n    disconnectAllDevice(confirm) {\n      //  isConnected  true\n      // const hasConnectedDevices = this.devices.some(device => device.isConnected);\n\n      if (this.haveDeviceConnect) {\n        if (confirm === false) {\n          this.ShowConfirmDialog('Confirm', 'Are you sure you want to disconnect all devices?', 'disconnectAllDevice');\n        } else {\n          this.sendMessage('Vue_Command', 'disconnectAllDevice');\n          this.SendConsoleLogMsg('Disconnect All Device', 'info');\n          this.haveDeviceConnect = false;\n          // this.devices.forEach(device => {\n          //   device.isConnected = false;\n          //   // device.device = '';\n          // });\n\n          this.$bus.$emit('MainCameraConnected', 0);\n          this.$bus.$emit('MountConnected', 0);\n          this.$bus.$emit('CFWConnected', 0);\n          this.$bus.$emit('FocuserConnected', 0);\n          this.$bus.$emit('GuiderConnected', 0);\n          this.clearDeviceList();\n        }\n      } else {\n        this.callShowMessageBox('No devices have been connected.', 'error');\n      }\n      this.selectedDriver = '';\n    },\n\n    // clearDeviceList() {\n    //   this.devices.forEach(device => {\n    //     device.isConnected = false;\n    //     device.isget = false;\n    //     device.device = ''; \n    //     device.driverName = '';\n    //   });\n    //   this.ToBeConnectDevice = [];\n    //   this.devicesList = [];\n    //   this.drivers = [];\n    //   this.$bus.$emit('clearDeviceAllocationList');\n    // },\n\n    clearDeviceList() {\n      this.devices.forEach(device => {\n        device.device = device.driverName;\n        device.isConnected = false;\n        device.isget = false;\n        device.BaudRate = 9600;\n      });\n      this.ToBeConnectDevice = [];\n      this.devicesList = [];\n      this.drivers = [];\n      this.$bus.$emit('clearDeviceAllocationList');\n    },\n\n    SwitchOutPutPower(index, isPowerON) {\n      if (isPowerON) {\n        this.drawer_2 = false;\n        this.ShowConfirmDialog('Output Power:' + index, 'Are you sure you want to turn off this output power?', 'SwitchOutPutPower');\n      } else {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'SwitchOutPutPower:' + index);\n        this.SendConsoleLogMsg('Switch OutPutPower' + index, 'info');\n      }\n    },\n\n    RestartRaspberryPi() {\n      this.drawer_2 = false;\n      this.ShowConfirmDialog('Restart', 'Are you sure you want to restart the Raspberry Pi?', 'RestartRaspberryPi');\n    },\n\n    ShutdownRaspberryPi() {\n      this.drawer_2 = false;\n      this.ShowConfirmDialog('Shut Down', 'Are you sure you want to shut down the Raspberry Pi?', 'ShutdownRaspberryPi');\n    },\n\n    ForceUpdate() {\n      this.drawer_2 = false;\n      this.ShowConfirmDialog('Force Update', 'Are you sure you want to force update the Raspberry Pi?', 'ForceUpdate');\n    },\n\n    ReturnConnectedDevices() {\n      this.devices.forEach(device => {\n        if (device.driverType === 'MainCamera') {\n          if (device.isConnected === true) {\n            this.$bus.$emit('MainCameraConnected', 1);\n            console.log('MainCamera is Connected.');\n            this.SendConsoleLogMsg('MainCamera is Connected.', 'info');\n          }\n        } else if (device.driverType === 'Mount') {\n          if (device.isConnected === true) {\n            this.$bus.$emit('MountConnected', 1);\n            console.log('Mount is Connected.');\n            this.SendConsoleLogMsg('Mount is Connected.', 'info');\n          }\n        }\n      });\n      this.sendMessage('Vue_Command', 'loadSelectedDriverList');\n      this.sendMessage('Vue_Command', 'loadBindDeviceList');\n      this.sendMessage('Vue_Command', 'loadBindDeviceTypeList');\n    },\n\n    OpenIamgeFolder() {\n      this.$bus.$emit('ImageManagerPanelOpen');\n      this.nav = false;\n    },\n\n    OpenDebugLog() {\n      this.$bus.$emit('toggleINDIDebugDialog');\n      this.nav = false;\n    },\n\n    SendConsoleLogMsg(message, type) {\n      if (type == 'error') {\n        console.error('Error: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else if (type == 'info') {\n        console.log('Info: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else if (type == 'warning') {\n        console.warn('Warning: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else {\n        console.log('Debug: ' + message);\n      }\n    },\n\n    DeviceAllocation() {\n      this.$bus.$emit('toggleDeviceAllocationPanel');\n      this.nav = false;\n    },\n\n    CurrentExpTimeList(index, value) {\n      const expTimeIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ExpTime [' + (index + 1) + ']');\n      if (expTimeIndex !== -1) { // \n        //  ExpTime1 \n        this.MainCameraConfigItems[expTimeIndex].value = value;\n      } else {\n        console.error('ExpTime [' + index + '] configuration item not found.');\n      }\n    },\n\n    CurrentCFWList(index, value) {\n      const expTimeIndex = this.CFWConfigItems.findIndex(item => item.label === 'CFW [' + (index + 1) + ']');\n      if (expTimeIndex !== -1) { // \n        //  ExpTime1 \n        this.CFWConfigItems[expTimeIndex].value = value;\n      } else {\n        console.error('CFW [' + index + '] configuration item not found.');\n      }\n    },\n\n    // confirmConfiguration(item) {\n    //   console.log(`QHYCCD | confirmConfiguration: ${item.value}`);\n    //   switch (item.driverType) {\n    //     case 'Guider':\n\n    //     case 'MainCamera':\n    //       this.$bus.$emit(item.label, item.label + ':' + item.value);\n    //     case 'Mount':\n\n    //     case 'Telescope':\n\n    //     case 'Focuser':\n    //         this.$bus.$emit(item.label, item.value);  //RedBox Side Length (px)\n\n    //     case 'PoleCamera':\n\n    //     case 'CFW':\n    //       if (item.label.startsWith('CFW [')) {\n    //         this.$bus.$emit('CFWvalue', item.label+':'+item.value);\n    //       }\n    //       else {\n    //         this.$bus.$emit(item.label, item.label+':'+item.value);\n    //       }\n    //   }\n    // },\n\n    confirmConfiguration(List) {\n      List.forEach(item => {\n        if (item.value !== '') {\n          // console.log(item.label, item.value);\n          this.SendConsoleLogMsg(item.label + ':' + item.value, 'info');\n          this.$bus.$emit(item.label, item.label + ':' + item.value);\n        } else if (item.value == '' && item.label === 'Focal Length (mm)') {\n          this.SendConsoleLogMsg(item.label + 'is NULL', 'info');\n          this.$bus.$emit(item.label, item.label + ':');\n        }\n      });\n      this.callShowMessageBox('Configuration has been modified!', 'success');\n    },\n\n    loadAndDisplayImage(imagePath) {\n      const canvas = document.getElementById('guiderCamera-canvas');\n      // const canvas = document.getElementById('mainCamera-canvas');\n      if (canvas.getContext) {\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n\n        img.onload = () => {\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.drawImage(img, 0, 0);\n          // this.$bus.$emit('showSolveImage', img);\n        };\n\n        // \n        img.onerror = (error) => {\n          console.log(`: ${imagePath}`);\n          this.SendConsoleLogMsg(`: ${imagePath}`, 'error');\n        };\n\n        img.src = imagePath;\n      }\n    },\n\n    ImageGainSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const doubleValue = parseFloat(value); //  double \n\n      if (signal === 'ImageGainR') {\n        //  ImageGainR \n        this.ImageGainR = doubleValue;\n        this.SendConsoleLogMsg('ImageGainR is set to:' + doubleValue, 'info');\n        this.sendMessage('Vue_Command', 'ImageGainR:' + doubleValue);\n      } else if (signal === 'ImageGainB') {\n        //  ImageGainB \n        this.ImageGainB = doubleValue;\n        this.SendConsoleLogMsg('ImageGainB is set to:' + doubleValue, 'info');\n        this.sendMessage('Vue_Command', 'ImageGainB:' + doubleValue);\n      }\n    },\n\n    // CameraOffsetSet(payload) {\n    //   const [signal, value] = payload.split(':'); // \n    //   const doubleValue = parseFloat(value); //  double \n\n    //   console.log('CameraOffset is set to:', doubleValue);\n    //   this.SendConsoleLogMsg('CameraOffset is set to:' + doubleValue, 'info');\n    // },\n\n    ImageOffsetSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const doubleValue = parseFloat(value); //  double \n\n      this.ImageOffset = doubleValue;\n      console.log('Image Offset is set to:', doubleValue);\n      this.SendConsoleLogMsg('Image Offset is set to:' + doubleValue, 'info');\n      this.sendMessage('Vue_Command', 'ImageOffset:' + doubleValue);\n    },\n\n    BinningSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value); //  Int \n      this.cameraBin = IntValue;\n      console.log('Image Binning is set to:', IntValue);\n      this.SendConsoleLogMsg('Image Binning is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetBinning:' + IntValue);\n      this.$bus.$emit('SetBinningNum', IntValue);\n    },\n\n    GainSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value); //  Int \n\n      console.log('Camera Gain is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Gain is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraGain:' + IntValue);\n    },\n\n    OffsetSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value); //  Int \n\n      console.log('Camera Offset is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Offset is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraOffset:' + IntValue);\n    },\n\n    ImageCFASet(payload) {\n      const [signal, value] = payload.split(':'); // \n\n      // if (['GR', 'GB', 'BG', 'RGGB','null'].includes(value)) {\n      if (['GR', 'GB', 'BG', 'RG', 'GRBG', 'GBRG', 'BGGR', 'RGGB', 'null', ''].includes(value)) {\n        if (value === '') {\n          value = 'null';\n        } else if (value === 'GRBG') {\n          value = 'GR';\n        } else if (value === 'GBRG') {\n          value = 'GB';\n        } else if (value === 'BGGR') {\n          value = 'BG';\n        } else if (value === 'RG') {\n          value = 'RGGB';\n        }\n        this.ImageCFA = value;\n        // console.log('ImageCFA is set to:', value);\n        this.SendConsoleLogMsg('ImageCFA is set to:' + value, 'info');\n        this.sendMessage('Vue_Command', 'ImageCFA:' + value);\n      } else {\n        // console.log(`Invalid value for ImageCFA: '${value}'. Please set it to one of 'GR', 'GB', 'BG', 'RGGB'.`);\n        this.callShowMessageBox(`Invalid value for ImageCFA: '${value}'. Please set it to one of 'GR', 'GB', 'BG', 'RGGB'.`, 'error');\n      }\n    },\n\n    CameraTemperatureSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value); //  Int \n\n      console.log('Camera Temperature is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Temperature is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraTemperature:' + IntValue);\n    },\n\n    FocalLengthSet(payload) {\n      const [signal, value] = payload.split(':'); // \n\n      for (const device of this.devices) {\n        if (device.driverType === 'Telescopes') {\n\n          if (value === '' || value === NaN) {\n            device.device = '';\n            this.SendConsoleLogMsg('Focal Length is set to:' + 0, 'info');\n            this.$bus.$emit('SetFocalLengthNum', '');\n          } else {\n            const IntValue = parseInt(value); //  Int \n            device.device = value + ' mm';\n            this.SendConsoleLogMsg('Focal Length is set to:' + IntValue, 'info');\n            this.$bus.$emit('SetFocalLengthNum', IntValue);\n          }\n        }\n      }\n\n\n    },\n\n    GuiderFocalLengthSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value); //  Int \n\n\n      this.SendConsoleLogMsg('Guider Focal Length is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderFocalLength:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderFocalLength:' + IntValue);\n    },\n\n    MultiStarGuiderSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      this.SendConsoleLogMsg('Multi Star Guider is set to:' + value, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'MultiStarGuider:' + value);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:MultiStarGuider:' + value);\n    },\n\n    GuiderPixelSizeSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const doubleValue = parseFloat(value);\n      this.SendConsoleLogMsg('Guider Pixel size is set to:' + doubleValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderPixelSize:' + doubleValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderPixelSize:' + doubleValue);\n    },\n\n    GuiderGainSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Guider Gain is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderGain:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderGain:' + IntValue);\n    },\n\n    CalibrationDurationSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Guider Calibration step is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'CalibrationDuration:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:CalibrationDuration:' + IntValue);\n    },\n\n    RaAggressionSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Ra Aggression is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RaAggression:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:RaAggression:' + IntValue);\n    },\n\n    DecAggressionSet(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Dec Aggression is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DecAggression:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:DecAggression:' + IntValue);\n    },\n\n    SyncFocuserStep(payload) {\n      const [signal, value] = payload.split(':'); // \n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Sync Focuser Step:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'SyncFocuserStep:' + IntValue);\n    },\n\n    async readBinFile(fileName, retryCount = 1) {\n      while (this.isDownloadingImage) {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        if (!this.isWaitingLogged) {\n          this.SendConsoleLogMsg('The image is already being processed. Please wait for the previous process to complete.', 'warning');\n          this.isWaitingLogged = true; // \n        }\n      }\n\n      if (this.isDownloadingImageName === fileName) {\n        this.SendConsoleLogMsg('The image(' + fileName + ') is already processed.', 'info');\n        return;\n      }\n\n      this.isDownloadingImage = true;\n      this.isWaitingLogged = false; // \n      this.SendConsoleLogMsg('CaptureTestTime | Read image(' + fileName + ') data start.', 'info');\n\n      const startTime = new Date();\n      try {\n        // Check if the fileName is valid\n        if (!fileName || typeof fileName !== 'string') {\n          throw new Error('Invalid file name provided');\n        }\n\n        // Fetch with progress tracking\n        const response = await fetch(fileName, { cache: 'no-store' });\n        if (!response.ok) {\n          throw new Error(`Network response was not ok. Status: ${response.status}`);\n        }\n\n        const contentLength = response.headers.get('content-length');\n        if (!contentLength) {\n          throw new Error('Content-Length header is missing');\n        }\n\n        const total = parseInt(contentLength, 10);\n        if (isNaN(total) || total <= 0) {\n          throw new Error('Invalid content-length value');\n        }\n\n        let loaded = 0;\n\n        const reader = response.body.getReader();\n        const stream = new ReadableStream({\n          start: (controller) => {\n            const push = () => {\n              reader.read().then(({ done, value }) => {\n                if (done) {\n                  controller.close();\n                  return;\n                }\n                loaded += value.byteLength;\n                const percent = (loaded / total) * 100;\n                if (Math.round(percent) % 10 === 0) {\n                  // this.SendConsoleLogMsg(`Progress: ${Math.round(percent)}%`, 'info');\n                  this.updateCaptureImageProgress(Math.round(percent));\n                }\n                // this.SendConsoleLogMsg(`: ${Math.round(percent)}%`, 'info');\n                controller.enqueue(value);\n                push();\n              }).catch(error => {\n                console.error('Stream reading error:', error);\n                this.SendConsoleLogMsg('Stream reading error: ' + error.message, 'error');\n                controller.error(error);\n              });\n            };\n            push();\n          }\n        });\n\n        const newResponse = new Response(stream);\n        const blob = await newResponse.blob();\n\n        // FileReader with progress tracking\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n          this.ImageArrayBuffer = fileReader.result;\n\n          const endTime = new Date();\n          const elapsedTime = endTime.getTime() - startTime.getTime();\n          this.SendConsoleLogMsg('CaptureTestTime | Read image data end: ' + elapsedTime + ' ms', 'info');\n          if (!this.isPolarAxisMode) {\n            this.callShowMessageBox(`Read image data end: '${elapsedTime}' ms.`, 'info');\n          }\n          this.isDownloadingImageName = fileName;\n          this.processImage(this.ImageArrayBuffer);\n        };\n\n        fileReader.onerror = (error) => {\n          console.error('FileReader error:', error);\n          this.SendConsoleLogMsg('FileReader error: ' + error.message, 'error');\n        };\n\n        fileReader.readAsArrayBuffer(blob);\n      } catch (error) {\n        console.error('There was a problem with the fetch operation:', error);\n        this.SendConsoleLogMsg('There was a problem with the fetch operation: ' + error.message, 'error');\n\n        // \n        if (retryCount > 0) {\n          console.log('Retrying download...');\n          this.SendConsoleLogMsg('Retrying download...', 'warning');\n          this.isDownloadingImage = false;\n          this.updateCaptureImageProgress(100);\n          await this.readBinFile(fileName, retryCount - 1);\n        } else {\n          this.SendConsoleLogMsg('Max retries reached. Download failed.', 'error');\n        }\n      } finally {\n        this.isDownloadingImage = false; // \n      }\n    },\n\n\n    // async readBinFile(fileName, retryCount = 1) {\n    //   while (this.isDownloadingImage) {\n    //     await new Promise(resolve => setTimeout(resolve, 1000));\n    //     if (!this.isWaitingLogged) {\n    //       this.SendConsoleLogMsg('The image is already being processed. Please wait for the previous process to complete.', 'warning');\n    //       this.isWaitingLogged = true; // \n    //     }\n    //   }\n\n    //   if (this.isDownloadingImageName === fileName) {\n    //     this.SendConsoleLogMsg('The image(' + fileName + ') is already processed.', 'info');\n    //     return;\n    //   }\n\n    //   this.isDownloadingImage = true;\n    //   this.isWaitingLogged = false; // \n    //   this.SendConsoleLogMsg('CaptureTestTime | Read image(' + fileName + ') data start.', 'info');\n\n    //   const startTime = new Date();\n    //   try {\n    //     // Fetch with progress tracking\n    //     const response = await fetch(fileName);\n    //     if (!response.ok) {\n    //       throw new Error('Network response was not ok');\n    //     }\n\n    //     const contentLength = response.headers.get('content-length');\n    //     if (!contentLength) {\n    //       throw new Error('Content-Length header is missing');\n    //     }\n\n    //     const total = parseInt(contentLength, 10);\n    //     let loaded = 0;\n\n    //     const reader = response.body.getReader();\n    //     const stream = new ReadableStream({\n    //       start: (controller) => {\n    //         const push = () => {\n    //           reader.read().then(({ done, value }) => {\n    //             if (done) {\n    //               controller.close();\n    //               return;\n    //             }\n    //             loaded += value.byteLength;\n    //             const percent = (loaded / total) * 100;\n    //             if (Math.round(percent) % 10 === 0) {\n    //               this.SendConsoleLogMsg(`Progress: ${Math.round(percent)}%`,'info');\n    //               this.updateCaptureImageProgress(Math.round(percent));\n    //             }\n    //             controller.enqueue(value);\n    //             push();\n    //           }).catch(error => {\n    //             console.error('Stream reading error:', error);\n    //             controller.error(error);\n    //           });\n    //         };\n    //         push();\n    //       }\n    //     });\n\n    //     const newResponse = new Response(stream);\n    //     const blob = await newResponse.blob();\n\n    //     // FileReader with progress tracking\n    //     const fileReader = new FileReader();\n    //     fileReader.onload = () => {\n    //       this.ImageArrayBuffer = fileReader.result;\n\n    //       const endTime = new Date();\n    //       const elapsedTime = endTime.getTime() - startTime.getTime();\n    //       this.SendConsoleLogMsg('CaptureTestTime | Read image data end: ' + elapsedTime + ' ms', 'info');\n    //       if (!this.isPolarAxisMode) {\n    //         this.callShowMessageBox(`Read image data end: '${elapsedTime}' ms.`, 'info');\n    //       }\n    //       this.isDownloadingImageName = fileName;\n    //       this.processImage(this.ImageArrayBuffer);\n    //     };\n\n    //     fileReader.onerror = (error) => {\n    //       console.error('FileReader error:', error);\n    //       this.SendConsoleLogMsg('FileReader error:' + error, 'error');\n    //     };\n\n    //     fileReader.readAsArrayBuffer(blob);\n    //   } catch (error) {\n    //     console.error('There was a problem with the fetch operation:', error);\n    //     this.SendConsoleLogMsg('There was a problem with the fetch operation:' + error, 'error');\n\n    //     // \n    //     if (retryCount > 0) {\n    //       console.log('Retrying download...');\n    //       this.SendConsoleLogMsg('Retrying download...', 'warning');\n    //       this.isDownloadingImage = false;\n    //       this.updateCaptureImageProgress(100);\n    //       await this.readBinFile(fileName, retryCount - 1);\n    //     }\n    //   } finally {\n    //     this.isDownloadingImage = false; // \n    //   }\n    // },\n\n    updateCaptureImageProgress(num) {\n      this.$bus.$emit('ShowCaptureImageProgress', num);\n    },\n\n    setImageProportion(value) {\n      this.ImageProportion = value;\n    },\n\n    async processImage(imgArray, histogramMin = -1, histogramMax = -1, options = {}) {\n      let { calculateHistogram = true } = options;\n      this.progressValue = 0;\n      this.progressDescription = this.$i18n.locale === 'cn' ? '...' : 'Processing image...';\n      let mat = null;\n      let targetImg8 = null;\n      let resizeImg = null;\n\n      // setTimeoutPromise\n      const processAsync = (fn) => {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            const result = fn();\n            resolve(result);\n          }, 0);\n        });\n      };\n\n      try {\n        if (!(imgArray instanceof ArrayBuffer) && !ArrayBuffer.isView(imgArray)) {\n          throw new Error(\"Input must be ArrayBuffer or TypedArray\");\n        }\n        let uintArray = new Uint16Array(imgArray);\n\n        if (uintArray.length != parseInt(this.mainCameraSizeY) * parseInt(this.mainCameraSizeX)) {\n          throw new Error(\"Image size mismatch\");\n        }\n        // Mat\n        await processAsync(() => {\n          mat = new cv.Mat(parseInt(this.mainCameraSizeY), parseInt(this.mainCameraSizeX), cv.CV_16UC1);\n          mat.data16U.set(uintArray);\n          this.progressValue = 10;\n          this.progressDescription = this.$i18n.locale === 'cn' ? 'Mat...' : 'Creating Mat object...';\n          return true;\n        });\n\n        // \n        let CFA = this.ImageCFA;\n        let isColorCamera = false;\n        let mode = 1;\n        let blackLevel, whiteLevel;\n\n        if (histogramMin == -1 && histogramMax == -1) {\n          // \n          const result = await processAsync(() => {\n            const res = this.GetAutoStretch(mat, mode);\n            this.progressValue = 20;\n            this.progressDescription = this.$i18n.locale === 'cn' ? '...' : 'Getting auto stretch parameters...';\n            return res;\n          });\n\n          calculateHistogram = true;\n          // \n          blackLevel = result.blackLevel;\n          whiteLevel = result.whiteLevel;\n        } else {\n          blackLevel = histogramMin;  // \n          whiteLevel = histogramMax;  // \n        }\n\n        // CFA\n        if (CFA === 'GR') {\n          isColorCamera = true;\n        } else if (CFA === 'GB') {\n          isColorCamera = true;\n        } else if (CFA === 'BG') {\n          isColorCamera = true;\n        } else if (CFA === 'RGGB') {\n          isColorCamera = true;\n        } else {\n          isColorCamera = false;\n        }\n        console.log(\":isColorCamera:\", isColorCamera, \"CFA:\", CFA);\n        // \n        const analysis = await processAsync(() => {\n          const result = isColorCamera\n            ? this.analyzeImageStatistics(mat, 'bayer', CFA, { calculateGain: this.calculateGain, calculateHistogram: calculateHistogram })\n            : this.analyzeImageStatistics(mat, 'gray', { calculateGain: this.calculateGain, calculateHistogram: calculateHistogram });\n\n          if (this.ImageGainR != 1 || this.ImageGainB != 1 || this.ImageOffset != 0) {\n            result.gainR = this.ImageGainR;\n            result.gainB = this.ImageGainB;\n            result.offset = this.ImageOffset;\n          }\n\n          this.progressValue = 40;\n          this.progressDescription = this.$i18n.locale === 'cn' ? '...' : 'Calculating histogram...';\n          return result;\n        });\n\n        if (analysis.histogram) {\n          this.$bus.$emit('showHistogram', analysis.histogram);  //  \n          this.$bus.$emit('ChangeDialPosition', blackLevel, whiteLevel);  // \n          this.$bus.$emit('AutoHistogramNum', blackLevel, whiteLevel);\n        }\n\n        this.lastImageProcessParams = {\n          blackLevel: blackLevel,\n          whiteLevel: whiteLevel,\n          CFA: CFA,\n          analysis: analysis,\n          isColorCamera: isColorCamera,\n        };\n\n        // 8\n        targetImg8 = await processAsync(() => {\n          const result = isColorCamera\n            ? this.applyStretchAndGain(mat, analysis, 'bayer', CFA, blackLevel, whiteLevel)\n            : this.applyStretchAndGain(mat, analysis, 'gray', CFA, blackLevel, whiteLevel);\n\n          // mat\n          if (mat) {\n            mat.delete();\n            mat = null;\n          }\n\n          this.progressValue = 60;\n          this.progressDescription = this.$i18n.locale === 'cn' ? '...' : 'Processing with parameters...';\n          return result;\n        });\n\n        // \n        if (this.isPolarAxisMode) {\n          await processAsync(() => {\n            resizeImg = new cv.Mat();\n            cv.resize(targetImg8, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n\n            if (targetImg8) {\n              targetImg8.delete();\n              targetImg8 = null;\n            }\n            this.progressValue = 0;\n            return true;\n          });\n\n          this.$bus.$emit('showSolveImage', resizeImg);\n\n          if (resizeImg) {\n            resizeImg.delete();\n            resizeImg = null;\n          }\n        } else {\n          // ImageData\n          const colorData = await processAsync(() => {\n            const data = new ImageData(\n              new Uint8ClampedArray(targetImg8.data),\n              targetImg8.cols,\n              targetImg8.rows\n            );\n\n            if (targetImg8) {\n              targetImg8.delete();\n              targetImg8 = null;\n            }\n            if (resizeImg) {\n              resizeImg.delete();\n              resizeImg = null;\n            }\n            this.progressValue = 80;\n            this.progressDescription = this.$i18n.locale === 'cn' ? 'ImageData...' : 'Converting to ImageData object...';\n            return data;\n          });\n\n          this.drawImgData = true;\n\n          // \n          await processAsync(() => {\n            this.bufferCanvas.width = colorData.width;\n            this.bufferCanvas.height = colorData.height;\n            this.bufferCtx.putImageData(colorData, 0, 0);\n            this.progressValue = 90;\n            this.progressDescription = this.$i18n.locale === 'cn' ? '...' : 'Drawing buffer canvas image...';\n            return true;\n          });\n\n          // \n          this.progressValue = 100;\n          this.progressDescription = this.$i18n.locale === 'cn' ? '...' : 'Drawing main canvas image...';\n          this.drawImageData();\n        }\n      } catch (error) {\n        this.handleError('Process image data error', 'processImage', error);\n        this.progressValue = 0;\n        this.progressDescription = '';\n      } finally {\n        this.progressValue = 0;\n        // Mat\n        if (mat) {\n          mat.delete();\n          mat = null;\n        }\n        if (targetImg8) {\n          targetImg8.delete();\n          targetImg8 = null;\n        }\n        if (resizeImg) {\n          resizeImg.delete();\n          resizeImg = null;\n        }\n        // \n        this.checkMemoryUsage();\n        // \n        if (window.gc) {\n          try { window.gc(); } catch (e) {}\n        }\n      }\n    },\n\n\n    /**\n     * \n     * @param {cv.Mat} imgMat Mat\n     * @param {int} mode \n     * @returns {intint} \n     */\n    GetAutoStretch(imgMat, mode) {\n      //  Mat 16\n      //  OpenCV  meanStdDev \n      const means = new cv.Mat();\n      const stdDevs = new cv.Mat();\n\n      // \n      cv.meanStdDev(imgMat, means, stdDevs);\n\n      // \n      const mean = means.doubleAt(0, 0);\n      const stdDev = stdDevs.doubleAt(0, 0);\n\n      //  Mat \n      means.delete();\n      stdDevs.delete();\n\n      // \n      let a, b;\n      switch (mode) {\n        case 0: a = 3; b = 5; break;\n        case 1: a = 2; b = 5; break;\n        case 2: a = 3; b = 8; break;\n        default: a = 2; b = 8;\n      }\n\n      // 16\n      const maxValue = 65535;\n\n      // \n      let blackLevel = Math.round(Math.max(0, mean - stdDev * a));\n      let whiteLevel = Math.round(Math.min(maxValue, mean + stdDev * b));\n\n      //  blackLevel < whiteLevel\n      if (blackLevel >= whiteLevel) {\n        blackLevel = whiteLevel - 1;\n      }\n\n      return { blackLevel, whiteLevel };\n    },\n\n    /**\n     * 16\n     * @param {cv.Mat} img16 - 16Mat\n     * @param {string} imageType - : 'gray'()  'bayer'(Bayer)\n     * @param {string} bayerPattern - BayerimageType'bayer': 'RGGB', 'GR', 'GB', 'BG'\n     * @param {Object} options - \n     * @param {number} options.bins - 256\n     * @param {boolean} options.calculateGain - true\n     * @param {boolean} options.usePercentile - true\n     * @param {number} options.lowPercentile - 1\n     * @param {number} options.highPercentile - 99\n     * @returns {Object} \n     */\n    analyzeImageStatistics(img16, imageType, bayerPattern = 'RGGB', options = {}) {\n      // Mat\n      if (!img16 || img16.rows <= 0 || img16.cols <= 0) {\n        console.error('');\n        return {};\n      }\n\n      const { calculateGain = true, calculateHistogram = true } = options;\n      const result = {};\n\n\n      // \n      const step = 4;\n\n      // \n      const safeUshortAt = (mat, y, x) => {\n        if (y >= 0 && y < mat.rows && x >= 0 && x < mat.cols) {\n          try {\n            return mat.ushortAt(y, x);\n          } catch (e) {\n            console.error(`: (${y},${x})`);\n            return 0;\n          }\n        }\n        return 0;\n      };\n\n      // \n      const safeUcharAt = (mask, y, x, value) => {\n        if (y >= 0 && y < mask.rows && x >= 0 && x < mask.cols) {\n          try {\n            mask.ucharAt(y, x, value);\n          } catch (e) {\n            console.error(`: (${y},${x})`);\n          }\n        }\n      };\n\n      if (imageType === 'gray') {\n        if (calculateHistogram) {\n          // \n          const histData = Array(65536).fill(0);\n          for (let i = 0; i < img16.rows; i += step) {\n            for (let j = 0; j < img16.cols; j += step) {\n              try {\n                histData[safeUshortAt(img16, i, j)]++;\n              } catch (e) {\n                // \n              }\n            }\n          }\n          result.histogram = histData;\n        }\n      } else if (imageType === 'bayer') {\n        // Bayer\n        if (img16.rows < 2 || img16.cols < 2) {\n          console.error('Bayer');\n          return {};\n        }\n\n        const rows = img16.rows;\n        const cols = img16.cols;\n\n        //  - \n        const maskR = new cv.Mat(rows, cols, cv.CV_8UC1, new cv.Scalar(0));\n        const maskG = new cv.Mat(rows, cols, cv.CV_8UC1, new cv.Scalar(0));\n        const maskB = new cv.Mat(rows, cols, cv.CV_8UC1, new cv.Scalar(0));\n\n        //  - \n        const sampleStep = Math.max(2, Math.floor(Math.min(rows, cols) / 200) * 2);\n\n        // Bayer\n        let rOffsets, gOffsets, bOffsets;\n        switch (bayerPattern) {\n          case 'RGGB':\n            rOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            bOffsets = [{ y: 1, x: 1 }];\n            break;\n          case 'GR':\n            gOffsets = [{ y: 0, x: 0 }, { y: 1, x: 1 }];\n            rOffsets = [{ y: 0, x: 1 }];\n            bOffsets = [{ y: 1, x: 0 }];\n            break;\n          case 'GB':\n            gOffsets = [{ y: 0, x: 0 }, { y: 1, x: 1 }];\n            bOffsets = [{ y: 0, x: 1 }];\n            rOffsets = [{ y: 1, x: 0 }];\n            break;\n          case 'BG':\n            bOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            rOffsets = [{ y: 1, x: 1 }];\n            break;\n          default:\n            rOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            bOffsets = [{ y: 1, x: 1 }];\n        }\n\n        // \n        const rValues = [];\n        const gValues = [];\n        const bValues = [];\n\n        // \n        for (let y = 0; y < rows; y += sampleStep) {\n          for (let x = 0; x < cols; x += sampleStep) {\n            // \n            for (const pos of rOffsets) {\n              const py = y + pos.y;\n              const px = x + pos.x;\n              if (py < rows && px < cols && py >= 0 && px >= 0) {\n                try {\n                  maskR.ucharAt(py, px, 255);\n                  if (calculateGain && y % (sampleStep * 2) === 0 && x % (sampleStep * 2) === 0) {\n                    rValues.push(safeUshortAt(img16, py, px));\n                  }\n                } catch (e) {\n                  console.error(`R(${py},${px})`, e);\n                }\n              }\n            }\n\n            // \n            for (const pos of gOffsets) {\n              const py = y + pos.y;\n              const px = x + pos.x;\n              if (py < rows && px < cols && py >= 0 && px >= 0) {\n                try {\n                  maskG.ucharAt(py, px, 255);\n                  if (calculateGain && y % (sampleStep * 2) === 0 && x % (sampleStep * 2) === 0) {\n                    gValues.push(safeUshortAt(img16, py, px));\n                  }\n                } catch (e) {\n                  console.error(`G(${py},${px})`, e);\n                }\n              }\n            }\n\n            // \n            for (const pos of bOffsets) {\n              const py = y + pos.y;\n              const px = x + pos.x;\n              if (py < rows && px < cols && py >= 0 && px >= 0) {\n                try {\n                  maskB.ucharAt(py, px, 255);\n                  if (calculateGain && y % (sampleStep * 2) === 0 && x % (sampleStep * 2) === 0) {\n                    bValues.push(safeUshortAt(img16, py, px));\n                  }\n                } catch (e) {\n                  console.error(`B(${py},${px})`, e);\n                }\n              }\n            }\n          }\n        }\n\n        if (calculateHistogram) {\n          // \n          const histDataR = Array(65536).fill(0);\n          const histDataG = Array(65536).fill(0);\n          const histDataB = Array(65536).fill(0);\n          \n          // \n          const maxRows = rows - 1;\n          const maxCols = cols - 1;\n          \n          for (let i = 0; i < maxRows; i += 2) {\n            for (let j = 0; j < maxCols; j += 2) {\n              try {\n                if (bayerPattern === 'RGGB') {\n                  histDataR[safeUshortAt(img16, i, j)]++;\n                  const g1 = safeUshortAt(img16, i + 1, j);\n                  const g2 = safeUshortAt(img16, i, j + 1);\n                  histDataG[Math.floor((g1 + g2) / 2)]++;\n                  histDataB[safeUshortAt(img16, i + 1, j + 1)]++;\n                } else if (bayerPattern === 'GR') {\n                  const g1 = safeUshortAt(img16, i, j);\n                  const g2 = safeUshortAt(img16, i + 1, j + 1);\n                  histDataG[Math.floor((g1 + g2) / 2)]++;\n                  histDataR[safeUshortAt(img16, i + 1, j)]++;\n                  histDataB[safeUshortAt(img16, i, j + 1)]++;\n                } else if (bayerPattern === 'GB') {\n                  const g1 = safeUshortAt(img16, i, j);\n                  const g2 = safeUshortAt(img16, i + 1, j + 1);\n                  histDataG[Math.floor((g1 + g2) / 2)]++;\n                  histDataB[safeUshortAt(img16, i + 1, j)]++;\n                  histDataR[safeUshortAt(img16, i, j + 1)]++;\n                } else if (bayerPattern === 'BG') {\n                  histDataB[safeUshortAt(img16, i, j)]++;\n                  const g1 = safeUshortAt(img16, i + 1, j);\n                  const g2 = safeUshortAt(img16, i, j + 1);\n                  histDataG[Math.floor((g1 + g2) / 2)]++;\n                  histDataR[safeUshortAt(img16, i + 1, j + 1)]++;\n                }\n              } catch (e) {\n                console.error(`(${i},${j})`, e);\n              }\n            }\n          }\n          result.histogram = [histDataR, histDataG, histDataB];\n        }\n\n        //  - \n        if (calculateGain && rValues.length > 0 && gValues.length > 0 && bValues.length > 0) {\n          try {\n            // \n            const rMean = this.truncatedMean(rValues);\n            const gMean = this.truncatedMean(gValues);\n            const bMean = this.truncatedMean(bValues);\n\n            // \n            const gainR = Math.min(Math.max(gMean / rMean, 0.1), 2);\n            const gainB = Math.min(Math.max(gMean / bMean, 0.1), 2);\n\n            result.whiteBalance = {\n              gainR: gainR,\n              gainB: gainB\n            };\n          } catch (e) {\n            console.error(\"\", e);\n            result.whiteBalance = { gainR: 1.0, gainB: 1.0 };\n          }\n        }\n\n        // \n        try {\n          maskR.delete();\n          maskG.delete();\n          maskB.delete();\n        } catch (e) {\n          console.error(\"\", e);\n        }\n      }\n      \n      return result;\n    },\n\n    /**\n     *  - \n     * @param {Array} arr - \n     * @param {number} lowerPercent - 5%\n     * @param {number} upperPercent - 5%\n     * @returns {number} \n     */\n     truncatedMean(arr, lowerPercent = 5, upperPercent = 5) {\n      if (arr.length === 0) return 0;\n      \n      // \n      const filtered = arr.filter(v => v > 100 && v < 65000);\n      if (filtered.length === 0) return arr.length > 0 ? arr[0] : 0;\n      \n      // \n      let workingArray = filtered;\n      if (filtered.length > 10000) {\n        workingArray = [];\n        const step = Math.ceil(filtered.length / 5000);\n        for (let i = 0; i < filtered.length; i += step) {\n          workingArray.push(filtered[i]);\n        }\n      }\n      \n      // \n      workingArray.sort((a, b) => a - b);\n      \n      // \n      const lowerCutoff = Math.floor(workingArray.length * (lowerPercent / 100));\n      const upperCutoff = Math.floor(workingArray.length * (1 - upperPercent / 100));\n      \n      // \n      const truncated = workingArray.slice(lowerCutoff, upperCutoff);\n      \n      // \n      if (truncated.length === 0) return workingArray[Math.floor(workingArray.length / 2)];\n      \n      const sum = truncated.reduce((acc, val) => acc + val, 0);\n      return sum / truncated.length;\n    },\n    /**\n     *  - \n     */\n    quickMedian(arr) {\n      if (arr.length === 0) return 0;\n      if (arr.length < 100) {\n        // \n        const sortedArr = [...arr].sort((a, b) => a - b);\n        return sortedArr[Math.floor(sortedArr.length / 2)];\n      }\n\n      // \n      const samples = [];\n      for (let i = 0; i < 100; i++) {\n        samples.push(arr[Math.floor(Math.random() * arr.length)]);\n      }\n      samples.sort((a, b) => a - b);\n      return samples[50]; // \n    },\n\n    /**\n     * 168\n     * @param {cv.Mat} img16 - 16Mat\n     * @param {Object} analysis - analyzeImageStatistics\n     * @param {string} imageType - : 'gray'()  'bayer'()\n     * @param {string} bayerPattern - BayerimageType'bayer'\n     * @param {Object} stretchParams - \n     * @param {number} stretchParams.blackLevel -  \n     * @param {number} stretchParams.whiteLevel - \n     * @returns {cv.Mat} 8RGBA\n     */\n    applyStretchAndGain(img16, analysis, imageType, bayerPattern = 'RGGB', blackLevel, whiteLevel) {\n      // \n      if (blackLevel >= whiteLevel) {\n        blackLevel = whiteLevel - 1;\n      }\n\n      // \n      const scale = 255.0 / (whiteLevel - blackLevel);\n      const offset = -blackLevel * scale;\n\n      if (imageType === 'gray') {\n        //  - 8RGBA\n        const rgbaImg = new cv.Mat();\n        const gray8 = new cv.Mat();\n\n        img16.convertTo(gray8, cv.CV_8U, scale, offset);\n        cv.cvtColor(gray8, rgbaImg, cv.COLOR_GRAY2RGBA);\n        gray8.delete();\n\n        return rgbaImg;\n      } else {\n        // \n        let gainR = 1.0, gainB = 1.0;\n        if (analysis && analysis.whiteBalance) {\n          gainR = analysis.whiteBalance.gainR;\n          gainB = analysis.whiteBalance.gainB;\n        }\n\n        // LUT\n        // 1. LUT\n        const { lutR, lutG, lutB } = this.getLUT(blackLevel, whiteLevel, gainR, gainB);\n\n        // 3. 8\n        const img8 = new cv.Mat(img16.rows, img16.cols, cv.CV_8UC1);\n\n        // 4. LUT\n        // \n        const rows = img16.rows;\n        const cols = img16.cols;\n        const data8 = img8.data;\n\n        // Bayer\n        let rOffsets, gOffsets, bOffsets;\n        switch (bayerPattern) {\n          case 'RGGB':\n            rOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            bOffsets = [{ y: 1, x: 1 }];\n            break;\n          case 'GR':\n            gOffsets = [{ y: 0, x: 0 }, { y: 1, x: 1 }];\n            rOffsets = [{ y: 0, x: 1 }];\n            bOffsets = [{ y: 1, x: 0 }];\n            break;\n          case 'GB':\n            gOffsets = [{ y: 0, x: 0 }, { y: 1, x: 1 }];\n            bOffsets = [{ y: 0, x: 1 }];\n            rOffsets = [{ y: 1, x: 0 }];\n            break;\n          case 'BG':\n            bOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            rOffsets = [{ y: 1, x: 1 }];\n            break;\n          default:\n            rOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            bOffsets = [{ y: 1, x: 1 }];\n        }\n\n        // TypedArray - \n        const data16U = img16.data16U;\n\n        // BayerLUT\n        for (let y = 0; y < rows; y += 2) {\n          for (let x = 0; x < cols; x += 2) {\n            // 2x2\n            // R\n            for (const pos of rOffsets) {\n              const idx = (y + pos.y) * cols + (x + pos.x);\n              if (idx < data16U.length) {\n                data8[idx] = lutR[data16U[idx]];\n              }\n            }\n\n            // G\n            for (const pos of gOffsets) {\n              const idx = (y + pos.y) * cols + (x + pos.x);\n              if (idx < data16U.length) {\n                data8[idx] = lutG[data16U[idx]];\n              }\n            }\n\n            // B\n            for (const pos of bOffsets) {\n              const idx = (y + pos.y) * cols + (x + pos.x);\n              if (idx < data16U.length) {\n                data8[idx] = lutB[data16U[idx]];\n              }\n            }\n          }\n        }\n\n        // 5. 8RGBA\n        const rgbaImg = new cv.Mat();\n        let cvmode;\n        switch (bayerPattern) {\n          case 'RGGB': cvmode = cv.COLOR_BayerRG2RGBA; break;\n          case 'GR': cvmode = cv.COLOR_BayerGR2RGBA; break;\n          case 'GB': cvmode = cv.COLOR_BayerGB2RGBA; break;\n          case 'BG': cvmode = cv.COLOR_BayerBG2RGBA; break;\n          default: cvmode = cv.COLOR_BayerRG2RGBA;\n        }\n\n        cv.cvtColor(img8, rgbaImg, cvmode);\n        img8.delete();\n\n        return rgbaImg;\n      }\n    },\n    /**\n     * LUT\n     * @param {number} blackLevel - \n     * @param {number} whiteLevel - \n     * @param {number} gainR - \n     * @param {number} gainB - \n     * @returns {Object} LUTObject\n     */\n    getLUT(blackLevel, whiteLevel, gainR, gainB) {\n      // \n      const currentParams = `${blackLevel}_${whiteLevel}_${gainR}_${gainB}`;\n      \n      // LUT\n      if (this.lutCache.lastParams === currentParams && \n          this.lutCache.lutR && this.lutCache.lutG && this.lutCache.lutB) {\n        return {\n          lutR: this.lutCache.lutR,\n          lutG: this.lutCache.lutG,\n          lutB: this.lutCache.lutB\n        };\n      }\n      \n      // LUT\n      console.log('LUT');\n      \n      // \n      const scale = 255.0 / (whiteLevel - blackLevel);\n      \n      // LUT\n      const lutR = this.lutCache.lutR || new Uint8Array(65536);\n      const lutG = this.lutCache.lutG || new Uint8Array(65536);\n      const lutB = this.lutCache.lutB || new Uint8Array(65536);\n      \n      // LUT\n      for (let i = 0; i < 65536; i++) {\n        lutR[i] = Math.min(255, Math.max(0, Math.round((i * gainR - blackLevel) * scale)));\n        lutG[i] = Math.min(255, Math.max(0, Math.round((i - blackLevel) * scale)));\n        lutB[i] = Math.min(255, Math.max(0, Math.round((i * gainB - blackLevel) * scale)));\n      }\n      \n      // \n      this.lutCache.lastParams = currentParams;\n      this.lutCache.lutR = lutR;\n      this.lutCache.lutG = lutG;\n      this.lutCache.lutB = lutB;\n      \n      return { lutR, lutG, lutB };\n    },\n    // checkImageData(img) {\n    //   //  cv.Mat \n    //   if (!(img instanceof cv.Mat)) {\n    //     this.SendConsoleLogMsg('The image is not a valid cv.Mat object.', 'error');\n    //     return false;\n    //   }\n\n    //   // \n    //   if (img.empty()) {\n    //     this.SendConsoleLogMsg('The image is empty.', 'error');\n    //     return false;\n    //   }\n\n    //   //  8  16 \n    //   const depth = img.type() & cv.CV_MAT_DEPTH_MASK;\n    //   if (depth !== cv.CV_8U && depth !== cv.CV_16U) {\n    //     this.SendConsoleLogMsg('The image depth is not 8-bit or 16-bit.', 'error');\n    //     return false;\n    //   }\n\n    //   // \n    //   if (img.rows <= 0 || img.cols <= 0) {\n    //     this.SendConsoleLogMsg('The image dimensions are not valid.', 'error');\n    //     return false;\n    //   }\n\n    //   // 0\n    //   const data = img.data;\n    //   let isAllZero = true;\n    //   const maxValue = depth === cv.CV_8U ? 255 : 65535;\n\n    //   for (let i = 0; i < data.length; i++) {\n    //     if (data[i] < 0 || data[i] > maxValue) {\n    //       this.SendConsoleLogMsg('The image data contains out-of-range values.', 'error');\n    //       return false;\n    //     }\n    //     if (data[i] !== 0) {\n    //       isAllZero = false;\n    //     }\n    //   }\n\n    //   if (isAllZero) {\n    //     this.SendConsoleLogMsg('The image data is all zero.', 'error');\n    //     return false;\n    //   }\n    //   return true;\n    // },\n\n\n    // processImage(imgArray) {\n    //   this.progressValue = 0;\n    //   try {\n    //     if (!(imgArray instanceof ArrayBuffer) && !ArrayBuffer.isView(imgArray)) {\n    //       throw new Error(\"Input must be ArrayBuffer or TypedArray\");\n    //     }\n    //     const totalStartTime = new Date(); // \n\n    //     this.SendConsoleLogMsg('CaptureTestTime | Process image data start.', 'info');\n    //     const startTime = new Date();\n    //     let img_bit = -1;\n    //     let uintArray;\n    //     if (imgArray.byteLength === this.mainCameraSizeX * this.mainCameraSizeY * 2 ){\n    //       uintArray = new Uint16Array(imgArray);\n    //       img_bit = 16;\n    //     }else if(imgArray.byteLength === this.mainCameraSizeX * this.mainCameraSizeY){\n    //       uintArray = new Uint8Array(imgArray);\n    //       img_bit = 8;\n    //     }else{\n    //       this.SendConsoleLogMsg(`Image data is underfind bit`, 'error');\n    //       return;\n    //     }\n\n    //     this.SendConsoleLogMsg(`Image data detected as ${img_bit}-bit.`, 'info');\n\n\n\n    //     // \n    //     const canvasWidth = parseInt(this.mainCameraSizeX);\n    //     const canvasHeight = parseInt(this.mainCameraSizeY);\n\n    //     // \n    //     const modifiedCanvas = document.getElementById('mainCamera-canvas');\n    //     const modifiedCtx = modifiedCanvas.getContext('2d');\n\n\n\n    //     modifiedCanvas.width = canvasWidth;\n    //     modifiedCanvas.height = canvasHeight;\n\n    //     let mat;\n    //     if (img_bit === 16){\n    //       mat = new cv.Mat(canvasHeight, canvasWidth, cv.CV_16UC1);\n    //       mat.data16U.set(uintArray);\n    //     }else{\n    //       mat = new cv.Mat(canvasHeight, canvasWidth, cv.CV_8UC1);\n    //       mat.data.set(uintArray);\n    //     }\n    //     this.progressValue = 10;\n\n    //     const matEndTime = new Date(); // mat \n    //     this.SendConsoleLogMsg('CaptureTestTime | Mat creation time: ' + (matEndTime.getTime() - startTime.getTime()) + ' ms', 'info');\n\n    //     // \n    //     let gainR = this.ImageGainR;\n    //     let gainB = this.ImageGainB;\n    //     let offset = this.ImageOffset;\n    //     let CFA = this.ImageCFA;\n    //     let mode = 1;\n\n    //     // \n    //     let B = 0;\n    //     let W = 65535;\n    //     let cvmode = 0;\n\n    //     const { blackLevel, whiteLevel } = this.GetAutoStretch(uintArray, mode, img_bit);\n    //     B = blackLevel;\n    //     W = whiteLevel;\n    //     this.progressValue = 30;\n    //     const GetAutoStretchEndTime = new Date(); // GetAutoStretch \n    //     this.SendConsoleLogMsg('CaptureTestTime | GetAutoStretch time: ' + (GetAutoStretchEndTime.getTime() - matEndTime.getTime()) + ' ms', 'info');\n\n    //     // CFA\n    //     if (CFA === 'GR') {\n    //       cvmode = cv.COLOR_BayerGR2RGBA;\n    //     } else if (CFA === 'GB') {\n    //       cvmode = cv.COLOR_BayerGB2RGBA;\n    //     } else if (CFA === 'BG') {\n    //       cvmode = cv.COLOR_BayerBG2RGBA;\n    //     } else if (CFA === 'RGGB') {\n    //       cvmode = cv.COLOR_BayerRG2RGBA;\n    //     }else{\n    //       cvmode = cv.COLOR_GRAY2RGBA\n    //     }\n\n    //     // \n    //     let dst = new cv.Mat();\n\n    //     try {\n    //       cv.cvtColor(mat, dst, cvmode);\n    //     } catch (error) {\n    //       this.handleError('cvtColor ', 'cvtColor', error);\n    //       mat.delete();\n    //       return;\n    //     }\n\n    //     this.progressValue = 50;\n\n    //     const cvtColorEndTime = new Date(); // cvtColor \n    //     this.SendConsoleLogMsg('CaptureTestTime | cvtColor time: ' + (cvtColorEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n    //     mat.delete();\n\n    //     // \n    //     // cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n    //     // dst.delete();\n\n    //     // let originalImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n    //     // resizeImg.delete();\n\n    //     let resizeImg = new cv.Mat(); // \n    //     if (this.isPolarAxisMode) {\n    //       this.progressValue = 0;\n    //       // \n    //       cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n    //       dst.delete();\n\n    //       let originalImg8;\n    //       if (img_bit === 16){\n    //         originalImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n    //       }else{\n    //         originalImg8 = resizeImg;\n    //       }\n\n    //       resizeImg.delete();\n\n    //       const Bit16To8_StretchEndTime = new Date(); // Bit16To8_Stretch \n    //       this.SendConsoleLogMsg('CaptureTestTime | Bit16To8_Stretch time: ' + (Bit16To8_StretchEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n    //       let targetImg8 = this.ImageSoftAWB(originalImg8, gainR, gainB, offset);\n    //       this.$bus.$emit('showSolveImage', targetImg8);\n\n    //       const ImageSoftAWBEndTime = new Date(); // ImageSoftAWB \n    //       this.SendConsoleLogMsg('CaptureTestTime | ImageSoftAWB time: ' + (ImageSoftAWBEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n    //     } else {\n    //       modifiedCtx.clearRect(0, 0, modifiedCanvas.width, modifiedCanvas.height);\n    //       cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n    //       this.progressValue = 70;\n    //       let originalResizeImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n    //       this.OriginalImage = new ImageData(new Uint8ClampedArray(originalResizeImg8.data), originalResizeImg8.cols, originalResizeImg8.rows);\n    //       resizeImg.delete();\n    //       originalResizeImg8.delete();\n    //       console.log('dst.data.length: ', dst.data.length);\n    //       console.log('dst.cols: ', dst.cols);\n    //       console.log('dst.rows: ', dst.rows);\n    //       let originalImg8 = this.Bit16To8_Stretch(dst, B, W);\n    //       dst.delete();\n    //       this.progressValue = 80;\n\n    //       const Bit16To8_StretchEndTime = new Date(); // Bit16To8_Stretch \n    //       this.SendConsoleLogMsg('CaptureTestTime | Bit16To8_Stretch time: ' + (Bit16To8_StretchEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n    //       // let targetImg8 = this.ImageSoftAWB(originalImg8, gainR, gainB, offset);\n\n    //       // const ImageSoftAWBEndTime = new Date(); // ImageSoftAWB \n    //       // this.SendConsoleLogMsg('CaptureTestTime | ImageSoftAWB time: ' + (ImageSoftAWBEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n\n    //       // originalImg8.delete();\n\n    //       this.lastImageProcessParams = {\n    //         gainR: gainR,\n    //         gainB: gainB,\n    //         offset: offset,\n    //         CFA: CFA,\n    //         mode: mode,\n    //         B: B,\n    //         W: W,\n    //         cvmode: cvmode,\n    //       };\n\n    //       modifiedCanvas.width = this.CanvasWidth;\n    //       modifiedCanvas.height = this.CanvasHeight;\n    //       let colorData = new ImageData(new Uint8ClampedArray(originalImg8.data), originalImg8.cols, originalImg8.rows);\n    //       originalImg8.delete();\n    //       this.drawImgData = colorData;\n    //       this.progressValue = 90;\n    //       // \n    //       this.bufferCanvas.width = colorData.width;\n    //       this.bufferCanvas.height = colorData.height;\n    //       // \n    //       this.bufferCtx.putImageData(colorData, 0, 0);\n    //       // \n    //       this.drawImageData();\n    //       this.progressValue = 100;\n    //       const DrawImageDataEndTime = new Date(); // DrawImageData \n    //       this.SendConsoleLogMsg('CaptureTestTime | DrawImageData time: ' + (DrawImageDataEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n\n    //       const endTime = new Date();\n    //       const elapsedTime = endTime.getTime() - startTime.getTime();\n    //       this.SendConsoleLogMsg('CaptureTestTime | Process image data end:' + elapsedTime + ' milliseconds', 'info');\n\n    //       const totalEndTime = new Date(); // \n    //       this.SendConsoleLogMsg('CaptureTestTime | Total process image data time: ' + (totalEndTime.getTime() - totalStartTime.getTime()) + ' ms', 'info');\n\n    //       this.$bus.$emit('showCaptureImage');\n    //       this.MakeHistogram(colorData);\n    //       this.histogramImage = colorData;\n\n    //       const checkDetectedStarsFinish = () => {\n    //         if (this.DetectedStarsFinish) {\n    //           this.detectStarsImg = this.DrawDetectStars(targetImg8, this.DetectedStarsList);\n    //           targetImg8.delete();\n    //           clearInterval(intervalId);\n    //         }\n    //       };\n\n    //       const intervalId = setInterval(checkDetectedStarsFinish, 1000);\n    //     }\n\n    //     // if (this.isNotDrawStars) {\n    //     //   this.drawImageData(this.drawImgData);\n    //     // } else {\n    //     //   if (this.detectStarsImg != null) {\n    //     //     this.drawImageData(this.detectStarsImg);\n    //     //   } else {\n    //     //     this.drawImageData(this.drawImgData);\n    //     //   }\n    //     // }\n\n    //     // const windowWidth = window.innerWidth;\n    //     // const windowHeight = window.innerHeight;\n\n    //     // const minTranslateX = this.imageWidth - this.CanvasWidth;\n    //     // const minTranslateY = this.imageHeight - this.CanvasHeight;\n\n    //     // //  ScaleImageSize_X  ScaleImageSize_Y\n    //     // this.ScaleImageSize_X = Math.floor(minTranslateX / this.CanvasWidth * windowWidth + windowWidth);\n    //     // this.ScaleImageSize_Y = Math.floor(minTranslateY / this.CanvasHeight * windowHeight + windowHeight);\n\n    //     // this.$bus.$emit('ScaleImageSize', this.ScaleImageSize_X, this.ScaleImageSize_Y);\n\n    //   } catch (error) {\n    //     this.handleError('Process image data error', 'processImage', error);\n    //     if (mat) {\n    //       mat.delete();\n    //     }\n    //     if (resizeImg) {\n    //       resizeImg.delete();\n    //     }\n    //     if (originalImg8) {\n    //       originalImg8.delete();\n    //     }\n    //     if (targetImg8) {\n    //       targetImg8.delete();\n    //     }\n    //   }\n    // },\n\n    // histogramStretch(imageData, min, max) {\n    //   const startTime = new Date();\n    //   // Convert ImageData to cv.Mat\n    //   const image = cv.matFromImageData(imageData);\n    //   let Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | : ' + (Time1.getTime() - startTime.getTime()) + ' ms', 'info');\n    //   // Perform the histogram stretch\n    //   const channels = new cv.MatVector();\n    //   cv.split(image, channels); // Split channels (BGR) into separate Mat objects\n    //   let Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | : ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Calculate alpha and beta for each channel\n    //   let alpha = 255.0 / (max - min);\n    //   let beta = -min * alpha;\n\n    //   if (alpha < 0) {\n    //     alpha = 0;\n    //     beta = 0;\n    //   } else if (alpha > 255) {\n    //     alpha = 255;\n    //     beta = 0;\n    //   }\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | alphabeta: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   // Iterate over each channel and apply histogram stretching\n    //   for (let i = 0; i < channels.size(); i++) {\n    //     let channel = channels.get(i);\n\n\n    //     // Apply histogram stretching to the channel\n    //     channel.convertTo(channel, -1, alpha, beta);\n\n    //     // Release the memory of channel\n    //     channel.delete();\n    //   }\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | : ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Merge the channels back into a single image\n    //   const stretchImage = new cv.Mat();\n    //   cv.merge(channels, stretchImage);\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | : ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   // Release the memory of channels and MatVector\n    //   channels.delete();\n\n    //   // Convert cv.Mat back to ImageData\n    //   const stretchedImageData = new ImageData(new Uint8ClampedArray(stretchImage.data), stretchImage.cols, stretchImage.rows);\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | : ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Clean up\n    //   image.delete();\n    //   stretchImage.delete();\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | : ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   this.SendConsoleLogMsg('histogramStretch | : ' + (Time1.getTime() - startTime.getTime()) + ' ms', 'info');\n    //   return stretchedImageData;\n    // },\n\n    histogramStretch(imageData, min, max) {\n      if (max < min) {\n        this.SendConsoleLogMsg('histogramStretch | max < min, return original imageData', 'warning');\n        max = min;\n      }\n      const startTime = new Date();\n      // Calculate alpha and beta\n      let alpha = 255.0 / (max - min);\n      let beta = -min * alpha;\n\n      if (alpha < 0) {\n        alpha = 0;\n        beta = 0;\n      } else if (alpha > 255) {\n        alpha = 255;\n        beta = 0;\n      }\n\n      // Apply histogram stretching directly on ImageData\n      for (let i = 0; i < imageData.data.length; i += 4) {\n        for (let j = 0; j < 3; j++) { // For each color channel\n          let value = imageData.data[i + j];\n          value = value * alpha + beta;\n          imageData.data[i + j] = Math.max(0, Math.min(255, value));\n        }\n      }\n\n      const endTime = new Date();\n      this.SendConsoleLogMsg('histogramStretch | : ' + (endTime.getTime() - startTime.getTime()) + ' ms', 'info');\n      return imageData;\n    },\n    localWhiteBalanceAdjustment(imageData, gainR, gainB, offset) {\n      // \n      let value;\n      for (let i = 0; i < imageData.data.length; i += 4) {\n        for (let j = 0; j < 3; j++) { // For each color channel\n          if (j == 0) {\n            value = imageData.data[i + j];\n            value = value * gainB + offset;\n          } else if (j == 2) {\n            value = imageData.data[i + j];\n            value = value * gainR + offset;\n          } else {\n            value = imageData.data[i + j];\n            value = value * 1 + offset;\n          }\n          imageData.data[i + j] = Math.max(0, Math.min(255, value));\n        }\n      }\n\n\n      return imageData;\n    },\n\n    initCanvas() {\n      this.bufferCanvas = document.createElement('canvas');\n      this.bufferCtx = this.bufferCanvas.getContext('2d');\n\n      this.tempCanvas = document.createElement('canvas');\n      this.tempCtx = this.tempCanvas.getContext('2d');\n    },\n\n    //*/*/*/*/*/*/*/*/*/*/*/\n    SwitchImageToShow(isOriginal) {\n      // console.log('Show Original Image: ', isOriginal);\n      this.SendConsoleLogMsg('Show Original Image:' + isOriginal, 'info');\n      this.isNotDrawStars = isOriginal;\n      if (isOriginal) {\n        // document.removeEventListener('click', this.handleTouchOrMouseDown);\n        this.enableMainCanvasClick = false;\n        this.drawImageData();\n      } else {\n        // document.addEventListener('click', this.handleTouchOrMouseDown);\n        this.enableMainCanvasClick = true;\n        // this.drawImageData(this.detectStarsImg);\n      }\n    },\n\n    // drawImageData() {\n    //   if (this.bufferCanvas == null) {\n    //     this.SendConsoleLogMsg('drawImageData error: bufferCanvas is null or undefined.', 'error');\n    //     return;\n    //   }\n    //   // \n    //   // window.innerWidth; // \n    //   // window.innerHeight; // \n    //   // this.scale \n    //   // this.translateX x\n    //   // this.translateY y\n    //   // this.CanvasWidth  1920\n    //   // this.CanvasHeight  1080\n    //   // this.mainCameraSizeX \n    //   // this.mainCameraSizeY \n    //   // this.bufferCanvas.width \n    //   // this.bufferCanvas.height \n    //   // this.ImageProportion \n    //   // this.ROI_x ROIx\n    //   // this.ROI_y ROIy\n    //   // this.ROI_length ROI\n\n    //   // console.log(':\\n bufferCanvas.width: ', this.bufferCanvas.width, '\\n bufferCanvas.height: ', this.bufferCanvas.height, '\\n ImageProportion: ', this.ImageProportion, '\\n scale: ', this.scale, '\\n visibleX: ', this.visibleX, '\\n visibleY: ', this.visibleY, '\\n visibleWidth: ', this.visibleWidth, '\\n visibleHeight: ', this.visibleHeight, '\\n ROI_x: ', this.ROI_x, '\\n ROI_y: ', this.ROI_y, '\\n ROI_length: ', this.ROI_length);\n\n    //   let startTime = new Date();\n    //   let Time1 = new Date();\n\n    //   // \n    //   const newVisibleWidth = this.bufferCanvas.width * this.scale;\n    //   const newVisibleHeight = newVisibleWidth / this.ImageProportion;\n\n    //   // x\n    //   let newVisibleX = this.visibleX;\n    //   // y\n    //   let newVisibleY = this.visibleY;\n\n    //   // \n    //   if (newVisibleX - newVisibleWidth / 2 < 0) {\n    //     newVisibleX = newVisibleWidth / 2;\n    //   } else if (newVisibleX + newVisibleWidth / 2 > this.bufferCanvas.width) {\n    //     newVisibleX = this.bufferCanvas.width - newVisibleWidth / 2;\n    //   }\n\n    //   if (newVisibleY - newVisibleHeight / 2 < 0) {\n    //     newVisibleY = newVisibleHeight / 2;\n    //   } else if (newVisibleY + newVisibleHeight / 2 > this.bufferCanvas.height) {\n    //     newVisibleY = this.bufferCanvas.height - newVisibleHeight / 2;\n    //   }\n\n    //   // ROI\n    //   // \n    //   const visibleLeft = newVisibleX - newVisibleWidth / 2;\n    //   const visibleRight = newVisibleX + newVisibleWidth / 2;\n    //   const visibleTop = newVisibleY - newVisibleHeight / 2;\n    //   const visibleBottom = newVisibleY + newVisibleHeight / 2;\n\n    //   //  ROI \n    //   const roiLeft = this.ROI_x;\n    //   const roiRight = this.ROI_x + this.ROI_length;\n    //   const roiTop = this.ROI_y;\n    //   const roiBottom = this.ROI_y + this.ROI_length;\n\n    //   //  ROI \n    //   const isRoiInVisible = roiRight >= visibleLeft && roiLeft <= visibleRight && roiBottom >= visibleTop && roiTop <= visibleBottom;\n\n    //   //  ROI \n    //   const roiScreenX = (this.ROI_x - visibleLeft) * (window.innerWidth / newVisibleWidth) + this.RedBoxSideLength * window.innerWidth / newVisibleWidth / 2;\n    //   const roiScreenY = (this.ROI_y - visibleTop) * (window.innerHeight / newVisibleHeight) + this.RedBoxSideLength * window.innerHeight / newVisibleHeight / 2;\n    //   // this.SendConsoleLogMsg('ROI : ' + roiScreenX + '*' + roiScreenY + ' ' + this.RedBoxSideLength * window.innerWidth / newVisibleWidth + '*' + this.RedBoxSideLength * window.innerHeight / newVisibleHeight, 'info');\n    //   this.$bus.$emit('setRedBoxLength', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n    //   this.$bus.$emit('setRedBoxPosition', roiScreenX, roiScreenY);\n    //   // if (isRoiInVisible) {\n    //   //   console.log('ROI , RedBoxSideLength: ', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, ', ', this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n    //   // } else {\n    //   //   console.log('ROI , RedBoxSideLength: ', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, ', ', this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n    //   // }\n\n    //   let Time2 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | : ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Draw buffer canvas on main canvas\n    //   const canvas = this.$refs.mainCanvas;\n    //   const ctx = canvas.getContext('2d');\n    //   ctx.clearRect(0, 0, canvas.width, canvas.height);\n    //   // \n    //   let imageData = this.bufferCtx.getImageData(newVisibleX - newVisibleWidth / 2, newVisibleY - newVisibleHeight / 2, newVisibleWidth, newVisibleHeight);\n\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | : ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n\n    //   // if (this.currentHistogramMax != 255 || this.currentHistogramMin != 0) {\n    //   //   imageData = this.histogramStretch(imageData, this.currentHistogramMin, this.currentHistogramMax);\n    //   // }\n\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | : ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n\n\n    //   // Create a temporary canvas to draw the ImageData\n    //   let tempCanvas = document.createElement('canvas');\n    //   tempCanvas.width = imageData.width;\n    //   tempCanvas.height = imageData.height;\n    //   let tempCtx = tempCanvas.getContext('2d');\n    //   tempCtx.putImageData(imageData, 0, 0);\n\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | : ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n\n    //   // Draw the ImageData on the main canvas\n    //   ctx.drawImage(tempCanvas, 0, 0, tempCanvas.width, tempCanvas.height, 0, 0, canvas.width, canvas.height);\n\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | : ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // ctx.drawImage(this.bufferCanvas, newVisibleX - newVisibleWidth / 2, newVisibleY - newVisibleHeight / 2, newVisibleWidth, newVisibleHeight, 0, 0, canvas.width, canvas.height);\n    //   // this.SendConsoleLogMsg(',:' + newVisibleX + ',' + newVisibleY + ',' + newVisibleWidth + ',' + newVisibleHeight, 'info');\n    //   this.visibleX = newVisibleX;\n    //   this.visibleY = newVisibleY;\n    //   this.visibleWidth = newVisibleWidth;\n    //   this.visibleHeight = newVisibleHeight;\n\n    //   this.$bus.$emit('setCurrentMainCanvasHasImage', true); // \n    //   // QT\n    //   this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendRedBoxState:' + this.RedBoxSideLength + ':' + this.ROI_x + ':' + this.ROI_y);\n    //   this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendVisibleArea:' + this.visibleX + ':' + this.visibleY + ':' + this.scale);\n\n    //   // ROI\n    //   if (this.DrawSelectStarX != -1 && this.DrawSelectStarY != -1 && this.showSelectStar) {\n    //     let radius, canvasStarX, canvasStarY, color;\n    //     // \n    //     if (this.DrawSelectStarHFR != -1) {\n    //       radius = this.DrawSelectStarHFR/this.scale*2;\n    //       canvasStarX = (this.DrawSelectStarX + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n    //       canvasStarY = (this.DrawSelectStarY + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n    //       color = 'green'; // \n    //     } else {\n    //       // \n    //       radius = 10/this.scale; // \n    //       canvasStarX = (this.DrawSelectStarX + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n    //       canvasStarY = (this.DrawSelectStarY + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n    //       color = 'red'; // \n    //     }\n\n    //     // \n    //     const imageData = ctx.getImageData(canvasStarX - radius, canvasStarY - radius, 2 * radius, 2 * radius);\n    //     // \n    //     this.$bus.$emit('selectStarImage', imageData);\n\n    //     // \n    //     ctx.beginPath();\n    //     ctx.arc(canvasStarX, canvasStarY, radius, 0, 2 * Math.PI);\n    //     ctx.strokeStyle = color;\n    //     ctx.lineWidth = 3;\n    //     ctx.stroke();\n    //     ctx.closePath();\n    //   }\n\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | : ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n\n    //   this.SendConsoleLogMsg('drawImageData | : ' + (Time1.getTime() - startTime.getTime()) + ' ms', 'info');\n    // },\n\n\n    drawImageData() {\n      if (this.bufferCanvas == null) {\n        this.SendConsoleLogMsg('drawImageData error: bufferCanvas is null or undefined.', 'error');\n        return;\n      }\n      if (!this.drawImgData) return;\n\n      // \n      // window.innerWidth; // \n      // window.innerHeight; // \n      // this.scale \n      // this.translateX x\n      // this.translateY y\n      // this.CanvasWidth  1920\n      // this.CanvasHeight  1080\n      // this.mainCameraSizeX \n      // this.mainCameraSizeY \n      // this.bufferCanvas.width \n      // this.bufferCanvas.height \n      // this.ImageProportion \n      // this.ROI_x ROIx\n      // this.ROI_y ROIy\n      // this.ROI_length ROI\n\n      // console.log(':\\n bufferCanvas.width: ', this.bufferCanvas.width, '\\n bufferCanvas.height: ', this.bufferCanvas.height, '\\n ImageProportion: ', this.ImageProportion, '\\n scale: ', this.scale, '\\n visibleX: ', this.visibleX, '\\n visibleY: ', this.visibleY, '\\n visibleWidth: ', this.visibleWidth, '\\n visibleHeight: ', this.visibleHeight, '\\n ROI_x: ', this.ROI_x, '\\n ROI_y: ', this.ROI_y, '\\n ROI_length: ', this.ROI_length);\n\n\n      // \n      const newVisibleWidth = this.bufferCanvas.width * this.scale;\n      const newVisibleHeight = newVisibleWidth / this.ImageProportion;\n\n      // x\n      let newVisibleX = this.visibleX;\n      // y\n      let newVisibleY = this.visibleY;\n\n      // \n      if (newVisibleX - newVisibleWidth / 2 < 0) {\n        newVisibleX = newVisibleWidth / 2;\n      } else if (newVisibleX + newVisibleWidth / 2 > this.bufferCanvas.width) {\n        newVisibleX = this.bufferCanvas.width - newVisibleWidth / 2;\n      }\n\n      if (newVisibleY - newVisibleHeight / 2 < 0) {\n        newVisibleY = newVisibleHeight / 2;\n      } else if (newVisibleY + newVisibleHeight / 2 > this.bufferCanvas.height) {\n        newVisibleY = this.bufferCanvas.height - newVisibleHeight / 2;\n      }\n\n      // ROI\n      // \n      const visibleLeft = newVisibleX - newVisibleWidth / 2;\n      const visibleRight = newVisibleX + newVisibleWidth / 2;\n      const visibleTop = newVisibleY - newVisibleHeight / 2;\n      const visibleBottom = newVisibleY + newVisibleHeight / 2;\n\n      //  ROI \n      const roiLeft = this.ROI_x;\n      const roiRight = this.ROI_x + this.ROI_length;\n      const roiTop = this.ROI_y;\n      const roiBottom = this.ROI_y + this.ROI_length;\n\n      //  ROI \n      const isRoiInVisible = roiRight >= visibleLeft && roiLeft <= visibleRight && roiBottom >= visibleTop && roiTop <= visibleBottom;\n\n      //  ROI \n      const roiScreenX = (this.ROI_x - visibleLeft) * (window.innerWidth / newVisibleWidth) + this.RedBoxSideLength * window.innerWidth / newVisibleWidth / 2;\n      const roiScreenY = (this.ROI_y - visibleTop) * (window.innerHeight / newVisibleHeight) + this.RedBoxSideLength * window.innerHeight / newVisibleHeight / 2;\n      // this.SendConsoleLogMsg('ROI : ' + roiScreenX + '*' + roiScreenY + ' ' + this.RedBoxSideLength * window.innerWidth / newVisibleWidth + '*' + this.RedBoxSideLength * window.innerHeight / newVisibleHeight, 'info');\n      this.$bus.$emit('setRedBoxLength', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n      this.$bus.$emit('setRedBoxPosition', roiScreenX, roiScreenY);\n\n\n      const canvas = this.$refs.mainCanvas;\n      const ctx = canvas.getContext('2d');\n      canvas.width = this.CanvasWidth;\n      canvas.height = this.CanvasHeight;\n\n      ctx.drawImage(this.bufferCanvas, visibleLeft, visibleTop, newVisibleWidth, newVisibleHeight, 0, 0, canvas.width, canvas.height);\n\n      this.visibleX = newVisibleX;\n      this.visibleY = newVisibleY;\n      this.visibleWidth = newVisibleWidth;\n      this.visibleHeight = newVisibleHeight;\n\n      this.$bus.$emit('setCurrentMainCanvasHasImage', true); // \n      // QT\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendRedBoxState:' + this.RedBoxSideLength + ':' + this.ROI_x*this.cameraBin + ':' + this.ROI_y*this.cameraBin);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendVisibleArea:' + this.visibleX + ':' + this.visibleY + ':' + this.scale);\n\n      // ROI\n      if (this.DrawSelectStarX != -1 && this.DrawSelectStarY != -1 && this.showSelectStar) {\n        let radius, canvasStarX, canvasStarY, color;\n        // \n        if (this.DrawSelectStarHFR != -1) {\n          radius = this.DrawSelectStarHFR / this.scale * 2;\n          if (radius <= 1) radius = 5;\n          canvasStarX = (this.DrawSelectStarX / this.cameraBin + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n          canvasStarY = (this.DrawSelectStarY / this.cameraBin + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n          color = 'green'; // \n        } else {\n          // \n          radius = 10 / this.scale; // \n          canvasStarX = (this.DrawSelectStarX / this.cameraBin + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n          canvasStarY = (this.DrawSelectStarY / this.cameraBin + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n          color = 'red'; // \n        }\n\n        // \n        const imageData = ctx.getImageData(canvasStarX - radius, canvasStarY - radius, 2 * radius, 2 * radius);\n        // \n        this.$bus.$emit('selectStarImage', imageData);\n\n        // \n        ctx.beginPath();\n        ctx.arc(canvasStarX, canvasStarY, radius, 0, 2 * Math.PI);\n        ctx.strokeStyle = color;\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        ctx.closePath();\n      }\n\n      if (this.focuserROIStarsList && this.focuserROIStarsList.length > 0) {\n        this.bufferCtx.save();\n\n        // ROI\n        this.bufferCtx.beginPath();\n        this.bufferCtx.rect(this.ROI_x, this.ROI_y, this.ROI_width, this.ROI_height);\n        this.bufferCtx.clip();\n\n        this.bufferCtx.fillStyle = 'rgba(0, 255, 0, 0.2)'; // \n        this.bufferCtx.strokeStyle = 'rgba(0, 255, 0, 0.4)'; // \n        this.bufferCtx.lineWidth = 1;\n\n        for (const star of this.focuserROIStarsList) {\n          const starRadius = star.HFR / this.cameraBin + 2 || 5; // HFR5\n          const absoluteX = this.ROI_x + star.x / this.cameraBin;\n          const absoluteY = this.ROI_y + star.y / this.cameraBin;\n\n          // \n          this.bufferCtx.beginPath();\n          this.bufferCtx.arc(absoluteX, absoluteY, starRadius, 0, Math.PI * 2);\n          this.bufferCtx.fill();\n          this.bufferCtx.stroke();\n\n        }\n        this.focuserROIStarsList = [];\n        this.bufferCtx.restore();\n        // this.SendConsoleLogMsg('' + this.focuserROIStarsList.length + '', 'info');\n      }\n    },\n\n    addEventListeners() {\n\n    },\n\n    // \n    throttle(func, delay) {\n      let lastExecuted = 0;\n      return function (...args) {\n        const now = Date.now();\n        if (now - lastExecuted >= delay) {\n          func.apply(this, args);\n          lastExecuted = now;\n        }\n      };\n    },\n\n    // ImageSoftAWB(img8, gainR, gainB, offset) {\n    //   // \n    //   let channels = new cv.MatVector();\n    //   cv.split(img8, channels);\n\n    //   const b = channels.get(0);\n    //   const g = channels.get(1);\n    //   const r = channels.get(2);\n\n    //   // \n    //   const clahe = new cv.CLAHE(2.0, new cv.Size(8, 8));\n    //   clahe.apply(b, b);\n    //   clahe.apply(g, g);\n    //   clahe.apply(r, r);\n\n    //   // \n    //   r.convertTo(r, -1, gainR, offset);\n    //   b.convertTo(b, -1, gainB, offset);\n    //   g.convertTo(g, -1, 1, offset); // \n\n    //   //  channels \n    //   channels.set(0, b);\n    //   channels.set(1, g);\n    //   channels.set(2, r);\n\n    //   // \n    //   let mergedImg = new cv.Mat();\n    //   cv.merge(channels, mergedImg);\n\n    //   // \n    //   b.delete(); //  b\n    //   g.delete(); //  g\n    //   r.delete(); //  r\n    //   channels.delete();\n    //   clahe.delete(); //  clahe\n\n\n\n    //   return mergedImg;\n    // },\n\n    // Bit16To8_Stretch(img16, B, W) {\n    //   console.log('Bit16To8_Stretch | B = ' + B + ', W = ' + W);\n    //   let img8 = new cv.Mat();\n    //   img8.create(img16.rows, img16.cols, cv.CV_8UC4);\n    //   img16.convertTo(img8, cv.CV_8U, 255.0 / (W - B), -B * 255.0 / (W - B));\n\n    //   const result = img8.clone(); //  img8 \n    //   img8.delete(); //  img8\n\n    //   return result;\n    // },\n    Bit16To8_Stretch(img16, B, W) {\n      console.log('Bit16To8_Stretch | B = ' + B + ', W = ' + W);\n      let img8 = new cv.Mat(img16.rows, img16.cols, cv.CV_8UC4);\n      img16.convertTo(img8, cv.CV_8U, 255.0 / (W - B), -B * 255.0 / (W - B));\n      return img8;\n    },\n\n    DrawDetectStars(image, Stars) {\n      console.log('Draw circle on the Capture Image(', image.cols, ',', image.rows, ').');\n      if (!(image instanceof cv.Mat)) {\n        throw new Error('Invalid image data');\n      }\n      Stars.forEach(star => {\n        let centerX = Math.round(star.x / (this.mainCameraSizeX / image.cols));\n        let centerY = Math.round(star.y / (this.mainCameraSizeY / image.rows));\n        let radius = Math.round(star.hfr);\n\n        console.log('Draw circle at(', centerX, ',', centerY, ') with radius:', radius);\n\n        let center = new cv.Point(centerX, centerY);\n        let color = new cv.Scalar(255, 0, 0, 255);\n        let thickness = 2; // \n\n        cv.circle(image, center, radius, color, thickness);\n\n        //  hfr \n        //  star.hfr \n        let hfrValue = parseFloat(star.hfr);\n        if (isNaN(hfrValue)) {\n          hfrValue = 0; //  star.hfr 0\n        }\n\n        // 2\n        let text = hfrValue.toFixed(2);\n        let fontFace = cv.FONT_HERSHEY_SIMPLEX;\n        let fontScale = 1;\n        let textColor = new cv.Scalar(255, 0, 0, 255);\n        let textThickness = 2;\n\n        // 10\n        let textX = centerX - (text.length * 10); // 5\n        let textY = centerY - radius - 3; //  3 \n\n        // \n        cv.putText(image, text, new cv.Point(textX, textY), fontFace, fontScale, textColor, textThickness);\n      });\n\n      const imageData = new ImageData(new Uint8ClampedArray(image.data), image.cols, image.rows);\n\n      return imageData;\n    },\n\n    DrawPHD2Box(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const BoxWidth = 20 / ratioZoomX;\n      const BoxHeight = 20 / ratioZoomY;\n\n      const BoxStartX = Box_X / ratioZoomX - BoxWidth / 2;\n      const BoxStartY = Box_Y / ratioZoomY - BoxHeight / 2;\n\n      this.$bus.$emit('PHD2BoxPosition', BoxStartX, BoxStartY, BoxWidth, BoxHeight);\n    },\n\n    DrawPHD2Cross(PHD2ImageSize_X, PHD2ImageSize_Y, Cross_X, Cross_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const CrossStartX = Cross_X / ratioZoomX;\n      const CrossStartY = Cross_Y / ratioZoomY;\n\n      this.$bus.$emit('PHD2CrossPosition', CrossStartX, CrossStartY);\n    },\n\n    DrawPHD2MultiStars(PHD2ImageSize_X, PHD2ImageSize_Y, Star_X, Star_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const StarStartX = Star_X / ratioZoomX - 12 / 2;\n      const StarStartY = Star_Y / ratioZoomY - 12 / 2;\n\n      this.$bus.$emit('PHD2MultiStarsPosition', StarStartX, StarStartY);\n    },\n\n\n\n    // GetAutoStretch(imgData, mode, bitDepth = 16) {\n    //   if (imgData.length === 0) {\n    //       return { blackLevel: 0, whiteLevel: bitDepth === 8 ? 255 : 65535 };\n    //   }\n\n    //   const length = imgData.length;\n    //   let mean = 0;\n    //   let M2 = 0;\n\n    //   // \n    //   for (let i = 0; i < length; i++) {\n    //       const delta = imgData[i] - mean;\n    //       mean += delta / (i + 1);\n    //       M2 += delta * (imgData[i] - mean);\n    //   }\n\n    //   const variance = M2 / length;\n    //   const std = Math.sqrt(variance);\n\n    //   // \n    //   let a, b;\n    //   switch (mode) {\n    //       case 0: a = 3; b = 5; break;\n    //       case 1: a = 2; b = 5; break;\n    //       case 2: a = 3; b = 8; break;\n    //       default: a = 2; b = 8;\n    //   }\n\n    //   // \n    //   const maxValue = bitDepth === 8 ? 255 : 65535;\n    //   let bx = Math.max(0, mean - std * a);\n    //   let wx = Math.min(maxValue, mean + std * b);\n\n    //   //  blackLevel < whiteLevel\n    //   let blackLevel = Math.round(bx);\n    //   let whiteLevel = Math.round(wx);\n    //   if (blackLevel >= whiteLevel) {\n    //       blackLevel = whiteLevel - 1;\n    //   }\n\n    //   return { blackLevel, whiteLevel };\n    // },\n\n    // fetchImage(imagePath) {\n    //   const url = imagePath;\n    //   const xhr = new XMLHttpRequest();\n\n    //   xhr.responseType = 'blob'; //  blob\n\n    //   xhr.onload = () => {\n    //     if (xhr.status === 200) {\n    //       const imageUrl = URL.createObjectURL(xhr.response);\n    //       //  imageUrl  <img> \n    //       this.$bus.$emit('showCaptureImage');\n    //       this.displayImageOnCanvas(imageUrl); // Canvas\n    //     } else {\n    //       console.error('Failed to fetch the image. Status:', xhr.status);\n    //     }\n    //   };\n\n    //   xhr.onerror = () => {\n    //     console.error('There was an error fetching the image.');\n    //   };\n\n    //   xhr.open('GET', url, true);\n    //   xhr.send();\n    // },\n\n    // displayImageOnCanvas(imageUrl) {\n    //   const showcanvas = document.getElementById('mainCamera-canvas');\n    //   const canvas = document.getElementById('TestCanvas');\n    //   const showctx = showcanvas.getContext('2d');\n    //   const ctx = canvas.getContext('2d');\n    //   showcanvas.width = this.CanvasWidth;\n    //   showcanvas.height = this.CanvasHeight;\n    //   console.log('QHYCCD | canvas size:', showcanvas.width, showcanvas.height);\n\n    //   const img = new Image();\n    //   img.setAttribute('crossOrigin', '');\n    //   img.onload = () => {\n    //     this.histogramImage = img;\n\n    //     //  Canvas\n    //     const scaleWidth = showcanvas.width / img.width;\n    //     const scaleHeight = showcanvas.height / img.height;\n\n    //     const width = img.width * scaleWidth;\n    //     const height = img.height * scaleHeight;\n\n    //     //  Canvas\n    //     showctx.clearRect(0, 0, showcanvas.width, showcanvas.height);\n    //     ctx.clearRect(0, 0, showcanvas.width, showcanvas.height);\n\n    //     //  Canvas \n    //     showctx.drawImage(img, 0, 0, width, height);\n    //     ctx.drawImage(img, 0, 0, width, height);\n    //     console.log('QHYCCD | crossOrigin:', img.crossOrigin);\n    //     this.imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    //     console.log('QHYCCD | imageData:', this.imageData);\n    //     this.MakeHistogram(this.imageData);\n    //   };\n    //   img.src = imageUrl;\n    // },\n\n    // MakeHistogram(imageData) {\n    //   console.log('MakeHistogram');\n\n    //   // \n    //   this.histogramData = this.calculateHistogram(imageData);\n\n    //   this.$bus.$emit('showHistogram', this.histogramData);\n    // },\n\n    calculateHistogram(imageData) {\n      console.log('QHYCCD | calculateHistogram');\n      const histogram = [\n        Array(256).fill(0), // \n        Array(256).fill(0), // \n        Array(256).fill(0)  // \n      ];\n\n      // \n      for (let i = 0; i < imageData.data.length; i += 4) {\n        const r = imageData.data[i];\n        const g = imageData.data[i + 1];\n        const b = imageData.data[i + 2];\n\n        // \n        histogram[0][b]++;\n        histogram[1][g]++;\n        histogram[2][r]++;\n      }\n\n      return histogram;\n    },\n\n    applyHistStretch(Min, Max) {\n      this.currentHistogramMin = Min;\n      this.currentHistogramMax = Max;\n      if (this.ImageArrayBuffer) {\n        this.processImage(this.ImageArrayBuffer, Min, Max, { calculateHistogram: false });\n      }\n      this.$bus.$emit('ChangeDialPosition', Min, Max);\n    },\n\n\n    calcWhiteBalanceGains() {\n      // const Gains = this.calculateWhiteBalanceGains(this.histogramData, this.ImageOffset);\n      this.calculateGain = true;\n      this.processImage(this.ImageArrayBuffer, this.currentHistogramMin, this.currentHistogramMax, { calculateHistogram: false });\n\n      this.ImageGainR = Gains.GainR;\n      this.ImageGainB = Gains.GainB;\n\n      const GainRIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ImageGainR');\n      if (GainRIndex !== -1) { // \n        //  ExpTime1 \n        this.MainCameraConfigItems[GainRIndex].value = this.ImageGainR;\n      } else {\n        console.error('ImageGainR configuration item not found.');\n      }\n\n      const GainBIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ImageGainB');\n      if (GainBIndex !== -1) { // \n        //  ExpTime1 \n        this.MainCameraConfigItems[GainBIndex].value = this.ImageGainB;\n      } else {\n        console.error('ImageGainB configuration item not found.');\n      }\n\n    },\n\n    // calculateWhiteBalanceGains(histogram, offset) {\n    //   let sumR = 0, sumG = 0, sumB = 0;\n    //   let countR = 0, countG = 0, countB = 0;\n\n    //   // for (let i = 0; i < 256; i++) {\n    //   //   sumR += histogram[2][i] * i;\n    //   //   sumG += histogram[1][i] * i;\n    //   //   sumB += histogram[0][i] * i;\n\n    //   //   countR += histogram[2][i];\n    //   //   countG += histogram[1][i];\n    //   //   countB += histogram[0][i];\n    //   // }\n\n    //   for (let i = 0; i < 256; i++) {\n    //     // Subtract offset from pixel value\n    //     const adjustedR = Math.max(i - offset, 0);\n    //     const adjustedG = Math.max(i - offset, 0);\n    //     const adjustedB = Math.max(i - offset, 0);\n\n    //     sumR += histogram[2][i] * adjustedR;\n    //     sumG += histogram[1][i] * adjustedG;\n    //     sumB += histogram[0][i] * adjustedB;\n\n    //     countR += histogram[2][i];\n    //     countG += histogram[1][i];\n    //     countB += histogram[0][i];\n    //   }\n\n    //   const meanR = sumR / countR;\n    //   const meanG = sumG / countG;\n    //   const meanB = sumB / countB;\n\n    //   // Calculate gains\n    //   const GainR = meanG / meanR;\n    //   const GainB = meanG / meanB;\n\n    //   console.log(`GainR: ${GainR}, GainB: ${GainB}`);\n    //   return { GainR, GainB };\n    // },\n\n    calculateWhiteBalanceGains() {\n      if (!(this.OriginalImage instanceof ImageData)) {\n        throw new Error('Invalid image data');\n      }\n\n      //  cv.Mat \n      const img8 = cv.matFromImageData(this.OriginalImage);\n\n      // \n      const channels = new cv.MatVector();\n      cv.split(img8, channels);\n\n      // \n      const b = channels.get(0);\n      const g = channels.get(1);\n      const r = channels.get(2);\n\n      // \n      const medianB = new cv.Mat();\n      const medianG = new cv.Mat();\n      const medianR = new cv.Mat();\n      cv.medianBlur(b, medianB, 5);\n      cv.medianBlur(g, medianG, 5);\n      cv.medianBlur(r, medianR, 5);\n\n      // \n      const avgB = cv.mean(medianB)[0];\n      const avgG = cv.mean(medianG)[0];\n      const avgR = cv.mean(medianR)[0];\n\n      // \n      const gainR = Math.min(Math.max(avgG / avgR, 0.1), 3);\n      const gainB = Math.min(Math.max(avgG / avgB, 0.1), 3);\n\n      // \n      b.delete();\n      g.delete();\n      r.delete();\n      medianB.delete();\n      medianG.delete();\n      medianR.delete();\n      channels.delete();\n      img8.delete();\n\n      return { GainR: gainR, GainB: gainB };\n    },\n\n    loadOpenCv() {\n      return new Promise((resolve, reject) => {\n        if (typeof cv === 'undefined') {\n          //  cv  OpenCV.js\n          const script = document.createElement('script');\n          script.src = '/opencv.js'; //  public \n          script.async = true;\n          script.onload = () => {\n            resolve();\n          };\n          script.onerror = (error) => {\n            reject(error);\n          };\n          document.head.appendChild(script);\n        } else {\n          //  cv \n          resolve();\n        }\n      });\n    },\n\n    // loadOpenCv() {\n    //   return new Promise((resolve, reject) => {\n    //     if (typeof cv === 'undefined') {\n    //       const script = document.createElement('script');\n    //       script.src = 'https://docs.opencv.org/4.5.5/opencv.js';\n    //       script.async = true;\n    //       script.onload = () => {\n    //         if (typeof cv !== 'undefined') {\n    //           resolve();\n    //         } else {\n    //           reject(new Error('Failed to load OpenCV.js'));\n    //         }\n    //       }\n    //       script.onerror = (error) => {\n    //         reject(error);\n    //       }\n    //       document.head.appendChild(script);\n    //     } else {\n    //       resolve();\n    //     }\n    //   });\n    // },\n\n    onCvReady() {\n\n      // Test if some of opencv method can work.\n      if (cv) {\n        console.log(\"QHYCCD | OpenCV.js is ready.\");\n        this.SendConsoleLogMsg('OpenCV.js is ready.', 'info');\n      } else {\n        console.log(\"QHYCCD | Failed to load OpenCV.js\");\n        this.SendConsoleLogMsg('Failed to load OpenCV.js.', 'error');\n      }\n\n      this.cvReady = true;\n    },\n\n\n    loadImageToCanvasMainCamera: function () {\n      const canvas = document.getElementById('mainCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        // \n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // \n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // ctx\n\n        // \n        ctx.drawImage(image, 0, 0);\n      };\n      image.src = BackgroundImage;\n    },\n    loadImageToCanvasGuiderCamera: function () {\n      const canvas = document.getElementById('guiderCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        // \n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // \n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // ctx\n\n        // \n        ctx.drawImage(image, 0, 0);\n      };\n      image.src = BackgroundImage;\n    },\n\n\n    showGuiderCameraCanvas() {\n      // z-index\n      this.canvasZIndexStel = -10;\n      this.canvasZIndexMainCamera = -11;\n      this.canvasZIndexGuiderCamera = 0;\n      this.$bus.$emit('setParsingProgress', false);\n\n      // this.convertToGrayscale();\n    },\n\n    showStelCanvas() {\n      if (this.isPolarAxisMode) {\n        this.$bus.$emit('setParsingProgress', true);\n      } else {\n        this.$bus.$emit('setParsingProgress', false);\n      }\n      this.canvasZIndexStel = 0;\n      this.canvasZIndexMainCamera = -10;\n      this.canvasZIndexGuiderCamera = -11;\n    },\n\n    showMainCameraCanvas() {\n      this.canvasZIndexStel = -10;\n      this.canvasZIndexMainCamera = 0;\n      this.canvasZIndexGuiderCamera = -11;\n\n      this.$bus.$emit('setParsingProgress', false);\n    },\n\n\n    handleButtonTestClick() {\n      // this.changeOrder();\n      if (this.currentcanvas === 'Stel') {\n        this.currentcanvas = 'MainCamera';\n        this.showMainCameraCanvas();\n      }\n      else if (this.currentcanvas === 'MainCamera') {\n        this.currentcanvas = 'GuiderCamera';\n        this.showGuiderCameraCanvas();\n      }\n      else if (this.currentcanvas === 'GuiderCamera') {\n        this.currentcanvas = 'Stel';\n        this.showStelCanvas();\n      }\n    },\n\n    getPluginsMenuItems: function () {\n      let res = []\n      for (const i in this.$stellariumWebPlugins()) {\n        const plugin = this.$stellariumWebPlugins()[i]\n        if (plugin.menuItems) {\n          res = res.concat(plugin.menuItems)\n        }\n      }\n      return res\n    },\n    getPluginsMenuComponents: function () {\n      let res = []\n      for (const i in this.$stellariumWebPlugins()) {\n        const plugin = this.$stellariumWebPlugins()[i]\n        if (plugin.menuComponents) {\n          res = res.concat(plugin.menuComponents)\n        }\n      }\n      return res\n    },\n    toggleStoreValue: function (storeVarName) {\n      this.nav = false;\n      this.$store.commit('toggleBool', storeVarName)\n    },\n    getStoreValue: function (storeVarName) {\n      return _.get(this.$store.state, storeVarName)\n    },\n    setStateFromQueryArgs: function () {\n      // Check whether the observing panel must be displayed\n      this.$store.commit('setValue', { varName: 'showSidePanel', newValue: this.$route.path.startsWith('/p/') })\n\n      // Set the core's state from URL query arguments such\n      // as date, location, view direction & fov\n      let that = this\n\n      if (!this.initDone) {\n        this.$stel.core.time_speed = 1\n        let d = new Date()\n        if (this.$route.query.date) {\n          d = new Moment(this.$route.query.date).toDate()\n          this.$stel.core.observer.utc = d.getMJD()\n          this.startTimeIsSet = true\n        }\n\n        if (this.$route.query.lng && this.$route.query.lat) {\n          const pos = { lat: Number(this.$route.query.lat), lng: Number(this.$route.query.lng), alt: this.$route.query.elev ? Number(this.$route.query.elev) : 0, accuracy: 1 }\n          swh.geoCodePosition(pos, that).then((loc) => {\n            that.$store.commit('setCurrentLocation', loc)\n          }, (error) => { console.log(error) })\n        }\n\n        this.$stel.core.observer.yaw = this.$route.query.az ? Number(this.$route.query.az) * Math.PI / 180 : 0\n        this.$stel.core.observer.pitch = this.$route.query.alt ? Number(this.$route.query.alt) * Math.PI / 180 : 30 * Math.PI / 180\n        this.$stel.core.fov = this.$route.query.fov ? Number(this.$route.query.fov) * Math.PI / 180 : 120 * Math.PI / 180\n\n        this.initDone = true\n      }\n\n      if (this.$route.path.startsWith('/skysource/')) {\n        const name = decodeURIComponent(this.$route.path.substring(11))\n        console.log('Will select object: ' + name)\n        this.SendConsoleLogMsg('Will select object: ' + name, 'info');\n        return swh.lookupSkySourceByName(name).then(ss => {\n          if (!ss) {\n            return\n          }\n          let obj = swh.skySource2SweObj(ss)\n          if (!obj) {\n            obj = this.$stel.createObj(ss.model, ss)\n            this.$selectionLayer.add(obj)\n          }\n          if (!obj) {\n            console.warning(\"Can't find object in SWE: \" + ss.names[0])\n          }\n          swh.setSweObjAsSelection(obj)\n        }, err => {\n          console.log(err)\n          console.log(\"Couldn't find skysource for name: \" + name)\n          this.SendConsoleLogMsg(\"Couldn't find skysource for name: \" + name, 'error');\n        })\n      }\n    },\n\n    lookatcircle() {\n      // glStel.core.selection = glTestCircle;\n      glStel.pointAndLock(glTestCircle);\n    },\n\n    setGloabalStel: function (stel) {\n      return stel;\n    },\n\n    setGlobalLayer: function (stel) {\n      return stel.createLayer({ id: 'testLayerStars', z: 7, visible: true });\n    },\n\n    // \n    isValidCoordinate: function(coord) {\n      // \n      if (typeof coord === 'string') {\n        coord = parseFloat(coord);\n      }\n      \n      return typeof coord === 'number' && \n             !isNaN(coord) && \n             isFinite(coord) && \n             coord >= -360 && \n             coord <= 360;\n    },\n    \n    vec3_from_sphe: function (ra_degree, dec_degree, out) {\n      // \n      let ra = ra_degree;\n      let dec = dec_degree;\n      \n      if (typeof ra === 'string') {\n        ra = parseFloat(ra);\n      }\n      if (typeof dec === 'string') {\n        dec = parseFloat(dec);\n      }\n      \n      // \n      if (!this.isValidCoordinate(ra) || !this.isValidCoordinate(dec)) {\n        console.error(':', { ra_degree, dec_degree, converted: { ra, dec } });\n        return;\n      }\n      \n      try {\n        const cp = Math.cos(dec * Math.PI / 180);\n        out[0] = Math.cos(ra * Math.PI / 180) * cp;\n        out[1] = Math.sin(ra * Math.PI / 180) * cp;\n        out[2] = Math.sin(dec * Math.PI / 180);\n      } catch (error) {\n        console.error(':', error, { ra_degree, dec_degree, converted: { ra, dec } });\n      }\n    },\n\n    testAddCircle: function (stel, layer) {\n      console.log(\"Add a circle star near polaris\");\n\n      // \n      const circleConfig = { \n        id: 'test_circle_' + Date.now(), \n        model_data: {},\n        names: ['Test Circle'],  // \n        types: ['Temporary'],\n        model: 'temporary'\n      };\n      \n      let circle = stel.createObj('circle', circleConfig);\n\n      circle.update();\n      layer.add(circle);\n\n      // \n      stel.core.selection = circle;\n      stel.pointAndLock(circle);\n\n      // Circle Property\n      let mm = circle.pos;\n      this.vec3_from_sphe(2.52971, 89.2641, mm);\n      circle.pos = mm;\n      console.log(\"circle pos:\" + mm);\n      circle.label = \"\";\n      circle.frame = 1;\n      circle.size = [0.05, 0.05];\n      circle.color = [0, 1, 0, 0.25];\n      circle.border_color = [0, 1, 0, 1];\n\n      return circle;\n    },\n\n    UpdateCirclePos(Ra_degree, Dec_degree) {\n      let mm = glTestCircle.pos;\n      this.vec3_from_sphe(Ra_degree, Dec_degree, mm);\n      glTestCircle.pos = mm;\n    },\n\n    UpdateTelescopeStatus(status) {\n      this.$bus.$emit('MountStatus', status);\n      if (status === 'Slewing') {\n        glTestCircle.color = [1, 0, 0, 0.25];\n        glTestCircle.border_color = [1, 0, 0, 1];\n      }\n      else {\n        glTestCircle.color = [0, 1, 0, 0.25];\n        glTestCircle.border_color = [0, 1, 0, 1];\n      }\n    },\n\n    UpdateMainCameraStatus(status) {\n      this.$bus.$emit('MainCameraStatus', status);\n    },\n\n    // RA/DEC\n    AddFieldOfViewPolygon: function (stel, layer, coordinates, color, name) {\n      console.log(`: ${name}`, { coordinates, color });\n      \n      try {\n        // \n        if (!coordinates || !Array.isArray(coordinates)) {\n          console.error('');\n          return null;\n        }\n        \n        if (coordinates.length !== 5) {\n          console.error(`5${coordinates.length}`);\n          return null;\n        }\n        \n        // \n        for (let i = 0; i < coordinates.length; i++) {\n          const coord = coordinates[i];\n          if (!coord || typeof coord.ra === 'undefined' || typeof coord.dec === 'undefined') {\n            console.error(`${i}radec:`, coord);\n            return null;\n          }\n          \n          // \n          if (!this.isValidCoordinate(coord.ra) || !this.isValidCoordinate(coord.dec)) {\n            console.error(`${i}:`, coord);\n            return null;\n          }\n        }\n        \n        // \n        const defaultColor = {\n          stroke: \"#FFFFFF\",\n          strokeOpacity: 1,\n          fill: \"#1E90FF\", \n          fillOpacity: 0.25\n        };\n        \n        const finalColor = { ...defaultColor, ...color };\n        console.log(':', finalColor);\n        \n        // \n        const polygonConfig = {\n          id: 'field_of_view_' + Date.now(),\n          model_data: {},\n          names: [name || 'Field of View'],\n          types: ['FieldOfView'],\n          model: 'field_of_view'\n        };\n        \n        console.log('GeoJSON');\n        let polygon = stel.createObj('geojson', {\n          data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [\n              {\n                \"type\": \"Feature\",\n                \"properties\": {\n                  \"stroke\": finalColor.stroke,\n                  \"stroke-opacity\": finalColor.strokeOpacity,\n                  \"fill\": finalColor.fill,\n                  \"fill-opacity\": finalColor.fillOpacity,\n                  \"name\": name || 'Field of View'\n                },\n                \"geometry\": {\n                  \"type\": \"Polygon\",\n                  \"coordinates\": [\n                    [\n                      // \n                      [coordinates[0].ra, coordinates[0].dec],\n                      [coordinates[1].ra, coordinates[1].dec],\n                      [coordinates[2].ra, coordinates[2].dec],\n                      [coordinates[3].ra, coordinates[3].dec],\n                      [coordinates[4].ra, coordinates[4].dec],\n                      [coordinates[0].ra, coordinates[0].dec]  // \n                    ]\n                  ]\n                }\n              }\n            ]\n          }\n        });\n        \n        if (!polygon) {\n          console.error('GeoJSON');\n          return null;\n        }\n        \n        console.log('');\n        \n        // \n        polygon.update();\n        layer.add(polygon);\n        \n        console.log('');\n        \n        // \n        if (name) {\n          console.log('');\n          // \n          const centerRa = coordinates.reduce((sum, coord) => sum + coord.ra, 0) / coordinates.length;\n          const centerDec = coordinates.reduce((sum, coord) => sum + coord.dec, 0) / coordinates.length;\n          \n          let labelCircle = this.AddMarkCircle(stel, layer, 4, name);\n          if (labelCircle) {\n            let labelMm = labelCircle.pos;\n            this.vec3_from_sphe(centerRa, centerDec + 0.02, labelMm); // \n            labelCircle.pos = labelMm;\n            labelCircle.color = [1, 1, 1, 0.8];  // \n            labelCircle.border_color = [0, 0, 0, 0.5];  // \n            labelCircle.size = [0.01, 0.01];  // \n            \n            // \n            polygon.labelCircle = labelCircle;\n            console.log('');\n          } else {\n            console.warn('');\n          }\n        }\n        \n        console.log(`: ${name || 'Field of View'}`, {\n          coordinates: coordinates,\n          color: finalColor,\n          polygon: polygon\n        });\n        \n        return polygon;\n        \n      } catch (error) {\n        console.error(':', error);\n        console.error(':', error.stack);\n        return null;\n      }\n    },\n    \n    // \n    RemoveFieldOfViewPolygon: function (polygon) {\n      try {\n        if (!polygon) {\n          console.warn('');\n          return false;\n        }\n        \n        // \n        if (polygon.labelCircle) {\n          glLayer.remove(polygon.labelCircle);\n        }\n        \n        // \n        glLayer.remove(polygon);\n        \n        console.log(':', polygon);\n        return true;\n        \n      } catch (error) {\n        console.error(':', error);\n        return false;\n      }\n    },\n    \n    // \n    RemoveAllFieldOfViewPolygons: function () {\n      try {\n        // \n        if (this.fieldOfViewPolygons && Array.isArray(this.fieldOfViewPolygons)) {\n          this.fieldOfViewPolygons.forEach(polygon => {\n            this.RemoveFieldOfViewPolygon(polygon);\n          });\n          this.fieldOfViewPolygons = [];\n        }\n        \n        console.log('');\n        return true;\n        \n      } catch (error) {\n        console.error(':', error);\n        return false;\n      }\n    },\n    \n    // \n    UpdateFieldOfViewPolygonPosition: function (polygon, newCoordinates) {\n      try {\n        if (!polygon || !newCoordinates || !Array.isArray(newCoordinates) || newCoordinates.length !== 5) {\n          console.error('');\n          return false;\n        }\n        \n        // \n        for (let i = 0; i < newCoordinates.length; i++) {\n          const coord = newCoordinates[i];\n          if (!this.isValidCoordinate(coord.ra) || !this.isValidCoordinate(coord.dec)) {\n            console.error(`${i}:`, coord);\n            return false;\n          }\n        }\n        \n        // \n        polygon.data.features[0].geometry.coordinates[0] = [\n          [newCoordinates[0].ra, newCoordinates[0].dec],\n          [newCoordinates[1].ra, newCoordinates[1].dec],\n          [newCoordinates[2].ra, newCoordinates[2].dec],\n          [newCoordinates[3].ra, newCoordinates[3].dec],\n          [newCoordinates[4].ra, newCoordinates[4].dec],\n          [newCoordinates[0].ra, newCoordinates[0].dec]  // \n        ];\n        \n        polygon.update();\n        \n        // \n        if (polygon.labelCircle) {\n          const centerRa = newCoordinates.reduce((sum, coord) => sum + coord.ra, 0) / newCoordinates.length;\n          const centerDec = newCoordinates.reduce((sum, coord) => sum + coord.dec, 0) / newCoordinates.length;\n          \n          let labelMm = polygon.labelCircle.pos;\n          this.vec3_from_sphe(centerRa, centerDec + 0.02, labelMm);\n          polygon.labelCircle.pos = labelMm;\n        }\n        \n        console.log(':', newCoordinates);\n        return true;\n        \n      } catch (error) {\n        console.error(':', error);\n        return false;\n      }\n    },\n\n    UpdateMainCameraTemperature(value) {\n      // console.log('Main Camera Temperature:', value + '');\n      this.$bus.$emit('MainCameraTemperature', value);\n    },\n\n    setPolarPointAltitude(Altitude) {\n      this.PolarPoint_Altitude = Altitude;\n      console.log('Polar Point Altitude:', this.PolarPoint_Altitude);\n      this.SendConsoleLogMsg('Polar Point Altitude:' + this.PolarPoint_Altitude, 'info');\n    },\n\n    AddMarkCircle: function (stel, layer, frame, label) {\n      console.log(`: ${label}`);\n      \n      try {\n        // \n        const circleConfig = { \n          id: 'temp_circle_' + Date.now(), \n          model_data: {},\n          names: [label || 'Temporary Marker'],  // \n          types: ['Temporary'],\n          model: 'temporary'\n        };\n        \n        console.log('');\n        let circle = stel.createObj('circle', circleConfig);\n\n        if (!circle) {\n          console.error('');\n          return null;\n        }\n\n        console.log('');\n        circle.update();\n        layer.add(circle);\n\n        // \n        let mm = circle.pos;\n        this.vec3_from_sphe(2.52971, 89.2641, mm);\n        circle.pos = mm;\n        \n        // \n        circle.label = label;\n        circle.frame = frame;\n        circle.size = [0.04, 0.04];\n        circle.color = [1, 1, 1, 0.5];\n        circle.border_color = [1, 1, 1, 1];\n\n        console.log(`: ${label}`, {\n          pos: mm,\n          size: circle.size,\n          color: circle.color,\n          border_color: circle.border_color\n        });\n\n        return circle;\n      } catch (error) {\n        console.error(':', error);\n        console.error(':', error.stack);\n        return null;\n      }\n    },\n\n    AddMarkRectangle: function (stel, layer, RaDec) {\n      let line = stel.createObj('geojson', {\n        data: {\n          \"type\": \"FeatureCollection\",\n          \"features\": [\n            {\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"stroke\": \"#FFFFFF\",\n                \"stroke-opacity\": 1,\n                \"fill\": \"#1E90FF\",\n                \"fill-opacity\": 0.25\n              },\n              \"geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                  [\n                    // [139.76, 35.52], [139.32, 33.41], [140.92, 33.08], [141.35, 35.19], [139.76, 35.52]\n                    [parseFloat(RaDec[0].Ra), parseFloat(RaDec[0].Dec)], [parseFloat(RaDec[1].Ra), parseFloat(RaDec[1].Dec)],\n                    [parseFloat(RaDec[2].Ra), parseFloat(RaDec[2].Dec)], [parseFloat(RaDec[3].Ra), parseFloat(RaDec[3].Dec)],\n                    [parseFloat(RaDec[0].Ra), parseFloat(RaDec[0].Dec)]\n                  ]\n                ]\n              }\n            },\n          ]\n        }\n      });\n\n      line.update();\n      layer.add(line);\n      return line;\n    },\n    \n\n    \n    // RGB\n    hexToRgb: function(hex) {\n      // #\n      hex = hex.replace('#', '');\n      \n      // RGB\n      const r = parseInt(hex.substr(0, 2), 16);\n      const g = parseInt(hex.substr(2, 2), 16);\n      const b = parseInt(hex.substr(4, 2), 16);\n      \n      return { r, g, b };\n    },\n    \n    // \n    updateFieldOfView: function(field) {\n      if (!field || !field.fieldInfo) return;\n      \n      const info = field.fieldInfo;\n      \n      // \n      const corners = [\n        { Ra: info.maxRa, Dec: info.maxDec },\n        { Ra: info.minRa, Dec: info.maxDec },\n        { Ra: info.minRa, Dec: info.minDec },\n        { Ra: info.maxRa, Dec: info.minDec },\n        { Ra: info.maxRa, Dec: info.maxDec }  // \n      ];\n      \n      // GeoJSON\n      field.data = {\n        \"type\": \"FeatureCollection\",\n        \"features\": [\n          {\n            \"type\": \"Feature\",\n            \"properties\": {\n              \"stroke\": info.color,\n              \"strokeOpacity\": 0.8,\n              \"fill\": info.color,\n              \"fillOpacity\": 0.2\n            },\n            \"geometry\": {\n              \"type\": \"Polygon\",\n              \"coordinates\": \n                [\n                  [parseFloat(corners[0].Ra), parseFloat(corners[0].Dec)],\n                  [parseFloat(corners[1].Ra), parseFloat(corners[1].Dec)],\n                  [parseFloat(corners[2].Ra), parseFloat(corners[2].Dec)],\n                  [parseFloat(corners[3].Ra), parseFloat(corners[3].Dec)],\n                  [parseFloat(corners[4].Ra), parseFloat(corners[4].Dec)]\n                ]\n            }\n          }\n        ]\n      };\n      \n      field.update();\n    },\n    \n    // \n    startFieldUpdateTimer: function() {\n      if (this.fieldUpdateTimer) {\n        clearInterval(this.fieldUpdateTimer);\n      }\n      \n      this.fieldUpdateTimer = setInterval(() => {\n        // \n        if (this.calibrationCircles) {\n          this.calibrationCircles.forEach(field => {\n            if (field.fieldInfo) {\n              this.updateFieldOfView(field);\n            }\n          });\n        }\n        \n        // \n        if (this.adjustmentCircles) {\n          this.adjustmentCircles.forEach(field => {\n            if (field.fieldInfo) {\n              this.updateFieldOfView(field);\n            }\n          });\n        }\n      }, 3000); // 3\n    },\n    \n    // \n    stopFieldUpdateTimer: function() {\n      if (this.fieldUpdateTimer) {\n        clearInterval(this.fieldUpdateTimer);\n        this.fieldUpdateTimer = null;\n      }\n    },\n\n    getCiecleAzAlt(Circle) {\n      let obs = this.$stel.core.observer;\n      let cirs = this.$stel.convertFrame(obs, 'ICRF', 'CIRS', Circle.getInfo('radec'));\n      let observed = this.$stel.convertFrame(obs, 'CIRS', 'OBSERVED', cirs);\n      // const azalt = this.$stel.c2s(this.$stel.convertFrame(this.$stel.core.observer, 'ICRF', 'OBSERVED', obj.getInfo('radec')))\n      let azalt = this.$stel.c2s(observed);\n      let az = this.$stel.anp(azalt[0]);\n      let alt = this.$stel.anp(azalt[1]);\n\n      const az_raf = this.$stel.a2af(az, 1);\n      const Az_degree = (az_raf.degrees < 0 ? az_raf.degrees + 180 : az_raf.degrees) + az_raf.arcminutes / 60 + az_raf.arcseconds / 3600;\n\n      const alt_raf = this.$stel.a2af(alt, 1);\n      const Alt_degree = alt_raf.degrees + alt_raf.arcminutes / 60 + alt_raf.arcseconds / 3600;\n\n      console.log('AzAlt:', Az_degree, Alt_degree);\n\n      return { Az_degree, Alt_degree };\n    },\n\n    SolveResultMark(RaDegree, DecDegree, Azimuth, Altitude) {\n      let MarkCircle_RaDec = this.AddMarkCircle(this.$stel, glLayer, 1, \"RaDec\");\n      let mm = MarkCircle_RaDec.pos;\n      this.vec3_from_sphe(RaDegree, DecDegree, mm);\n      MarkCircle_RaDec.pos = mm;\n      console.log(\"RaDec circle coordinates:\" + mm);\n\n      const AzAlt = this.getCiecleAzAlt(MarkCircle_RaDec);\n      glLayer.remove(MarkCircle_RaDec);\n\n      this.MarkCircleNum++;\n      let Label = \"AzAlt_Vue_\" + this.MarkCircleNum;\n\n      let MarkCircle_AltAz = this.AddMarkCircle(this.$stel, glLayer, 4, Label);\n      mm = MarkCircle_AltAz.pos;\n      this.vec3_from_sphe(AzAlt.Az_degree, AzAlt.Alt_degree, mm);\n      MarkCircle_AltAz.pos = mm;\n      console.log(\"AzAlt_Vue circle coordinates:\" + mm);\n\n      console.log(\"AzAlt_Vue circle x:\" + mm[0]);\n      console.log(\"AzAlt_Vue circle y:\" + mm[1]);\n      console.log(\"AzAlt_Vue circle z:\" + mm[2]);\n\n      this.LastPoint_AzAlt = this.getCiecleAzAlt(MarkCircle_AltAz);\n\n      this.CalculationPolarPoint(mm);\n\n      // \n      // this.Circles.push(MarkCircle_RaDec);\n      this.Circles.push(MarkCircle_AltAz);\n\n    },\n\n    RemoveAllCircles() {\n      this.Circles.forEach(circle => {\n        glLayer.remove(circle);\n      });\n      this.Circles = [];\n    },\n\n    SolveResultMark_RealTime(RaDegree, DecDegree, Azimuth, Altitude) {\n      this.LastCircle_RaDec = this.AddMarkCircle(this.$stel, glLayer, 1, \"RaDec\");\n      let mm = this.LastCircle_RaDec.pos;\n      this.vec3_from_sphe(RaDegree, DecDegree, mm);\n      this.LastCircle_RaDec.pos = mm;\n      console.log(\"RaDec circle coordinates:\" + mm);\n\n      const AzAlt = this.getCiecleAzAlt(this.LastCircle_RaDec);\n      glLayer.remove(this.LastCircle_RaDec);\n\n      if (this.LastCircle_AzAlt !== null && this.LastCircle_AzAlt !== undefined) {\n        glLayer.remove(this.LastCircle_AzAlt);\n      }\n      this.LastCircle_AzAlt = this.AddMarkCircle(this.$stel, glLayer, 4, 'Current');\n      mm = this.LastCircle_AzAlt.pos;\n      this.vec3_from_sphe(AzAlt.Az_degree, AzAlt.Alt_degree, mm);\n      this.LastCircle_AzAlt.pos = mm;\n      this.LastCircle_AzAlt.color = [0, 1, 1, 0.25];\n      console.log(\"AzAlt_Vue circle coordinates:\" + mm);\n\n      console.log(\"AzAlt_Vue circle x:\" + mm[0]);\n      console.log(\"AzAlt_Vue circle y:\" + mm[1]);\n      console.log(\"AzAlt_Vue circle z:\" + mm[2]);\n\n      this.Current_AzAlt = this.getCiecleAzAlt(this.LastCircle_AzAlt);\n      console.log(\"Current AzAlt:\", this.Current_AzAlt.Az_degree, this.Current_AzAlt.Alt_degree);\n      this.$bus.$emit('ShowCurrentAzAltText', this.Current_AzAlt.Az_degree, this.Current_AzAlt.Alt_degree);\n    },\n\n\n    CalculationPolarPoint(coordinate) {\n      this.CartesianList.push(coordinate);\n\n      if (this.CartesianList.length < 3) {\n        return;\n      }\n\n      this.$bus.$emit('HideSingleSolveBtn');\n\n      // \n      const p1 = this.CartesianList[0];\n      const p2 = this.CartesianList[1];\n      const p3 = this.CartesianList[2];\n\n      // \n      const v1 = [\n        p2[0] - p1[0],\n        p2[1] - p1[1],\n        p2[2] - p1[2]\n      ];\n\n      const v2 = [\n        p3[0] - p1[0],\n        p3[1] - p1[1],\n        p3[2] - p1[2]\n      ];\n\n      // \n      const normal = [\n        v1[1] * v2[2] - v1[2] * v2[1],\n        v1[2] * v2[0] - v1[0] * v2[2],\n        v1[0] * v2[1] - v1[1] * v2[0]\n      ];\n\n      // \n      const normalLength = Math.sqrt(normal[0] ** 2 + normal[1] ** 2 + normal[2] ** 2);\n\n      // \n      const unitNormal = [\n        normal[0] / normalLength,\n        normal[1] / normalLength,\n        normal[2] / normalLength\n      ];\n\n      // r(0, 0, 0)\n      const r = 1; // \n\n      // \n      const intersection1 = [\n        unitNormal[0] * r,\n        unitNormal[1] * r,\n        unitNormal[2] * r\n      ];\n\n      const intersection2 = [\n        -unitNormal[0] * r,\n        -unitNormal[1] * r,\n        -unitNormal[2] * r\n      ];\n\n      console.log('Intersection Points:', intersection1, intersection2);\n\n      // (0,0,1)\n      const closerIntersection = intersection1[2] > 0 ? intersection1 : intersection2;\n\n      let MarkCircle_FakePolarPoint = this.AddMarkCircle(this.$stel, glLayer, 4, \"FakePolarPoint\");\n      let mm = MarkCircle_FakePolarPoint.pos;\n      mm[0] = closerIntersection[0];\n      mm[1] = closerIntersection[1];\n      mm[2] = closerIntersection[2];\n      MarkCircle_FakePolarPoint.pos = mm;\n      console.log(\"FakePolarPoint circle coordinates:\" + mm);\n\n      const AzAlt_FakePolarPoint = this.getCiecleAzAlt(MarkCircle_FakePolarPoint);\n\n      console.log(\"Fake Polar Point AzAlt:\", AzAlt_FakePolarPoint.Az_degree, ',', AzAlt_FakePolarPoint.Alt_degree);\n\n      this.Circles.push(MarkCircle_FakePolarPoint);\n\n      let AzAlt_PolarPoint = {\n        Az_degree: 0,\n        Alt_degree: this.PolarPoint_Altitude\n      };\n\n      // console.log(\"Real Polar Point AzAlt:\", AzAlt_PolarPoint.Az_degree, ',', AzAlt_PolarPoint.Alt_degree);\n      this.SendConsoleLogMsg('Real Polar Point AzAlt:' + AzAlt_PolarPoint.Az_degree + ',' + AzAlt_PolarPoint.Alt_degree, 'info');\n      // console.log(\"Last Point AzAlt:\", this.LastPoint_AzAlt.Az_degree, this.LastPoint_AzAlt.Alt_degree);\n      this.SendConsoleLogMsg('Last Point AzAlt:' + this.LastPoint_AzAlt.Az_degree + ',' + this.LastPoint_AzAlt.Alt_degree, 'info');\n\n      ////////////////////////////////////////////////\n\n      // // \n      // let fakePolarPoint = this.sphericalToCartesian(AzAlt_FakePolarPoint.Az_degree, AzAlt_FakePolarPoint.Alt_degree);\n      // let polarPoint = this.sphericalToCartesian(AzAlt_PolarPoint.Az_degree, AzAlt_PolarPoint.Alt_degree);\n      // let lastPoint = this.sphericalToCartesian(this.LastPoint_AzAlt.Az_degree, this.LastPoint_AzAlt.Alt_degree);\n\n      // // \n      // let quaternion = this.computeQuaternion(fakePolarPoint, polarPoint);\n\n      // // \n      // let fourthPoint = this.applyQuaternion(lastPoint, quaternion);\n\n      // // \n      // let fourthPointAzAlt = this.cartesianToSpherical(fourthPoint);\n      // console.log(\"Fourth Point AzAlt:\", fourthPointAzAlt.Az_degree, ',', fourthPointAzAlt.Alt_degree);\n\n      ////////////////////////////////////////////////\n\n      // \n      function calculateAngleDifference(angle1, angle2) {\n        let difference = angle2 - angle1;\n        while (difference > 180) difference -= 360;\n        while (difference < -180) difference += 360;\n        return difference;\n      }\n\n      let azimuthDifference = calculateAngleDifference(AzAlt_FakePolarPoint.Az_degree, AzAlt_PolarPoint.Az_degree);\n      let altitudeDifference = AzAlt_PolarPoint.Alt_degree - AzAlt_FakePolarPoint.Alt_degree;\n\n      // LastPoint\n      let fourthPointAzAlt = {\n        Az_degree: this.LastPoint_AzAlt.Az_degree + azimuthDifference,\n        Alt_degree: this.LastPoint_AzAlt.Alt_degree + altitudeDifference\n      };\n\n      // 0360\n      fourthPointAzAlt.Az_degree = (fourthPointAzAlt.Az_degree + 360) % 360;\n\n      // -9090\n      fourthPointAzAlt.Alt_degree = Math.max(Math.min(fourthPointAzAlt.Alt_degree, 90), -90);\n\n      console.log(\"Fourth Point AzAlt:\", fourthPointAzAlt.Az_degree, ',', fourthPointAzAlt.Alt_degree);\n\n      this.$bus.$emit('ShowAzAltText', azimuthDifference, altitudeDifference, fourthPointAzAlt.Az_degree, fourthPointAzAlt.Alt_degree);\n\n      ////////////////////////////////////////////////\n\n      // \n      function degreesToRadians(degrees) {\n        return degrees * Math.PI / 180;\n      }\n\n      // \n      function sphericalToCartesian(azimuth, altitude) {\n        let az = degreesToRadians(azimuth);\n        let alt = degreesToRadians(altitude);\n        let x = Math.cos(alt) * Math.cos(az);\n        let y = Math.cos(alt) * Math.sin(az);\n        let z = Math.sin(alt);\n        return { x: x, y: y, z: z };\n      }\n\n      // \n      let fourthPointCartesian = sphericalToCartesian(fourthPointAzAlt.Az_degree, fourthPointAzAlt.Alt_degree);\n      console.log(\"Fourth Point Cartesian:\", fourthPointCartesian.x, ',', fourthPointCartesian.y, ',', fourthPointCartesian.z);\n\n      let MarkCircle_fourthPoint = this.AddMarkCircle(this.$stel, glLayer, 4, \"Target Point\");\n      mm = MarkCircle_fourthPoint.pos;\n      mm[0] = fourthPointCartesian.x;\n      mm[1] = fourthPointCartesian.y;\n      mm[2] = fourthPointCartesian.z;\n      MarkCircle_fourthPoint.pos = mm;\n      MarkCircle_fourthPoint.color = [1, 0, 0, 0.25];\n\n      this.Circles.push(MarkCircle_fourthPoint);\n\n      // \n      this.CartesianList = [];\n      this.MarkCircleNum = 0;\n    },\n\n    // \n    degreesToRadians(degrees) {\n      return degrees * Math.PI / 180;\n    },\n\n    // \n    sphericalToCartesian(azimuth, altitude) {\n      let az = this.degreesToRadians(azimuth);\n      let alt = this.degreesToRadians(altitude);\n      let x = Math.cos(alt) * Math.cos(az);\n      let y = Math.cos(alt) * Math.sin(az);\n      let z = Math.sin(alt);\n      return { x: x, y: y, z: z };\n    },\n\n    // \n    computeQuaternion(from, to) {\n      let w = from.x * to.x + from.y * to.y + from.z * to.z + 1;\n      let x = from.y * to.z - from.z * to.y;\n      let y = from.z * to.x - from.x * to.z;\n      let z = from.x * to.y - from.y * to.x;\n\n      let norm = Math.sqrt(w * w + x * x + y * y + z * z);\n      return { w: w / norm, x: x / norm, y: y / norm, z: z / norm };\n    },\n\n    // \n    applyQuaternion(point, quat) {\n      let x = quat.w * quat.w * point.x + 2 * quat.y * quat.w * point.z - 2 * quat.z * quat.w * point.y + quat.x * quat.x * point.x + 2 * quat.y * quat.x * point.y + 2 * quat.z * quat.x * point.z - quat.z * quat.z * point.x - quat.y * quat.y * point.x;\n      let y = 2 * quat.x * quat.y * point.x + quat.y * quat.y * point.y + 2 * quat.z * quat.y * point.z + 2 * quat.w * quat.z * point.x - quat.z * quat.z * point.y + quat.w * quat.w * point.y - 2 * quat.x * quat.w * point.z - quat.x * quat.x * point.y;\n      let z = 2 * quat.x * quat.z * point.x + 2 * quat.y * quat.z * point.y + quat.z * quat.z * point.z - 2 * quat.w * quat.y * point.x - quat.y * quat.y * point.z + 2 * quat.w * quat.x * point.y - quat.x * quat.x * point.z + quat.w * quat.w * point.z;\n      return { x: x, y: y, z: z };\n    },\n\n    // \n    cartesianToSpherical(cartesian) {\n      let r = Math.sqrt(cartesian.x ** 2 + cartesian.y ** 2 + cartesian.z ** 2);\n      let azimuth = Math.atan2(cartesian.y, cartesian.x);\n      let altitude = Math.asin(cartesian.z / r);\n      return {\n        Az_degree: azimuth * 180 / Math.PI,\n        Alt_degree: altitude * 180 / Math.PI\n      };\n    },\n\n    SolveFovMark(RaDec) {\n      console.log('RaDec[4]:', RaDec);\n\n      // let rectangle = this.AddMarkRectangle(this.$stel, glLayer, RaDec);\n\n      this.Circles.push(rectangle);\n\n    },\n\n    CalibratePolarAxis() {\n      this.$bus.$emit('CalibratePolarAxisMode');\n      // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'StartLoopCapture');\n      this.nav = false;\n    },\n\n    RecalibratePolarAxis() {\n      // \n      this.CartesianList = [];\n      this.MarkCircleNum = 0;\n      this.RemoveAllCircles();\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ClearSloveResultList');\n    },\n    \n\n    \n    // \n    drawCalibrationPointPolygon(coordinates, color, name) {\n      console.log(`: ${name}`, coordinates);\n      \n      try {\n        // \n        if (!coordinates || !Array.isArray(coordinates)) {\n          console.error('');\n          return;\n        }\n        \n        if (coordinates.length !== 5) {\n          console.error(`5${coordinates.length}`);\n          return;\n        }\n        \n        // \n        for (let i = 0; i < coordinates.length; i++) {\n          const coord = coordinates[i];\n          if (!coord || typeof coord.ra === 'undefined' || typeof coord.dec === 'undefined') {\n            console.error(`${i}`, coord);\n            return;\n          }\n          \n          if (!this.isValidCoordinate(coord.ra) || !this.isValidCoordinate(coord.dec)) {\n            console.error(`${i}`, coord);\n            return;\n          }\n        }\n        \n        // \n        let calibrationPolygon = this.AddFieldOfViewPolygon(\n          this.$stel, \n          glLayer, \n          coordinates, \n          color, \n          name\n        );\n        \n        if (calibrationPolygon) {\n          // \n          if (!this.calibrationCircles) {\n            this.calibrationCircles = [];\n          }\n          this.calibrationCircles.push(calibrationPolygon);\n          \n          console.log(`: ${name}`, calibrationPolygon);\n        } else {\n          console.error(`: ${name}`);\n        }\n        \n      } catch (error) {\n        console.error(':', error);\n      }\n    },\n    \n    // \n    clearCalibrationPoints() {\n      console.log('');\n      if (this.calibrationCircles) {\n        this.calibrationCircles.forEach(circle => {\n          glLayer.remove(circle);\n        });\n        this.calibrationCircles = [];\n      }\n      // \n      this.lastPosition = null;\n    },\n\n    \n    // \n    drawAdjustmentPointsPolygon(currentCoordinates, targetCoordinates, currentColor, targetColor, isTimerUpdate = false) {\n      console.log('', { currentCoordinates, targetCoordinates });\n      \n      try {\n        // \n        if (this.adjustmentCircles) {\n          this.adjustmentCircles.forEach(circle => {\n            try {\n              glLayer.remove(circle);\n            } catch (error) {\n              console.warn(':', error);\n            }\n          });\n        }\n        this.adjustmentCircles = [];\n        \n        // \n        if (currentCoordinates && Array.isArray(currentCoordinates) && currentCoordinates.length === 5) {\n          console.log('');\n          let currentPolygon = this.AddFieldOfViewPolygon(\n            this.$stel, \n            glLayer, \n            currentCoordinates, \n            currentColor, \n            'Current'\n          );\n          \n          if (currentPolygon) {\n            this.adjustmentCircles.push(currentPolygon);\n            console.log('');\n          } else {\n            console.error('');\n          }\n        } else {\n          console.warn('');\n        }\n        \n        // \n        if (targetCoordinates && Array.isArray(targetCoordinates) && targetCoordinates.length === 5) {\n          console.log('');\n          \n          // \n          const centerRa = targetCoordinates.reduce((sum, coord) => sum + coord.ra, 0) / targetCoordinates.length;\n          const centerDec = targetCoordinates.reduce((sum, coord) => sum + coord.dec, 0) / targetCoordinates.length;\n          \n          console.log(`: RA=${centerRa}, DEC=${centerDec}`);\n          \n          let targetCircle = this.AddMarkCircle(this.$stel, glLayer, 4, 'Target');\n          if (targetCircle) {\n            let targetMm = targetCircle.pos;\n            this.vec3_from_sphe(centerRa, centerDec, targetMm);\n            targetCircle.pos = targetMm;\n            targetCircle.color = [1, 0.5, 0, 0.25];  // \n            targetCircle.border_color = [1, 0.5, 0, 1];  // \n            \n            // \n            const targetSize = 0.03; // \n            targetCircle.size = [targetSize, targetSize];\n            \n            this.adjustmentCircles.push(targetCircle);\n            console.log('', targetCircle);\n          } else {\n            console.error('');\n          }\n        } else {\n          console.warn('');\n        }\n        \n        // \n        if (!isTimerUpdate && targetCoordinates && Array.isArray(targetCoordinates) && targetCoordinates.length === 5) {\n          try {\n            // \n            const centerRa = targetCoordinates.reduce((sum, coord) => sum + coord.ra, 0) / targetCoordinates.length;\n            const centerDec = targetCoordinates.reduce((sum, coord) => sum + coord.dec, 0) / targetCoordinates.length;\n            \n            console.log(`: RA=${centerRa}, DEC=${centerDec}`);\n            \n            // \n            const targetObjConfig = { \n              id: 'temp_target_' + Date.now(), \n              model_data: {},\n              names: ['Target Position'],\n              types: ['Temporary'],\n              model: 'temporary'\n            };\n            const targetObj = this.$stel.createObj('circle', targetObjConfig);\n            \n            // \n            let targetMm = targetObj.pos;\n            this.vec3_from_sphe(centerRa, centerDec, targetMm);\n            targetObj.pos = targetMm;\n            targetObj.update();\n            \n            // \n            this.$stel.pointAndLock(targetObj, 1.0);\n            console.log('');\n            \n            // \n            setTimeout(() => {\n              try {\n                if (targetObj && targetObj.layer) {\n                  targetObj.layer.remove(targetObj);\n                }\n              } catch (cleanupError) {\n                console.warn(':', cleanupError);\n              }\n            }, 2000); // 2\n            \n          } catch (error) {\n            console.error(':', error);\n          }\n        }\n        \n      } catch (error) {\n        console.error(':', error);\n      }\n    },\n\n    ShowConfirmDialog(Title, Text, ToDo) {\n      // window.location.reload();\n      this.nav = false;\n      this.$bus.$emit('ShowConfirmDialog', Title, Text, ToDo);\n    },\n\n    decrement(item) {\n      console.log('decrement:', item.value);\n      if (item.value > item.inputMin) {\n        item.value -= item.inputStep;\n      }\n    },\n\n    increment(item) {\n      console.log('increment:', item.value);\n      if (item.value < item.inputMax) {\n        item.value += item.inputStep;\n      }\n    },\n\n    PolarAxisMode(bool) {\n      this.isPolarAxisMode = bool;\n    },\n\n    handleGuiderCanvasClick(event) {\n      const canvas = this.$refs.guiderCanvas;\n      const rect = canvas.getBoundingClientRect();\n      const x = event.clientX - rect.left; // X\n      const y = event.clientY - rect.top;  // Y\n      console.log(`Clicked at: (${x}, ${y})`);\n      const CanvasWidth = window.innerWidth;\n      const CanvasHeight = window.innerHeight;\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderCanvasClick:' + CanvasWidth + ':' + CanvasHeight + ':' + x + ':' + y);\n    },\n    connectDriver() {\n      this.isConnecting = true;\n      // this.isOpenDevicePage = false;\n      this.startLoading();\n      const DeviceType = this.CurrentDriverType;\n      for (const device of this.devices) {\n        if (device.driverType === DeviceType && device.isConnected == false) {\n          const DriverName = device.driverName;\n          if (DriverName == '') {\n            this.SendConsoleLogMsg('No driver selected', 'warning');\n            this.isConnecting = false;\n            return;\n          }\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConnectDriver:' + DriverName + ':' + DeviceType);\n          this.SendConsoleLogMsg('Start Connecting driver:' + DeviceType + ' ' + DriverName, 'info');\n          return;\n        }\n      }\n    },\n    connectDriverSuccess(devicetype) {\n      console.log('connectDriverSuccess:', devicetype);\n      this.SendConsoleLogMsg(\"connectDriverSuccess:\" + devicetype, 'info');\n      this.isConnecting = false;\n      if (this.drawer_2 == true) {\n        this.drawer_2 = false\n      }\n\n      this.stopLoading();\n    },\n    connectDriverFailed(message) {\n      console.log('connectDriverFailed:', message);\n      this.SendConsoleLogMsg(\"connectDriverFailed:\" + message, 'error');\n      this.isConnecting = false;\n      this.stopLoading();\n    },\n    disconnectDriver() {\n      const DeviceType = this.CurrentDriverType;\n      for (const device of this.devices) {\n        if (device.driverType === DeviceType && device.isConnected) {\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DisconnectDevice:' + device.device + \":\" + DeviceType);\n        }\n      }\n    },\n    disconnectDriversuccess(devicetype) {\n      console.log('disconnectDevicesuccess:', devicetype);\n      this.drawer_2 = false\n      if (devicetype == \"all\") {\n        this.sendMessage('Vue_Command', 'disconnectAllDevice');\n        this.SendConsoleLogMsg('Disconnect All Device', 'info');\n        this.haveDeviceConnect = false;\n        this.$bus.$emit('MainCameraConnected', 0);\n        this.$bus.$emit('MountConnected', 0);\n        this.$bus.$emit('CFWConnected', 0);\n        this.$bus.$emit('GuiderConnected', 0);\n        this.clearDeviceList();\n        this.$bus.$emit('deleteDeviceTypeAllocationList', 'all');\n        return;\n      };\n\n      for (const device of this.devices) {\n        if (device.driverType === devicetype && device.isConnected) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n      for (const device of this.ToBeConnectDevice) {\n        if (device.driverType === devicetype) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n\n      this.$bus.$emit('deleteDeviceTypeAllocationList', devicetype);\n      if (devicetype == \"MainCamera\") {\n        this.$bus.$emit('MainCameraConnected', 0);\n      } else if (devicetype == \"Mount\") {\n        this.$bus.$emit('MountConnected', 0);\n      } else if (devicetype == \"CFW\") {\n        this.$bus.$emit('CFWConnected', 0);\n      } else if (devicetype == \"Guider\") {\n        this.$bus.$emit('GuiderConnected', 0);\n      }\n    },\n\n    disconnectDriverFail(devicetype) {\n      console.log('disconnectDeviceFail:', devicetype);\n      this.drawer_2 = false\n      if (devicetype == \"all\") {\n        this.sendMessage('Vue_Command', 'disconnectAllDevice');\n        this.SendConsoleLogMsg('Disconnect All Device', 'info');\n        this.haveDeviceConnect = false;\n        this.$bus.$emit('MainCameraConnected', 0);\n        this.$bus.$emit('MountConnected', 0);\n        this.$bus.$emit('CFWConnected', 0);\n        this.$bus.$emit('GuiderConnected', 0);\n        this.clearDeviceList();\n        this.$bus.$emit('deleteDeviceTypeAllocationList', 'all');\n        return;\n      };\n\n      for (const device of this.devices) {\n        if (device.driverType === devicetype && device.isConnected) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n      for (const device of this.ToBeConnectDevice) {\n        if (device.driverType === devicetype) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n\n      this.$bus.$emit('deleteDeviceTypeAllocationList', devicetype);\n      if (devicetype == \"MainCamera\") {\n        this.$bus.$emit('MainCameraConnected', 0);\n      } else if (devicetype == \"Mount\") {\n        this.$bus.$emit('MountConnected', 0);\n      } else if (devicetype == \"CFW\") {\n        this.$bus.$emit('CFWConnected', 0);\n      } else if (devicetype == \"Guider\") {\n        this.$bus.$emit('GuiderConnected', 0);\n      }\n    },\n    loadSelectedDriverList(deviceObject) {\n      console.log('loadSelectedDriverList:', deviceObject);\n      deviceObject.forEach(device => {\n        // \n        for (const [driverType, driverName] of Object.entries(device)) {\n          this.devices.forEach(device => {\n            if (device.driverType === driverType && device.isConnected == false) {\n              device.device = driverName;\n              device.driverName = driverName;\n            }\n          });\n        }\n      });\n    },\n    loadBindDeviceList(deviceObject) {\n      console.log('loadBindDeviceList:', deviceObject);\n      this.$bus.$emit('loadBindDeviceList', deviceObject);\n\n    },\n    loadBindDeviceTypeList(deviceTypeObject) {\n      console.log('loadBindDeviceTypeList:', deviceTypeObject);\n      this.$bus.$emit('loadBindDeviceTypeList', deviceTypeObject);\n      deviceTypeObject.forEach(deviceType => {\n        const { Type, DeviceName, DriverName, isbind } = deviceType;\n        this.updateDevicesConnect(Type, DeviceName, DriverName, isbind);\n      });\n    },\n    updateSelectedDriver(driverType) {\n\n      this.selectedDriver = null;\n      this.devices.forEach(device => {\n        if (device.driverType === driverType) {\n          this.selectedDriver = device.driverName\n        }\n      });\n      console.log('Current drivers:', this.selectedDriver);\n    },\n    startLoading() {\n      this.loadingDeviceSelection = true;\n    },\n    stopLoading() {\n      this.loadingDeviceSelection = false;\n    },\n    deleteDeviceAllocationList(deviceName) {\n      console.log('deleteDeviceAllocationList:', deviceName);\n      this.$bus.$emit('deleteDeviceAllocationList', deviceName);\n    },\n    UnBindingDevice(type, name, driverName) {\n      console.log('UnBindingDevice:', type, name, driverName);\n      this.updateDevicesConnect(type, name, driverName, false);\n    },\n\n    displayErrorImage() {\n      console.error(\"image is error, load errorImage.svg\");\n      const canvas = document.getElementById('mainCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n\n      image.onload = () => {\n        // \n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // \n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // ctx\n\n        // \n        ctx.drawImage(image, 0, 0);\n      };\n\n      image.onerror = () => {\n        console.error(\"Failed to load image from \" + image.src);\n        // \n      };\n\n      // ErrorImageURL\n      image.src = ErrorImage; // \n    },\n    handleError(message, location, error = null) {\n      const errorMsg = error ? `${message} at ${location}: ${error}` : `${message} at ${location}`;\n      console.error(errorMsg);\n      this.SendConsoleLogMsg(errorMsg, 'error');\n      this.displayErrorImage(); // \n    },\n    showSelectdisconnectDriver(drivername) {\n      this.showDisconnectDialog = true;\n      this.currentDisconnectDriverName = drivername;\n    },\n    confirmDisconnect() {\n      this.sendMessage('Vue_Command', 'disconnectSelectDriver:' + this.currentDisconnectDriverName);\n      this.showDisconnectDialog = false;\n    },\n\n    // \n    handleMainCanvasClick(event) {\n      // this.SendConsoleLogMsg(':', 'info');\n      if (!this.enableMainCanvasClick || this.isDragging || this.drawImgData == null) return; // \n      // console.log(':', event);\n      const canvas = this.$refs.mainCanvas;\n      if (!canvas) return; //  canvas \n      const rect = canvas.getBoundingClientRect();//  canvas \n      const x = event.clientX - rect.left;\n      const y = event.clientY - rect.top;\n      console.log('Mouse clicked at:', x, y);\n      if (!this.isFocusLoopShooting) {\n        this.ROI_x = (x / window.innerWidth * this.visibleWidth - this.RedBoxSideLength / 2 / this.cameraBin) + this.visibleX - this.visibleWidth / 2;  // ROIx\n        this.ROI_y = (y / window.innerHeight * this.visibleHeight - this.RedBoxSideLength / 2 / this.cameraBin) + this.visibleY - this.visibleHeight / 2; // ROIy\n        // this.$bus.$emit('setRedBoxPosition', x, y, this.ROI_x, this.ROI_y);\n      } else {\n        this.selectStarX = ((x / window.innerWidth * this.visibleWidth) + this.visibleX - this.visibleWidth / 2 - this.ROI_x)*this.cameraBin; // x\n        this.selectStarY = ((y / window.innerHeight * this.visibleHeight) + this.visibleY - this.visibleHeight / 2 - this.ROI_y)*this.cameraBin; // y\n\n        if (this.selectStarX >= 0 && this.selectStarX < this.RedBoxSideLength  &&\n          this.selectStarY >= 0 && this.selectStarY < this.RedBoxSideLength ) {\n          this.SendConsoleLogMsg('Select Star is in ROI', 'info');\n        } else {\n          this.SendConsoleLogMsg('Select Star is not in ROI', 'error');\n          this.selectStarX = -1;\n          this.selectStarY = -1;\n        }\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendSelectStars:' + this.selectStarX + ':' + this.selectStarY);\n      }\n      this.drawImageData();\n    },\n\n    // \n    handleMouseDown(event) {\n      // this.SendConsoleLogMsg(':', 'info');\n      if (this.isDragging || this.drawImgData == null) return;\n      this.isDragging = true;\n      this.startX = event.clientX;\n      this.startY = event.clientY;\n      this.currentX = event.clientX;\n      this.currentY = event.clientY;\n\n      // 100ms\n      this.moveIntervalId = setInterval(() => {\n        if (!this.isDragging) return;\n\n        const dx = this.startX - this.currentX;\n        const dy = this.startY - this.currentY;\n        if (isNaN(dx) || isNaN(dy)) {\n          return;\n        }\n        let newVisibleX = this.visibleX + dx / window.innerWidth * this.visibleWidth;\n        let newVisibleY = this.visibleY + dy / window.innerHeight * this.visibleHeight;\n        if (newVisibleX < 0) {\n          newVisibleX = 0;\n        }\n        if (newVisibleY < 0) {\n          newVisibleY = 0;\n        }\n        if (newVisibleX > this.mainCameraSizeX) {\n          newVisibleX = this.mainCameraSizeX;\n        }\n        if (newVisibleY > this.mainCameraSizeY) {\n          newVisibleY = this.mainCameraSizeY;\n        }\n\n        this.visibleX = newVisibleX;\n        this.visibleY = newVisibleY;\n\n        this.startX = this.currentX;\n        this.startY = this.currentY;\n        this.drawImageData();\n        // this.SendConsoleLogMsg(',:' + dx + ',' + dy, 'info');\n      }, 100);\n    },\n    handleMouseMove(event) {\n      // this.SendConsoleLogMsg(':', 'info');\n      if (!this.isDragging) return;\n      this.currentX = event.clientX;\n      this.currentY = event.clientY;\n    },\n    handleMouseUp(event) {\n      // this.SendConsoleLogMsg(':', 'info');\n      this.isDragging = false;\n\n      // \n      clearInterval(this.moveIntervalId);\n      this.moveIntervalId = null;\n    },\n    handleWheel(event) {\n      // this.SendConsoleLogMsg(':', 'info');\n      if (this.drawImgData == null) return;\n      const scaleChange = event.deltaY > 0 ? 0.1 : -0.1; // \n      let newScale = this.scale + scaleChange; // \n      if (newScale < 0.1) {\n        newScale = 0.1;\n      }\n      if (newScale > 1) {\n        newScale = 1;\n      }\n\n      // \n      if (this.pendingScaleChange) {\n        return;\n      }\n\n      // \n      this.pendingScaleChange = true;\n\n      //  requestAnimationFrame \n      requestAnimationFrame(() => {\n        if (newScale != this.scale) {\n          this.scale = newScale; // \n          this.$bus.$emit('setScale', this.scale);\n          this.drawImageData();\n          this.SendConsoleLogMsg(',:' + newScale, 'info');\n        } else {\n          this.SendConsoleLogMsg(',:' + this.scale, 'info');\n        }\n        this.pendingScaleChange = false; // \n      });\n    },\n\n    handleMainCanvasTouch(event) {\n      // this.SendConsoleLogMsg(':', 'info');\n      if (!this.enableMainCanvasClick || this.isDragging || this.drawImgData == null) return; // \n      // console.log(':', event);\n      if (!this.enableMainCanvasClick || !event.touches || event.touches.length === 0) return;\n      const canvas = this.$refs.mainCanvas;\n      if (!canvas) return; //  canvas \n      const touch = event.touches[0];\n      const rect = canvas.getBoundingClientRect();//  canvas \n      const x = touch.clientX - rect.left;\n      const y = touch.clientY - rect.top;\n      console.log('Touch at:', x, y);\n      event.preventDefault();// \n      if (!this.isFocusLoopShooting) {\n        this.ROI_x = (x / window.innerWidth * this.visibleWidth - this.RedBoxSideLength / 2 / this.cameraBin) + this.visibleX - this.visibleWidth / 2 ;  // ROIx\n        this.ROI_y = (y / window.innerHeight * this.visibleHeight - this.RedBoxSideLength / 2 / this.cameraBin) + this.visibleY - this.visibleHeight / 2 ; // ROIy\n        // this.$bus.$emit('setRedBoxPosition', x, y, this.ROI_x, this.ROI_y);\n      } else {\n        this.selectStarX = ((x / window.innerWidth * this.visibleWidth) + this.visibleX - this.visibleWidth / 2 - this.ROI_x)*this.cameraBin; // x\n        this.selectStarY = ((y / window.innerHeight * this.visibleHeight) + this.visibleY - this.visibleHeight / 2 - this.ROI_y)*this.cameraBin; // y\n\n        if (this.selectStarX >= 0 && this.selectStarX < this.RedBoxSideLength  &&\n          this.selectStarY >= 0 && this.selectStarY < this.RedBoxSideLength ) {\n          this.SendConsoleLogMsg('Select Star is in ROI', 'info');\n        } else {\n          this.SendConsoleLogMsg('Select Star is not in ROI', 'error');\n          this.selectStarX = -1;\n          this.selectStarY = -1;\n        }\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendSelectStars:' + this.selectStarX + ':' + this.selectStarY);\n      }\n      this.drawImageData();\n    },\n    handleTouchStart(event) {\n      if (this.drawImgData == null) return;\n      // this.SendConsoleLogMsg(':', 'info');\n      if (event.touches.length === 1) { // \n        this.isOneTouch = true;\n        // this.SendConsoleLogMsg('', 'info');\n        this.isDragging = true;\n        this.startTouchX[0] = event.touches[0].clientX;\n        this.startTouchY[0] = event.touches[0].clientY;\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        // \n        if (this.zoomIntervalId) {\n          clearInterval(this.zoomIntervalId);\n          this.zoomIntervalId = null;\n        }\n\n\n        this.handleMainCanvasTouch(event);\n      } else if (event.touches.length >= 2) { // \n        this.isOneTouch = false;\n        // this.SendConsoleLogMsg('', 'info');\n        this.isDragging = true;\n        // \n        const dx = this.currentTouchX[0] - this.currentTouchX[1];\n        const dy = this.currentTouchY[0] - this.currentTouchY[1];\n        this.startTouchDistance = Math.sqrt(dx * dx + dy * dy);\n        // \n        if (this.moveIntervalId) {\n          clearInterval(this.moveIntervalId);\n          this.moveIntervalId = null;\n        }\n\n\n      } else {\n        // this.SendConsoleLogMsg(':' + event.touches.length, 'info');\n      }\n\n    },\n\n    handleTouchMove(event) {\n      // this.SendConsoleLogMsg(':', 'info');\n      if (!this.isDragging || this.drawImgData == null) return;\n      if (event.touches.length == 1) {\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        if (this.zoomIntervalId) {\n          clearInterval(this.zoomIntervalId);\n          this.zoomIntervalId = null;\n        }\n        if (this.moveIntervalId != null) {\n          return;\n        }\n        // 100ms\n        this.moveIntervalId = setInterval(() => {\n          // console.log('!');\n          if (!this.isDragging || !this.isOneTouch) return;\n\n          const dx = this.startTouchX[0] - this.currentTouchX[0];\n          const dy = this.startTouchY[0] - this.currentTouchY[0];\n          if (isNaN(dx) || isNaN(dy)) {\n            return;\n          }\n          if (dx == 0 && dy == 0) {\n            return;\n          }\n\n          let newVisibleX = this.visibleX + dx / window.innerWidth * this.visibleWidth;\n          let newVisibleY = this.visibleY + dy / window.innerHeight * this.visibleHeight;\n          if (newVisibleX < 0) {\n            newVisibleX = 0;\n          }\n          if (newVisibleY < 0) {\n            newVisibleY = 0;\n          }\n          if (newVisibleX > this.mainCameraSizeX) {\n            newVisibleX = this.mainCameraSizeX;\n          }\n          if (newVisibleY > this.mainCameraSizeY) {\n            newVisibleY = this.mainCameraSizeY;\n          }\n\n          this.visibleX = newVisibleX;\n          this.visibleY = newVisibleY;\n\n          this.startTouchX[0] = this.currentTouchX[0];\n          this.startTouchY[0] = this.currentTouchY[0];\n\n          this.drawImageData();\n        }, 100);\n\n      } else if (event.touches.length >= 2) {\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        this.currentTouchX[1] = event.touches[1].clientX;\n        this.currentTouchY[1] = event.touches[1].clientY;\n\n        // \n        if (this.moveIntervalId) {\n          clearInterval(this.moveIntervalId);\n          this.moveIntervalId = null;\n        }\n        if (this.zoomIntervalId != null) {\n          return;\n        }\n        // 100ms\n        this.zoomIntervalId = setInterval(() => {\n          if (!this.isDragging || !this.isOneTouch) return;\n          const dx = this.currentTouchX[0] - this.currentTouchX[1];\n          const dy = this.currentTouchY[0] - this.currentTouchY[1];\n          const distance = Math.sqrt(dx * dx + dy * dy);\n          this.SendConsoleLogMsg(' distance:' + distance, 'info');\n          if (this.startTouchDistance == 0) {\n            this.startTouchDistance = distance;\n          }\n          // \n          const scaleChange = distance / this.startTouchDistance;\n          this.SendConsoleLogMsg(' scaleChange:' + scaleChange, 'info');\n          let newScale = this.scale * scaleChange; // \n          if (newScale < 0.1) {\n            newScale = 0.1;\n          }\n          if (newScale > 1) {\n            newScale = 1;\n          }\n          if (newScale != this.scale) {\n            this.SendConsoleLogMsg(',:' + newScale, 'info');\n            this.scale = newScale; // \n            this.$bus.$emit('setScale', this.scale);\n            this.drawImageData();\n          } else {\n            this.SendConsoleLogMsg(',:' + this.scale, 'info');\n          }\n          this.startTouchDistance = distance; // \n        }, 100);\n      } else {\n        this.SendConsoleLogMsg(':' + event.touches.length, 'info');\n      }\n    },\n\n    handleTouchEnd(event) {\n      // this.SendConsoleLogMsg(':', 'info');\n      this.isDragging = false; // \n      // \n      if (this.moveIntervalId) {\n        clearInterval(this.moveIntervalId);\n        this.moveIntervalId = null;\n      }\n      if (this.zoomIntervalId) {\n        clearInterval(this.zoomIntervalId);\n        this.zoomIntervalId = null;\n      }\n    },\n\n    ScaleChange(type) {\n      if (this.drawImgData == null) return;\n      if (type == '+') {\n        this.scale -= 0.1;\n      } else if (type == '-') {\n        this.scale += 0.1;\n      }\n      if (this.scale < 0.1) {\n        this.scale = 0.1;\n      }\n      if (this.scale > 1) {\n        this.scale = 1;\n      }\n      this.$bus.$emit('setScale', this.scale);\n      this.drawImageData();\n    },\n\n    // ROI\n    showRoiImage(fileName, destX, destY) {\n      if (this.RedBoxSideLength == 0 || this.RedBoxSideLength == null) {\n        this.SendConsoleLogMsg('RedBoxSideLength is 0 or null', 'error');\n        return;\n      }\n      if (this.isProcessingImage) {\n        this.SendConsoleLogMsg('Image is being transmitted, current processing is slow, skipping one frame.', 'warning');\n        return;\n      }\n      this.isProcessingImage = true;\n      const imagePath = 'img/' + fileName;\n      // AbortControllerfetch\n      const fetchController = new AbortController();\n      const fetchSignal = fetchController.signal;\n\n      // const startDownloadTime = performance.now();\n\n      //  fetch API \n      fetch(imagePath, { cache: 'no-store', signal: fetchSignal })\n        .then(response => response.arrayBuffer())\n        .then(buffer => {\n          // const endDownloadTime = performance.now();\n          // const downloadTime = endDownloadTime - startDownloadTime;\n          if (this.isFocusLoopShooting) this.$bus.$emit('AppSendMessage', 'Vue_Command', 'showRoiImageSuccess:true');\n          else this.$bus.$emit('AppSendMessage', 'Vue_Command', 'showRoiImageSuccess:false');\n          let time1 = performance.now();\n          let src, imgData, targetImg8;\n          try {\n            const uint16Array = new Uint16Array(buffer);\n            let newWidth = parseInt(this.RedBoxSideLength / this.cameraBin);\n            let newHeight = parseInt(this.RedBoxSideLength / this.cameraBin);\n            if (newWidth % 2 != 0 ) {\n              newWidth = newWidth - 1;\n            }\n            if (newHeight % 2 != 0 ) {\n              newHeight = newHeight - 1;\n            }\n            if (uint16Array.length !== newWidth * newHeight) {\n              this.SendConsoleLogMsg('uint16Array.length (' + uint16Array.length + ') !== newWidth * newHeight (' + newWidth * newHeight + ')', 'error');\n              return;\n            }\n            //  Mat \n            src = new cv.Mat(newHeight, newWidth, cv.CV_16UC1);\n            src.data16U.set(uint16Array);\n            let time2 = performance.now();\n            this.SendConsoleLogMsg('mat: ' + (time2 - time1).toFixed(0) + 'ms', 'info');\n            if (this.lastImageProcessParams.isColorCamera) {\n              targetImg8 = this.applyStretchAndGain(src, this.lastImageProcessParams.analysis, 'bayer', this.lastImageProcessParams.CFA, this.lastImageProcessParams.blackLevel, this.lastImageProcessParams.whiteLevel);\n            } else {\n              targetImg8 = this.applyStretchAndGain(src, this.lastImageProcessParams.analysis, 'gray', this.lastImageProcessParams.CFA, this.lastImageProcessParams.blackLevel, this.lastImageProcessParams.whiteLevel);\n            }\n            time1 = performance.now();\n            this.SendConsoleLogMsg('applyStretchAndGain: ' + (time1 - time2).toFixed(0) + 'ms', 'info');\n            src.delete();\n            src = null;\n\n            //  Mat  ImageData \n            imgData = new ImageData(new Uint8ClampedArray(targetImg8.data), targetImg8.cols, targetImg8.rows);\n            targetImg8.delete();\n            targetImg8 = null;\n            // \n            this.bufferCtx.clearRect(this.ROI_x, this.ROI_y, newWidth, newHeight);\n            this.bufferCtx.putImageData(imgData, this.ROI_x, this.ROI_y);\n            // this.SendConsoleLogMsg('ROI:' + fileName + ':' + this.ROI_x + ':' + this.ROI_y, 'info');\n            // \n            // time2 = performance.now();\n            // this.SendConsoleLogMsg(': ' + (time2 - time1).toFixed(0) + 'ms', 'info');\n            this.drawImageData();\n            // time1 = performance.now();\n            // this.SendConsoleLogMsg('drawImageData: ' + (time1 - time2).toFixed(0) + 'ms', 'info');\n            this.focuserPictureFileName = fileName;\n            // const processTime = performance.now() - downloadTime;\n            // this.SendConsoleLogMsg(`ROI : ${downloadTime.toFixed(0)}ms, : ${processTime.toFixed(0)}ms`, 'info');\n\n          } catch (error) {\n            console.error(`: ${imagePath}`, error);\n          } finally {\n            //  Mat  ImageData \n            if (src && !src.isDeleted()) {\n              src.delete();\n              src = null; //  src \n            }\n            if (targetImg8 && !targetImg8.isDeleted()) {\n              targetImg8.delete();\n              targetImg8 = null; //  originalImg8 \n            }\n            //  buffer \n            buffer = null;\n            this.isProcessingImage = false;\n          }\n        })\n        .catch(error => {\n          if (error.name === 'AbortError') {\n            console.log('Fetch request cancelled');\n          } else {\n            console.error(`: ${imagePath}`, error);\n          }\n          this.isProcessingImage = false;\n        });\n\n      //  fetch \n      this.$once('hook:beforeDestroy', () => {\n        fetchController.abort();\n      });\n    },\n    setRedBoxState(length, x, y) {\n      this.SendConsoleLogMsg('setRedBoxState:' + length + ',' + x + ',' + y, 'info');\n      this.$bus.$emit('setRedBoxPosition', x, y);\n      this.$bus.$emit('setRedBoxSideLength', length);\n    },\n    setFocuserState(state) {\n      if (state === 'selectstars') {\n        this.isFocusLoopShooting = true;\n      } else {\n        this.isFocusLoopShooting = false;\n      }\n    },\n    setShowSelectStar(state) {\n      this.showSelectStar = state;\n    },\n    RedBoxSizeChange(length) {\n      this.RedBoxSideLength = parseInt(length);\n    },\n    setMainCameraParameters(parameters) {\n      for (const parameter in parameters) {\n        const item = this.MainCameraConfigItems.find(item => item.label === parameter);\n        if (item) {\n          item.value = parameters[parameter];\n        } else {\n          if (parameter == 'RedBoxSize') {\n            this.$bus.$emit('setRedBoxSideLength', parameters[parameter]);\n          } else {\n            console.error(`${parameter}`);\n          }\n        }\n      }\n      this.confirmConfiguration(this.MainCameraConfigItems);\n    },\n    showCanvas(canvas) {\n      if (canvas === 'Stel') {\n        this.currentcanvas = 'Stel';\n        this.showStelCanvas();\n      }\n      else if (canvas === 'MainCamera') {\n\n        this.currentcanvas = 'MainCamera';\n        this.showMainCameraCanvas();\n        this.drawImageData()\n      }\n      else if (canvas === 'GuiderCamera') {\n        this.currentcanvas = 'GuiderCamera';\n        this.showGuiderCameraCanvas();\n      } else {\n        this.SendConsoleLogMsg(\"unknown canvas: \" + canvas, 'error');\n      }\n    },\n    // \n    decrementAndNotify(item) {\n      if (item.value > item.inputMin) {\n        item.value -= item.inputStep;\n        this.handleConfigChange(item.label, item.value);\n      }\n    },\n\n    incrementAndNotify(item) {\n      if (item.value < item.inputMax) {\n        item.value += item.inputStep;\n        this.handleConfigChange(item.label, item.value);\n      }\n    },\n\n    // \n    handleConfigChange(label, value) {\n      console.log(`: ${label} = ${value}`);\n      if (value !== '') {\n        // console.log(item.label, item.value);\n        this.SendConsoleLogMsg(label + ':' + value, 'info');\n        this.$bus.$emit(label, label + ':' + value);\n      } else if (value == '' && label === 'Focal Length (mm)') {\n        this.SendConsoleLogMsg(label + 'is NULL', 'info');\n        this.$bus.$emit(item.label, item.label + ':');\n      }\n    },\n      // \n  startCalibrationProcess() {\n    this.calibrationInfo.isCalibrating = true;\n    this.calibrationInfo.calibrationState = 'running';\n    this.calibrationInfo.calibrationStep = 0;\n    this.calibrationInfo.calibrationMessage = this.$t('Preparing to start focuser travel calibration...');\n    console.log('App: Calibration started:', this.calibrationInfo);\n  },\n\n  updateCalibrationInfo(step, message, state) {\n    try {\n      this.calibrationInfo.calibrationStep = step;\n      // \n      if (message && typeof message === 'string') {\n        this.calibrationInfo.calibrationMessage = this.$t(message);\n      } else {\n        this.calibrationInfo.calibrationMessage = message;\n      }\n      if (state) {\n        this.calibrationInfo.calibrationState = state;\n      }\n      if (step === 0) {\n        this.calibrationInfo.isCalibrating = true;\n      }\n      console.log('App: Calibration info updated:', this.calibrationInfo);\n    } catch (error) {\n      console.error('Error in updateCalibrationInfo:', error);\n    }\n  },\n\n  endCalibration() {\n    this.calibrationInfo.isCalibrating = false;\n    this.calibrationInfo.calibrationState = 'idle';\n    this.calibrationInfo.calibrationStep = 0;\n    this.calibrationInfo.calibrationMessage = '';\n    console.log('App: Calibration ended');\n  },\n  },\n  computed: {\n    nav: {\n      get: function () {\n        console.log('nav:', this.$store.state.showNavigationDrawer);\n        return this.$store.state.showNavigationDrawer\n      },\n      set: function (v) {\n        if (this.$store.state.showNavigationDrawer !== v) {\n          console.log('nav:', this.$store.state.showNavigationDrawer);\n          this.$store.commit('toggleBool', 'showNavigationDrawer')\n        }\n      }\n    },\n    storeCurrentLocation: function () {\n      return this.$store.state.currentLocation\n    },\n    getQTClientVersionColor() {\n      if (this.QTClientVersion === 'Not connected') {\n        return 'rgba(255, 0, 0, 0.5)'; //  0.5\n      } else {\n        return 'rgba(255, 255, 255, 0.5)'; //  0.5\n      }\n    },\n\n\n  },\n  watch: {\n    storeCurrentLocation: function (loc) {\n      const DD2R = Math.PI / 180\n      this.$stel.core.observer.latitude = loc.lat * DD2R\n      this.$stel.core.observer.longitude = loc.lng * DD2R\n      this.$stel.core.observer.elevation = loc.alt\n\n      // At startup, we need to wait for the location to be set before deciding which\n      // startup time to set so that it's night time.\n      if (!this.startTimeIsSet) {\n        this.$stel.core.observer.utc = swh.getTimeAfterSunset(this.$stel)\n        this.startTimeIsSet = true\n      }\n      // Init of time and date is complete\n      this.$store.commit('setValue', { varName: 'initComplete', newValue: true })\n    },\n    $route: function () {\n      // react to route changes...\n      this.setStateFromQueryArgs()\n    },\n    CurrentDriverType(newVal) {\n      //  CurrentDriverType  selectedDriver\n      this.updateSelectedDriver(newVal);\n    }\n  },\n  mounted: function () {\n    // // \n    // document.addEventListener('touchstart', this.preventDefault, { passive: false });\n    // document.addEventListener('touchmove', this.preventDefault, { passive: false });\n    // document.addEventListener('touchend', this.preventDefault, { passive: false });\n\n    // // \n    // document.addEventListener('mousedown', this.preventDefault, { passive: false });\n    // document.addEventListener('mousemove', this.preventDefault, { passive: false });\n    // document.addEventListener('mouseup', this.preventDefault, { passive: false });\n\n    // // \n    // document.addEventListener('wheel', this.preventDefault, { passive: false });\n\n    let that = this\n\n    this.getLocationHostName();\n\n    this.loadImageToCanvasMainCamera();\n    this.loadImageToCanvasGuiderCamera();\n\n    this.initCanvas();\n    this.addEventListeners();\n\n    for (const i in this.$stellariumWebPlugins()) {\n      const plugin = this.$stellariumWebPlugins()[i]\n      if (plugin.onAppMounted) {\n        plugin.onAppMounted(that)\n      }\n    }\n\n    this.connect();\n    this.setupNetworkStatusListener();\n\n    //  Promise  OpenCV.js \n    this.loadOpenCv().then(() => {\n      if (!this._isDestroyed) { // \n        console.log('OpenCV.js is ready');\n        this.onCvReady();  //  OpenCV \n      }\n    }).catch(error => {\n      console.error('Error loading OpenCV.js:', error);\n    });\n\n    // const script = document.createElement('script');\n    // script.src = 'https://docs.opencv.org/4.5.5/opencv.js';\n    // script.async = true;\n    // script.onload = () => this.onCvReady();\n    // document.head.appendChild(script);\n\n    import('@/assets/js/stellarium-web-engine.wasm').then(f => {\n      if (!this._isDestroyed) { // \n        // Initialize the StelWebEngine viewer singleton\n        // After this call, the StelWebEngine state will always be available in vuex store\n        // in the $store.stel object in a reactive way (useful for vue components).\n        // To modify the state of the StelWebEngine, it's enough to call/set values directly on the $stel object\n        try {\n          swh.initStelWebEngine(that.$store, f.default, that.$refs.stelCanvas, function () {\n            // Start auto location detection (even if we don't use it)\n            swh.getGeolocation().then(p => swh.geoCodePosition(p, that)).then((loc) => {\n              that.$store.commit('setAutoDetectedLocation', loc)\n            }, (error) => { console.log(error) })\n\n            that.$stel.setFont('regular', process.env.BASE_URL + 'fonts/Roboto-Regular.ttf', 1.38)\n            that.$stel.setFont('bold', process.env.BASE_URL + 'fonts/Roboto-Bold.ttf', 1.38)\n            that.$stel.core.constellations.show_only_pointed = false\n\n            that.setStateFromQueryArgs()\n            that.guiComponent = 'Gui'\n            for (const i in that.$stellariumWebPlugins()) {\n              const plugin = that.$stellariumWebPlugins()[i]\n              if (plugin.onEngineReady) {\n                plugin.onEngineReady(that)\n              }\n            }\n\n            if (!that.dataSourceInitDone) {\n              // Set all default data sources\n              const core = that.$stel.core\n              core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars' })\n              core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars_base' })\n              core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars_extend' })\n              core.dss.addDataSource({ url: process.env.BASE_URL + 'skydata/dss/v1' })\n              // core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars' })\n\n              // Allow to specify a custom path for sky culture data\n              if (that.$route.query.sc) {\n                const key = that.$route.query.sc.substring(that.$route.query.sc.lastIndexOf('/') + 1)\n                core.skycultures.addDataSource({ url: that.$route.query.sc, key: key })\n                core.skycultures.current_id = key\n              } else {\n                core.skycultures.addDataSource({ url: process.env.BASE_URL + 'skydata/skycultures/western', key: 'western' })\n              }\n\n              core.dsos.addDataSource({ url: process.env.BASE_URL + 'skydata/dso' })\n              core.landscapes.addDataSource({ url: process.env.BASE_URL + 'skydata/landscapes/guereins', key: 'guereins' })\n              core.milkyway.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/milkyway' })\n              // core.dss.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/dss' })\n              core.minor_planets.addDataSource({ url: process.env.BASE_URL + 'skydata/mpcorb.dat', key: 'mpc_asteroids' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/moon', key: 'moon' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/sun', key: 'sun' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/moon', key: 'default' })\n              core.comets.addDataSource({ url: process.env.BASE_URL + 'skydata/CometEls.txt', key: 'mpc_comets' })\n              core.satellites.addDataSource({ url: process.env.BASE_URL + 'skydata/tle_satellite.jsonl.gz', key: 'jsonl/sat' })\n\n              // Mount Pointing\n              glStel = that.setGloabalStel(that.$stel);\n              glLayer = that.setGlobalLayer(that.$stel);\n              glTestCircle = that.testAddCircle(that.$stel, glLayer);\n\n            }\n          })\n        } catch (e) {\n          this.$store.commit('setValue', { varName: 'wasmSupport', newValue: false })\n        }\n      }\n    });\n\n    window.addEventListener('load', () => {\n      // \n      this.SendConsoleLogMsg('', 'info');\n      this.$bus.$emit('AppSendMessage', 'Process_Command_Return','VueClientVersion:'+process.env.VUE_APP_VERSION);\n    })\n\n    document.addEventListener('DOMContentLoaded', () => {\n      // DOM\n      this.SendConsoleLogMsg('DOM', 'info');\n    })\n\n  },\n  // \n  beforeDestroy() {\n    document.removeEventListener('touchstart', this.preventDefault);\n    document.removeEventListener('touchmove', this.preventDefault);\n    document.removeEventListener('touchend', this.preventDefault);\n\n    document.removeEventListener('mousedown', this.preventDefault);\n    document.removeEventListener('mousemove', this.preventDefault);\n    document.removeEventListener('mouseup', this.preventDefault);\n\n    document.removeEventListener('wheel', this.preventDefault);\n    \n    // \n    if (this.calibrationCircles) {\n      this.calibrationCircles.forEach(circle => {\n        if (glLayer && circle) {\n          glLayer.remove(circle);\n        }\n      });\n      this.calibrationCircles = [];\n    }\n    \n    if (this.adjustmentCircles) {\n      this.adjustmentCircles.forEach(circle => {\n        if (glLayer && circle) {\n          glLayer.remove(circle);\n        }\n      });\n      this.adjustmentCircles = [];\n    }\n    \n    // \n    this.stopFieldUpdateTimer();\n  },\n\n\n}\n</script>\n\n<style>\nbody {\n  background-color: black;\n  /*  */\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  /*  */\n  /* touch-action: none;\n  -ms-touch-action: none; */\n\n  /*  */\n  -webkit-tap-highlight-color: transparent;\n\n  /*  */\n  overscroll-behavior: none;\n  -webkit-overflow-scrolling: touch;\n\n  /*  */\n  -webkit-touch-callout: none;\n\n  /*  */\n  -webkit-user-drag: none;\n  -khtml-user-drag: none;\n  -moz-user-drag: none;\n  -o-user-drag: none;\n}\n\n/*  */\ncanvas {\n  /* touch-action: none;\n  -ms-touch-action: none; */\n  -webkit-tap-highlight-color: transparent;\n  -webkit-user-drag: none;\n}\n\n/*  */\n/* * {\n  touch-action: none;\n  -ms-touch-action: none;\n} */\n\na {\n  color: #82b1ff;\n}\n\na:link {\n  text-decoration-line: none;\n}\n\n.divider_menu {\n  margin-top: 8px;\n  margin-bottom: 8px;\n}\n\nhtml {\n  overflow-y: visible;\n}\n\nhtml,\nbody,\n#app {\n  overflow-y: visible !important;\n  overflow-x: visible;\n  position: fixed !important;\n  width: 100%;\n  height: 100%;\n  padding: 0 !important;\n  font-size: 10px;\n}\n\n.fullscreen {\n  overflow-y: hidden;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  padding: 0 !important;\n}\n\n.click-through {\n  pointer-events: none;\n}\n\n.get-click {\n  pointer-events: all;\n}\n\n.dialog {\n  background: transparent;\n}\n\n.menu__content {\n  background-color: transparent !important;\n}\n\n#stel {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n}\n\n#stel-canvas {\n  width: 100%;\n  height: 100%;\n}\n\n#mainCamera-canvas {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n#guiderCamera-canvas {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.right_panel {\n  padding-right: 400px;\n}\n\n.v-btn {\n  margin-left: 8px;\n  margin-right: 8px;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n\n.v-application--wrap {\n  min-height: 100% !important;\n}\n\n\n.my-custom-button {\n  background-color: #4CAF50;\n  /*  */\n  color: white;\n  /*  */\n  padding: 15px 32px;\n  /*  */\n  text-align: center;\n  /*  */\n  text-decoration: none;\n  /*  */\n  display: inline-block;\n  /*  */\n  font-size: 16px;\n  /*  */\n  margin: 4px 2px;\n  /*  */\n  cursor: pointer;\n  /*  */\n  border: none;\n  /*  */\n}\n\n.connected-device {\n  color: #4dc251;\n}\n\n.btn-confirm {\n  width: 60px;\n  height: 30px;\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n}\n\n.btn-slider {\n  width: 20px;\n  height: 20px;\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n}\n\n.btn-confirm:active,\n.btn-slider:active {\n  transform: scale(0.95);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n\n/*  */\n.config-item {\n  text-align: center;\n  width: 100%;\n  margin-bottom: 5px;\n}\n\n/*  */\n.config-title {\n  display: inline-block;\n  font-size: 15px;\n  color: rgba(255, 255, 255, 0.5);\n  user-select: none;\n  margin-top: 10px;\n  margin-bottom: 5px;\n}\n\n/*  */\n.config-input {\n  width: 150px;\n  display: inline-block;\n  margin: 5px 0;\n}\n\n/*  */\n.slider-container {\n  text-align: left;\n  height: 30px;\n  width: 150px;\n  display: inline-block;\n  margin-bottom: 20px;\n  position: relative;\n}\n\n/*  */\n.slider-label {\n  display: inline-block;\n  font-size: 15px;\n  color: rgba(255, 255, 255, 0.5);\n  user-select: none;\n  margin-bottom: 5px;\n}\n\n/*  */\n.slider-control {\n  position: absolute;\n  left: 30px;\n  width: calc(100% - 60px);\n}\n\n/*  */\n.btn-minus {\n  position: absolute;\n  left: 5px;\n  transform: translateY(5px);\n}\n\n/*  */\n.btn-plus {\n  position: absolute;\n  right: 5px;\n  transform: translateY(5px);\n}\n\n/*  */\n.btn-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n/*  */\n.btn-icon {\n  min-height: 10px;\n  pointer-events: none;\n}\n\n/*  */\n.config-switch {\n  width: 150px;\n  display: inline-block;\n  margin-bottom: 0;\n  margin-top: 0;\n}\n\n/*  */\n.config-items-container::-webkit-scrollbar {\n  width: 6px;\n}\n\n.config-items-container::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 3px;\n}\n\n.config-items-container::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 3px;\n}\n\n.config-items-container::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.5);\n}\n\n/* Firefox */\n.config-items-container {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1);\n}\n\n/*  */\n.params-container {\n  overflow-y: auto;\n  height: 100%;\n}\n\n.params-container::-webkit-scrollbar {\n  width: 6px;\n}\n\n.params-container::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 3px;\n}\n\n.params-container::-webkit-scrollbar-thumb {\n  background: white;\n  border-radius: 3px;\n}\n\n.params-container::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.8);\n}\n\n/* Firefox */\n.params-container {\n  scrollbar-width: thin;\n  scrollbar-color: white rgba(0, 0, 0, 0.1);\n}\n\n/*  */\n.calibration-info-box {\n  position: fixed;\n  top: 50vh;\n  left: 50vw;\n  transform: translate(-50%, -50%);\n  background-color: rgba(0, 0, 0, 0.9);\n  backdrop-filter: blur(15px);\n  border: 2px solid rgba(255, 165, 0, 0.8);\n  border-radius: 15px;\n  padding: 25px;\n  z-index: 10001;\n  min-width: 350px;\n  max-width: 450px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n}\n\n.calibration-content {\n  text-align: center;\n  color: white;\n}\n\n.calibration-title {\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 20px;\n  color: #FFA500;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n}\n\n.calibration-message {\n  font-size: 16px;\n  line-height: 1.6;\n  margin-bottom: 20px;\n  color: #FFFFFF;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n}\n\n.calibration-progress {\n  font-size: 14px;\n  color: #FFA500;\n  font-weight: bold;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n}\n</style>\n"],"sourceRoot":"src"}]}